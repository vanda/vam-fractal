{"version":3,"sources":["src/assets/scripts/node_modules/browser-pack/_prelude.js","src/assets/scripts/node_modules/browser-cookies/src/browser-cookies.js","src/assets/scripts/node_modules/clamp-js/clamp.js","src/assets/scripts/node_modules/querystring-es3/decode.js","src/assets/scripts/node_modules/querystring-es3/encode.js","src/assets/scripts/node_modules/querystring-es3/index.js","src/assets/scripts/node_modules/smooth-scroll/dist/js/smooth-scroll.min.js","src/assets/scripts/node_modules/svg4everybody/dist/svg4everybody.js","src/assets/scripts/node_modules/vanilla-lazyload/dist/lazyload.min.js","src/assets/scripts/src/assets/scripts/vam-scripts.js","src/assets/scripts/src/components/blocks/background-video/_background-video.js","src/assets/scripts/src/components/blocks/cookie-banner/_cookie-banner.js","src/assets/scripts/src/components/blocks/facet-box/_facet-box.js","src/assets/scripts/src/components/blocks/image-carousel/_image-carousel.js","src/assets/scripts/src/components/blocks/image-overlay-license-modal/_image-overlay-license-modal.js","src/assets/scripts/src/components/blocks/modal/_modal.js","src/assets/scripts/src/components/blocks/newsletter-signup/_newsletter-signup.js","src/assets/scripts/src/components/blocks/object-card/_object-card.js","src/assets/scripts/src/components/blocks/object-details/object-details.js","src/assets/scripts/src/components/blocks/object-image-overlay/_object-image-overlay.js","src/assets/scripts/src/components/blocks/object-shuffler/_object-shuffler.js","src/assets/scripts/src/components/blocks/search-form/_search-form.js","src/assets/scripts/src/components/blocks/search-pagination/_search-pagination.js","src/assets/scripts/src/components/blocks/search-result/_search-result.js","src/assets/scripts/src/components/blocks/search-results/_search-results.js","src/assets/scripts/src/components/blocks/site-nav/_site-nav.js","src/assets/scripts/src/components/blocks/toggle-nav/_toggle-nav.js","src/assets/scripts/src/components/blocks/video-thumbnail/_video-thumbnail.js","src/assets/scripts/src/components/blocks/video-trailer/_video-trailer.js","src/assets/scripts/src/components/groups/block-grid/_grid-reveal-more.js","src/assets/scripts/src/components/groups/facet-box-modal/_facet-box-modal.js","src/assets/scripts/src/components/groups/image-overlay/_image-overlay.js","src/assets/scripts/src/components/groups/story-box-container/_story-box-container.js","src/assets/scripts/src/components/services/object_fit_polyfill/_poly-object-fit.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","defaults","set","name","value","options","opts","expires","domain","path","undefined","secure","httponly","samesite","expDate","Date","getTime","document","cookie","replace","encodeURIComponent","toUTCString","get","cookies","split","pop","separatorIndex","indexOf","decodeURIComponent","slice","erase","all","root","factory","this","element","truncationHTMLContainer","win","window","opt","clamp","useNativeClamp","splitOnChars","animate","truncationChar","truncationHTML","sty","style","originalText","innerHTML","supportsNativeClamp","clampValue","isCSSValue","computeStyle","elem","prop","getComputedStyle","el","pseudo","getPropertyValue","re","test","arguments","toUpperCase","currentStyle","getMaxLines","height","availHeight","clientHeight","lineHeight","getLineHeight","Math","max","floor","lh","parseInt","createElement","chunks","lastChunk","clampedText","clmp","splitChar","getLastChild","lastChild","children","Array","prototype","nodeValue","parentNode","removeChild","applyEllipsis","str","overflow","textOverflow","webkitBoxOrient","display","webkitLineClamp","truncate","target","maxHeight","shift","join","setTimeout","original","clamped","define","amd","$clamp","qs","sep","eq","obj","regexp","maxKeys","len","kstr","x","idx","vstr","substr","k","v","Object","hasOwnProperty","isArray","push","xs","toString","stringifyPrimitive","isFinite","map","objectKeys","ks","res","keys","key","decode","parse","encode","stringify","global","O","scrollHeight","offsetHeight","offsetTop","l","s","selector","selectorHeader","speed","easing","offset","callback","b","documentElement","innerHeight","body","animateScroll","m","E","H","I","A","j","M","w","getAttribute","JSON","d","h","tagName","pageYOffset","querySelector","offsetParent","min","g","clearInterval","focus","activeElement","id","setAttribute","outline","scrollTo","setInterval","location","hash","button","metaKey","ctrlKey","Element","matches","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","ownerDocument","querySelectorAll","item","toLowerCase","hostname","pathname","href","charAt","String","charCodeAt","InvalidCharacterError","preventDefault","substring","destroy","removeEventListener","init","addEventListener","smoothScroll","embed","parent","svg","fragment","createDocumentFragment","viewBox","hasAttribute","clone","cloneNode","childNodes","appendChild","firstChild","rawopts","inIframe","top","self","polyfill","navigator","userAgent","match","requests","requestAnimationFrame","uses","getElementsByTagName","numberOfSvgUseElementsToBypass","oninterval","index","srcSplit","url","xhr","use","node","nodeName","getSVGAncestor","src","attributeName","validate","XMLHttpRequest","open","send","_embeds","onreadystatechange","cachedDocument","readyState","_cachedDocument","implementation","createHTMLDocument","responseText","_cachedTarget","splice","getElementById","loadreadystatechange","svg4everybody","assign","apply","CustomEvent","detail","instance","createEvent","initCustomEvent","dispatchEvent","removeAttribute","_","classList","add","className","remove","RegExp","llTempImage","_observer","unobserve","y","loadingCount","toLoadCount","L","z","llOriginalAttrs","srcset","sizes","C","N","data_sizes","data_srcset","data_src","forEach","R","T","G","D","class_loading","callback_loading","F","data_bg","data_bg_hidpi","S","callback_finish","U","llEvLisnrs","q","B","unobserve_completed","J","class_loaded","callback_loaded","class_error","callback_error","K","backgroundImage","concat","data_bg_multi","data_bg_multi_hidpi","class_applied","callback_applied","Q","P","X","use_native","HTMLImageElement","Y","isIntersecting","intersectionRatio","unobserve_entered","callback_enter","cancel_on_exit","callback_cancel","callback_exit","Z","nn","container","elements_selector","tn","en","filter","an","_settings","IntersectionObserver","rootMargin","thresholds","threshold","update","devicePixelRatio","data_poster","IMG","IFRAME","VIDEO","load","W","disconnect","observe","loadAll","resetStatus","lazyLoadOptions","LazyLoad","_vanillaLazyload2","default","insertBefore","_objectCard2","_objectImageOverlay2","_svg4everybody2","backgroundVideoContainer","stopButton","videoCredit","imageCredit","playCounter","showVideoCredit","hideVideoCredit","pauseHiddenVideo","backgroundVideo","pause","play","onclick","paused","closeButton","cookieBanner","termCheckbox","facet","paramName","term","count","checkbox","dataset","hiddenInput","type","existingHiddenInput","click","checked","facetTermTick","contains","toggle","refreshing_page","Event","bubbles","createFacets","activeFacets","facetBoxContainer","facetToTerm","from","reduce","termfacet","values","facetsWithIndex","_ref2","seeMore","terms","newFacet","facetTextClass","facetTermContainerClass","termValues","newIndex","current","ceil","_ref3","linkEl","facetContainer","_facetsWithIndex$e$ta","_ref","revealMoreFacets","newTermToggleEvent","initialiseFacetOverlay","termList","_ref4","termButtons","newTermOnClick","newTerm","newFormTerm","stopPropagation","closest","input","facetKey","_e$detail","facets","dateFacet","ev","inputs","hiddenDateInput","isBCDate","hiddenDateInputBefore","hiddenDateInputAfter","dates","date","append","dateFacetInputs","facetId","splitFacetId","termListClass","facetTerm","facetClass","termClass","facetContainerWidth","cutOffWidth","currentIndex","facetFormTerms","innerWidth","offsetWidth","image","imagesWithImage","changeViewIndex","changeIndex","thumbs","initImageCarouselContainers","initImageCarousel","disableHiddenNavButtons","imageCarousel","concealRight","concealLeft","prevButton","nextButton","totalNumberOfImages","imageCounter","imageRef","copyrightNotice","contactModal","mobilePrevNextButtons","desktopPrevNextButtons","images","alt","ref","copyright","newImage","Image","numberOfContainers","viewIndex","thumb","newSelection","carouselContainers","firstElementChild","MutationObserver","mutations","imageParent","_newImage$dataset","mutation","attributes","_index","event","keyCode","_i","prefix","modalClass","agreeToTerms","downloadContentClass","contactContentClass","checkboxContainer","agreeCheckbox","agreeToTermsReminder","active","warning","elements","modal","imageOverlay","downloadContent","contactContent","downloadLink","downloadButton","focusable","first","last","activeModal","activeContent","shiftKey","_browserCookies","modals","modalTracking","category","action","dataLayer","modalCampaign","modalOnceOnly","_browserCookies2","notOnLoad","modalDomain","find","textContent","signupForm","emailField","emailDescriptor","emailBtn","httpRequest","formInputs","submit","ip","DONE","status","setRequestHeader","card","stopImmediatePropagation","revealEl","classes","html","clickFunction","hiddenClass","textEl","parentElement","textElConcealed","oic","items","oicSeeds","addItem","prepend","seed","data","objectImageOverlay","museumNumber","numberCopyright","onDisplay","locationCopy","displayOverride","locationSite","locationRoom","storageOverride","visitLink","visitUrl","objectUrl","ctaScreen","ctaMobile","getIndex","findIndex","clipItem","lastElementChild","buttonInit","rewind","itemPrev","itemNext","focusHierarchy","second","advance","track","object","trim","keyHandle","closeModal","e3","e2","shuffler","observer","shufflerData","objectShuffler","deckTabs","tabTemplate","deckTemplate","itemTemplate","imgTemplate","slideSize","setSize","transitionDurationItem","parseFloat","transitionDurationImg","deck","_props","deckTitle","title","itemsData","itemsDataFeed","feed","itemsIndex","getData","then","deckTab","trackingCollections","_deck","slide","activeSlide","newSlide","tabIndexSlide","activeTab","moreBtn","nextSlide","getBoundingClientRect","width","dataSize","dataURI","fetch","response","json","records","record","imgPath","_images","_iiif_image_base_url","_primaryTitle","objectType","img","systemNumber","catch","console","error","message","Promise","resolve","dataIndex","onerror","scaler","random","scale","slot","yDir","jitterX","jitterY","position","left","setProperty","sin","PI","transitionDuration","nextSibling","myComponent","_slicedToArray","initialised","trackAutosuggest","tracking","eventCategory","eventAction","eventLabel","searchForm","searchUnderscore","searchSubmit","searchClear","searchDecorate","suggestionsEl","autoSuggest","searchInput","suggestionsTop","suggestionsAPI","suggestion","suggestEl","childElementCount","displayName","displayTerm","recordType","tabindex","storedSuggestions","sessionStorage","getItem","now","cache","suggestions","setItem","loadSuggestions","aborter","regExStart","regEx","result","abort","AbortController","encodeURI","signal","info","record_count","toggleSet","toggleAttribute","datasetToInts","entries","total","pair","_pair","populateButton","pageIndex","ariaLabel","updateDisplayCounter","currentPage","startingNumber","endingNumber","_datasetToInts2","paginationElement","totalCount","buttons","seperators","searchPrevLink","searchNextLink","startSeperator","lastSeperator","currentButtonClass","pages","lastButton","_datasetToInts4","_pages","currentButton","dynamicButtonCheck","_datasetToInts","seperator","searchResultTextEls","searchResultTextTruncate","maxChars","shunt","firstChar","lastChar","textFull","lastIndexOf","bind","reAdjustWarnings","row","topOffset","offensiveWarningInitializer","warningEl","sortable","orderBy","orderSort","defaultClass","newSort","b-search-results__head-cell--sort-asc","b-search-results__head-cell--sort-desc","winHeight","mobileNavToggle","mobileNavToggleIcon","mobileNavToggleText","mobileNavTop","navBag","navBagTotal","navSearchBtn","navSearch","navSearchInput","navSearchContent","navSearchSuggest","shopCookieBagTotal","tabletNavToggle","storedSearch","lastScrollY","ticking","siteNav","scrollY","_smoothScroll2","storedSearchResults","setMinutes","getMinutes","results","liveResult","imgSrc","icon","setSelectionRange","_httpRequest","_querystring","toggleNavBtns","qsToggleType","toggleNav","_querystring2","search","tog","tnToggees","toggeesSelector","togType","toggleType","scrollLeft","offsetLeft","preventHistoryPush","history","pushState","toggleNavType","state","toggleTypeDefault","videoThumbs","vidThumb","popup","popupClose","previewImage","videoTrailer","gridRevealMore","gridBlock","svgURL","gridItems","theme","putAfter","gridFooterMarkup","noOfItemsToShow","revealMoreCounter","iconUrl","_toConsumableArray","revealMoreTheme","revealMoreTracking","revealMorePutAfter","revealMoreClicks","separator","hiddenItems","replaceState","openObjectOverlay","imageOverlayContainer","overflowY","isMobile","any","figCaption","marginBottom","screen","closeObjectOverlay","Android","BlackBerry","iOS","Opera","Windows","_clampJs","clampText","textToClamp","_clampJs2","boxes","columnBoxes","textContentBoxes","tallestInRow","currentBoxes","initRevealer","Modernizr","on","objectFitContainer","els","imgEl","imgUrl"],"mappings":"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","file":"vamscript.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","exports.defaults = {};\r\rexports.set = function(name, value, options) {\r// Retrieve options and defaults\rvar opts = options || {};\rvar defaults = exports.defaults;\r\r// Apply default value for unspecified options\rvar expires  = opts.expires  || defaults.expires;\rvar domain   = opts.domain   || defaults.domain;\rvar path     = opts.path     !== undefined ? opts.path     : (defaults.path !== undefined ? defaults.path : '/');\rvar secure   = opts.secure   !== undefined ? opts.secure   : defaults.secure;\rvar httponly = opts.httponly !== undefined ? opts.httponly : defaults.httponly;\rvar samesite = opts.samesite !== undefined ? opts.samesite : defaults.samesite;\r\r// Determine cookie expiration date\r// If succesful the result will be a valid Date, otherwise it will be an invalid Date or false(ish)\rvar expDate = expires ? new Date(\r// in case expires is an integer, it should specify the number of days till the cookie expires\rtypeof expires === 'number' ? new Date().getTime() + (expires * 864e5) :\r// else expires should be either a Date object or in a format recognized by Date.parse()\rexpires\r) : 0;\r\r// Set cookie\rdocument.cookie = name.replace(/[^+#$&^`|]/g, encodeURIComponent)                // Encode cookie name\r.replace('(', '%28')\r.replace(')', '%29') +\r'=' + value.replace(/[^+#$&/:<-\\[\\]-}]/g, encodeURIComponent) +                  // Encode cookie value (RFC6265)\r(expDate && expDate.getTime() >= 0 ? ';expires=' + expDate.toUTCString() : '') + // Add expiration date\r(domain   ? ';domain=' + domain     : '') +                                      // Add domain\r(path     ? ';path='   + path       : '') +                                      // Add path\r(secure   ? ';secure'               : '') +                                      // Add secure option\r(httponly ? ';httponly'             : '') +                                      // Add httponly option\r(samesite ? ';samesite=' + samesite : '');                                       // Add samesite option\r};\r\rexports.get = function(name) {\rvar cookies = document.cookie.split(';');\r\r// Iterate all cookies\rwhile(cookies.length) {\rvar cookie = cookies.pop();\r\r// Determine separator index (\"name=value\")\rvar separatorIndex = cookie.indexOf('=');\r\r// IE<11 emits the equal sign when the cookie value is empty\rseparatorIndex = separatorIndex < 0 ? cookie.length : separatorIndex;\r\rvar cookie_name = decodeURIComponent(cookie.slice(0, separatorIndex).replace(/^\\s+/, ''));\r\r// Return cookie value if the name matches\rif (cookie_name === name) {\rreturn decodeURIComponent(cookie.slice(separatorIndex + 1));\r}\r}\r\r// Return `null` as the cookie was not found\rreturn null;\r};\r\rexports.erase = function(name, options) {\rexports.set(name, '', {\rexpires:  -1,\rdomain:   options && options.domain,\rpath:     options && options.path,\rsecure:   0,\rhttponly: 0}\r);\r};\r\rexports.all = function() {\rvar all = {};\rvar cookies = document.cookie.split(';');\r\r// Iterate all cookies\rwhile(cookies.length) {\rvar cookie = cookies.pop();\r\r// Determine separator index (\"name=value\")\rvar separatorIndex = cookie.indexOf('=');\r\r// IE<11 emits the equal sign when the cookie value is empty\rseparatorIndex = separatorIndex < 0 ? cookie.length : separatorIndex;\r\r// add the cookie name and value to the `all` object\rvar cookie_name = decodeURIComponent(cookie.slice(0, separatorIndex).replace(/^\\s+/, ''));\rall[cookie_name] = decodeURIComponent(cookie.slice(separatorIndex + 1));\r}\r\rreturn all;\r};\r","/*!* Clamp.js 0.7.0** Copyright 2011-2013, Joseph Schmitt http://joe.sh* Released under the WTFPL license* http://sam.zoy.org/wtfpl/*/(function(root, factory) {if (typeof define === 'function' && define.amd) {// AMDdefine([], factory);} else if (typeof exports === 'object') {// Node, CommonJS-likemodule.exports = factory();} else {// Browser globalsroot.$clamp = factory();}}(this, function() {/*** Clamps a text node.* @param {HTMLElement} element. Element containing the text node to clamp.* @param {Object} options. Options to pass to the clamper.*/function clamp(element, options) {options = options || {};var self = this,win = window,opt = {clamp: options.clamp || 2,useNativeClamp: typeof(options.useNativeClamp) != 'undefined' ? options.useNativeClamp : true,splitOnChars: options.splitOnChars || ['.', '-', '', '', ' '], //Split on sentences (periods), hypens, en-dashes, em-dashes, and words (spaces).animate: options.animate || false,truncationChar: options.truncationChar || '',truncationHTML: options.truncationHTML},sty = element.style,originalText = element.innerHTML,supportsNativeClamp = typeof(element.style.webkitLineClamp) != 'undefined',clampValue = opt.clamp,isCSSValue = clampValue.indexOf && (clampValue.indexOf('px') > -1 || clampValue.indexOf('em') > -1),truncationHTMLContainer;if (opt.truncationHTML) {truncationHTMLContainer = document.createElement('span');truncationHTMLContainer.innerHTML = opt.truncationHTML;}// UTILITY FUNCTIONS __________________________________________________________/*** Return the current style for an element.* @param {HTMLElement} elem The element to compute.* @param {string} prop The style property.* @returns {number}*/function computeStyle(elem, prop) {if (!win.getComputedStyle) {win.getComputedStyle = function(el, pseudo) {this.el = el;this.getPropertyValue = function(prop) {var re = /(\\-([a-z]){1})/g;if (prop == 'float') prop = 'styleFloat';if (re.test(prop)) {prop = prop.replace(re, function() {return arguments[2].toUpperCase();});}return el.currentStyle && el.currentStyle[prop] ? el.currentStyle[prop] : null;};return this;};}return win.getComputedStyle(elem, null).getPropertyValue(prop);}/*** Returns the maximum number of lines of text that should be rendered based* on the current height of the element and the line-height of the text.*/function getMaxLines(height) {var availHeight = height || element.clientHeight,lineHeight = getLineHeight(element);return Math.max(Math.floor(availHeight / lineHeight), 0);}/*** Returns the maximum height a given element should have based on the line-* height of the text and the given clamp value.*/function getMaxHeight(clmp) {var lineHeight = getLineHeight(element);return lineHeight * clmp;}/*** Returns the line-height of an element as an integer.*/function getLineHeight(elem) {var lh = computeStyle(elem, 'line-height');if (lh == 'normal') {// Normal line heights vary from browser to browser. The spec recommends// a value between 1.0 and 1.2 of the font size. Using 1.1 to split the diff.lh = parseInt(computeStyle(elem, 'font-size')) * 1.2;}return parseInt(lh);}// MEAT AND POTATOES (MMMM, POTATOES...) ______________________________________var splitOnChars = opt.splitOnChars.slice(0),splitChar = splitOnChars[0],chunks,lastChunk;/*** Gets an element's last child. That may be another node or a node's contents.*/function getLastChild(elem) {//Current element has children, need to go deeper and get last child as a text nodeif (elem.lastChild.children && elem.lastChild.children.length > 0) {return getLastChild(Array.prototype.slice.call(elem.children).pop());}//This is the absolute last child, a text node, but something's wrong with it. Remove it and keep tryingelse if (!elem.lastChild || !elem.lastChild.nodeValue || elem.lastChild.nodeValue === '' || elem.lastChild.nodeValue == opt.truncationChar) {elem.lastChild.parentNode.removeChild(elem.lastChild);return getLastChild(element);}//This is the last child we want, return itelse {return elem.lastChild;}}/*** Removes one character at a time from the text until its width or* height is beneath the passed-in max param.*/function truncate(target, maxHeight) {if (!maxHeight) {return;}/*** Resets global variables.*/function reset() {splitOnChars = opt.splitOnChars.slice(0);splitChar = splitOnChars[0];chunks = null;lastChunk = null;}var nodeValue = target.nodeValue.replace(opt.truncationChar, '');//Grab the next chunksif (!chunks) {//If there are more characters to try, grab the next oneif (splitOnChars.length > 0) {splitChar = splitOnChars.shift();}//No characters to chunk by. Go character-by-characterelse {splitChar = '';}chunks = nodeValue.split(splitChar);}//If there are chunks left to remove, remove the last one and see if// the nodeValue fits.if (chunks.length > 1) {// console.log('chunks', chunks);lastChunk = chunks.pop();// console.log('lastChunk', lastChunk);applyEllipsis(target, chunks.join(splitChar));}//No more chunks can be removed using this characterelse {chunks = null;}//Insert the custom HTML before the truncation characterif (truncationHTMLContainer) {target.nodeValue = target.nodeValue.replace(opt.truncationChar, '');element.innerHTML = target.nodeValue + ' ' + truncationHTMLContainer.innerHTML + opt.truncationChar;}//Search produced valid chunksif (chunks) {//It fitsif (element.clientHeight <= maxHeight) {//There's still more characters to try splitting on, not quite done yetif (splitOnChars.length >= 0 && splitChar !== '') {applyEllipsis(target, chunks.join(splitChar) + splitChar + lastChunk);chunks = null;}//Finished!else {return element.innerHTML;}}}//No valid chunks producedelse {//No valid chunks even when splitting by letter, time to move//on to the next nodeif (splitChar === '') {applyEllipsis(target, '');target = getLastChild(element);reset();}}//If you get here it means still too big, let's keep truncatingif (opt.animate) {setTimeout(function() {truncate(target, maxHeight);}, opt.animate === true ? 10 : opt.animate);} else {return truncate(target, maxHeight);}}function applyEllipsis(elem, str) {elem.nodeValue = str + opt.truncationChar;}// CONSTRUCTOR ________________________________________________________________if (clampValue == 'auto') {clampValue = getMaxLines();} else if (isCSSValue) {clampValue = getMaxLines(parseInt(clampValue));}var clampedText;if (supportsNativeClamp && opt.useNativeClamp) {sty.overflow = 'hidden';sty.textOverflow = 'ellipsis';sty.webkitBoxOrient = 'vertical';sty.display = '-webkit-box';sty.webkitLineClamp = clampValue;if (isCSSValue) {sty.height = opt.clamp + 'px';}} else {var height = getMaxHeight(clampValue);if (height <= element.clientHeight) {clampedText = truncate(getLastChild(element), height);}}return {'original': originalText,'clamped': clampedText};}return clamp;}));","// Copyright Joyent, Inc. and other Node contributors.//// Permission is hereby granted, free of charge, to any person obtaining a// copy of this software and associated documentation files (the// \"Software\"), to deal in the Software without restriction, including// without limitation the rights to use, copy, modify, merge, publish,// distribute, sublicense, and/or sell copies of the Software, and to permit// persons to whom the Software is furnished to do so, subject to the// following conditions://// The above copyright notice and this permission notice shall be included// in all copies or substantial portions of the Software.//// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE// USE OR OTHER DEALINGS IN THE SOFTWARE.'use strict';// If obj.hasOwnProperty has been overridden, then calling// obj.hasOwnProperty(prop) will break.// See: https://github.com/joyent/node/issues/1707function hasOwnProperty(obj, prop) {return Object.prototype.hasOwnProperty.call(obj, prop);}module.exports = function(qs, sep, eq, options) {sep = sep || '&';eq = eq || '=';var obj = {};if (typeof qs !== 'string' || qs.length === 0) {return obj;}var regexp = /\\+/g;qs = qs.split(sep);var maxKeys = 1000;if (options && typeof options.maxKeys === 'number') {maxKeys = options.maxKeys;}var len = qs.length;// maxKeys <= 0 means that we should not limit keys countif (maxKeys > 0 && len > maxKeys) {len = maxKeys;}for (var i = 0; i < len; ++i) {var x = qs[i].replace(regexp, '%20'),idx = x.indexOf(eq),kstr, vstr, k, v;if (idx >= 0) {kstr = x.substr(0, idx);vstr = x.substr(idx + 1);} else {kstr = x;vstr = '';}k = decodeURIComponent(kstr);v = decodeURIComponent(vstr);if (!hasOwnProperty(obj, k)) {obj[k] = v;} else if (isArray(obj[k])) {obj[k].push(v);} else {obj[k] = [obj[k], v];}}return obj;};var isArray = Array.isArray || function (xs) {return Object.prototype.toString.call(xs) === '[object Array]';};","// Copyright Joyent, Inc. and other Node contributors.//// Permission is hereby granted, free of charge, to any person obtaining a// copy of this software and associated documentation files (the// \"Software\"), to deal in the Software without restriction, including// without limitation the rights to use, copy, modify, merge, publish,// distribute, sublicense, and/or sell copies of the Software, and to permit// persons to whom the Software is furnished to do so, subject to the// following conditions://// The above copyright notice and this permission notice shall be included// in all copies or substantial portions of the Software.//// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE// USE OR OTHER DEALINGS IN THE SOFTWARE.'use strict';var stringifyPrimitive = function(v) {switch (typeof v) {case 'string':return v;case 'boolean':return v ? 'true' : 'false';case 'number':return isFinite(v) ? v : '';default:return '';}};module.exports = function(obj, sep, eq, name) {sep = sep || '&';eq = eq || '=';if (obj === null) {obj = undefined;}if (typeof obj === 'object') {return map(objectKeys(obj), function(k) {var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;if (isArray(obj[k])) {return map(obj[k], function(v) {return ks + encodeURIComponent(stringifyPrimitive(v));}).join(sep);} else {return ks + encodeURIComponent(stringifyPrimitive(obj[k]));}}).join(sep);}if (!name) return '';return encodeURIComponent(stringifyPrimitive(name)) + eq +encodeURIComponent(stringifyPrimitive(obj));};var isArray = Array.isArray || function (xs) {return Object.prototype.toString.call(xs) === '[object Array]';};function map (xs, f) {if (xs.map) return xs.map(f);var res = [];for (var i = 0; i < xs.length; i++) {res.push(f(xs[i], i));}return res;}var objectKeys = Object.keys || function (obj) {var res = [];for (var key in obj) {if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);}return res;};","'use strict';exports.decode = exports.parse = require('./decode');exports.encode = exports.stringify = require('./encode');","/*! smooth-scroll v10.2.0 | (c) 2016 Chris Ferdinandi | MIT License | http://github.com/cferdinandi/smooth-scroll */!(function(e,t){\"function\"==typeof define&&define.amd?define([],t(e)):\"object\"==typeof exports?module.exports=t(e):e.smoothScroll=t(e)})(\"undefined\"!=typeof global?global:this.window||this.global,(function(e){\"use strict\";var t,n,o,r,a,c,l,i={},u=\"querySelector\"in document&&\"addEventListener\"in e,s={selector:\"[data-scroll]\",selectorHeader:null,speed:500,easing:\"easeInOutCubic\",offset:0,callback:function(){}},f=function(){var e={},t=!1,n=0,o=arguments.length;\"[object Boolean]\"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],n++);for(var r=function(n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t&&\"[object Object]\"===Object.prototype.toString.call(n[o])?e[o]=f(!0,e[o],n[o]):e[o]=n[o])};n<o;n++){var a=arguments[n];r(a)}return e},d=function(e){return Math.max(e.scrollHeight,e.offsetHeight,e.clientHeight)},h=function(e,t){for(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1});e&&e!==document;e=e.parentNode)if(e.matches(t))return e;return null},m=function(e){\"#\"===e.charAt(0)&&(e=e.substr(1));for(var t,n=String(e),o=n.length,r=-1,a=\"\",c=n.charCodeAt(0);++r<o;){if(t=n.charCodeAt(r),0===t)throw new InvalidCharacterError(\"Invalid character: the input contains U+0000.\");a+=t>=1&&t<=31||127==t||0===r&&t>=48&&t<=57||1===r&&t>=48&&t<=57&&45===c?\"\\\\\"+t.toString(16)+\" \":t>=128||45===t||95===t||t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122?n.charAt(r):\"\\\\\"+n.charAt(r)}return\"#\"+a},p=function(e,t){var n;return\"easeInQuad\"===e&&(n=t*t),\"easeOutQuad\"===e&&(n=t*(2-t)),\"easeInOutQuad\"===e&&(n=t<.5?2*t*t:-1+(4-2*t)*t),\"easeInCubic\"===e&&(n=t*t*t),\"easeOutCubic\"===e&&(n=--t*t*t+1),\"easeInOutCubic\"===e&&(n=t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1),\"easeInQuart\"===e&&(n=t*t*t*t),\"easeOutQuart\"===e&&(n=1- --t*t*t*t),\"easeInOutQuart\"===e&&(n=t<.5?8*t*t*t*t:1-8*--t*t*t*t),\"easeInQuint\"===e&&(n=t*t*t*t*t),\"easeOutQuint\"===e&&(n=1+--t*t*t*t*t),\"easeInOutQuint\"===e&&(n=t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t),n||t},g=function(e,t,n){var o=0;if(e.offsetParent)do o+=e.offsetTop,e=e.offsetParent;while(e);return o=Math.max(o-t-n,0),Math.min(o,v()-b())},b=function(){return Math.max(document.documentElement.clientHeight,e.innerHeight||0)},v=function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)},y=function(e){return e&&\"object\"==typeof JSON&&\"function\"==typeof JSON.parse?JSON.parse(e):{}},O=function(e){return e?d(e)+e.offsetTop:0},S=function(t,n,o){o||(t.focus(),document.activeElement.id!==t.id&&(t.setAttribute(\"tabindex\",\"-1\"),t.focus(),t.style.outline=\"none\"),e.scrollTo(0,n))};i.animateScroll=function(n,o,c){var i=y(o?o.getAttribute(\"data-options\"):null),u=f(t||s,c||{},i),d=\"[object Number]\"===Object.prototype.toString.call(n),h=d||!n.tagName?null:n;if(d||h){var m=e.pageYOffset;u.selectorHeader&&!r&&(r=document.querySelector(u.selectorHeader)),a||(a=O(r));var b,E,H=d?n:g(h,a,parseInt(u.offset,10)),I=H-m,A=v(),j=0,M=function(t,r,a){var c=e.pageYOffset;(t==r||c==r||e.innerHeight+c>=A)&&(clearInterval(a),S(n,r,d),u.callback(n,o))},w=function(){j+=16,b=j/parseInt(u.speed,10),b=b>1?1:b,E=m+I*p(u.easing,b),e.scrollTo(0,Math.floor(E)),M(E,H,l)},Q=function(){clearInterval(l),l=setInterval(w,16)};0===e.pageYOffset&&e.scrollTo(0,0),Q()}};var E=function(t){e.location.hash;n&&(n.id=n.getAttribute(\"data-scroll-id\"),i.animateScroll(n,o),n=null,o=null)},H=function(r){if(0===r.button&&!r.metaKey&&!r.ctrlKey&&(o=h(r.target,t.selector),o&&\"a\"===o.tagName.toLowerCase()&&o.hostname===e.location.hostname&&o.pathname===e.location.pathname&&/#/.test(o.href))){var a=m(o.hash);if(\"#\"===a){r.preventDefault(),n=document.body;var c=n.id?n.id:\"smooth-scroll-top\";return n.setAttribute(\"data-scroll-id\",c),n.id=\"\",void(e.location.hash.substring(1)===c?E():e.location.hash=c)}n=document.querySelector(a),n&&(n.setAttribute(\"data-scroll-id\",n.id),n.id=\"\",o.hash===e.location.hash&&(r.preventDefault(),E()))}},I=function(e){c||(c=setTimeout((function(){c=null,a=O(r)}),66))};return i.destroy=function(){t&&(document.removeEventListener(\"click\",H,!1),e.removeEventListener(\"resize\",I,!1),t=null,n=null,o=null,r=null,a=null,c=null,l=null)},i.init=function(n){u&&(i.destroy(),t=f(s,n||{}),r=t.selectorHeader?document.querySelector(t.selectorHeader):null,a=O(r),document.addEventListener(\"click\",H,!1),e.addEventListener(\"hashchange\",E,!1),r&&e.addEventListener(\"resize\",I,!1))},i}));","!function(root, factory) {\"function\" == typeof define && define.amd ? // AMD. Register as an anonymous module unless amdModuleId is setdefine([], function() {return root.svg4everybody = factory();}) : \"object\" == typeof module && module.exports ? // Node. Does not work with strict CommonJS, but// only CommonJS-like environments that support module.exports,// like Node.module.exports = factory() : root.svg4everybody = factory();}(this, function() {/*! svg4everybody v2.1.9 | github.com/jonathantneal/svg4everybody */function embed(parent, svg, target) {// if the target existsif (target) {// create a document fragment to hold the contents of the targetvar fragment = document.createDocumentFragment(), viewBox = !svg.hasAttribute(\"viewBox\") && target.getAttribute(\"viewBox\");// conditionally set the viewBox on the svgviewBox && svg.setAttribute(\"viewBox\", viewBox);// copy the contents of the clone into the fragmentfor (// clone the targetvar clone = target.cloneNode(!0); clone.childNodes.length; ) {fragment.appendChild(clone.firstChild);}// append the fragment into the svgparent.appendChild(fragment);}}function loadreadystatechange(xhr) {// listen to changes in the requestxhr.onreadystatechange = function() {// if the request is readyif (4 === xhr.readyState) {// get the cached html documentvar cachedDocument = xhr._cachedDocument;// ensure the cached html document based on the xhr responsecachedDocument || (cachedDocument = xhr._cachedDocument = document.implementation.createHTMLDocument(\"\"), cachedDocument.body.innerHTML = xhr.responseText, xhr._cachedTarget = {}), // clear the xhr embeds list and embed each itemxhr._embeds.splice(0).map(function(item) {// get the cached targetvar target = xhr._cachedTarget[item.id];// ensure the cached targettarget || (target = xhr._cachedTarget[item.id] = cachedDocument.getElementById(item.id)), // embed the target into the svgembed(item.parent, item.svg, target);});}}, // test the ready state change immediatelyxhr.onreadystatechange();}function svg4everybody(rawopts) {function oninterval() {// while the index exists in the live <use> collectionfor (// get the cached <use> indexvar index = 0; index < uses.length; ) {// get the current <use>var use = uses[index], parent = use.parentNode, svg = getSVGAncestor(parent), src = use.getAttribute(\"xlink:href\") || use.getAttribute(\"href\");if (!src && opts.attributeName && (src = use.getAttribute(opts.attributeName)), svg && src) {if (polyfill) {if (!opts.validate || opts.validate(src, svg, use)) {// remove the <use> elementparent.removeChild(use);// parse the src and get the url and idvar srcSplit = src.split(\"#\"), url = srcSplit.shift(), id = srcSplit.join(\"#\");// if the link is externalif (url.length) {// get the cached xhr requestvar xhr = requests[url];// ensure the xhr request existsxhr || (xhr = requests[url] = new XMLHttpRequest(), xhr.open(\"GET\", url), xhr.send(), xhr._embeds = []), // add the svg and id as an item to the xhr embeds listxhr._embeds.push({parent: parent,svg: svg,id: id}), // prepare the xhr ready state change eventloadreadystatechange(xhr);} else {// embed the local id into the svgembed(parent, svg, document.getElementById(id));}} else {// increase the index when the previous value was not \"valid\"++index, ++numberOfSvgUseElementsToBypass;}}} else {// increase the index when the previous value was not \"valid\"++index;}}// continue the interval(!uses.length || uses.length - numberOfSvgUseElementsToBypass > 0) && requestAnimationFrame(oninterval, 67);}var polyfill, opts = Object(rawopts), newerIEUA = /\\bTrident\\/[567]\\b|\\bMSIE (?:9|10)\\.0\\b/, webkitUA = /\\bAppleWebKit\\/(\\d+)\\b/, olderEdgeUA = /\\bEdge\\/12\\.(\\d+)\\b/, edgeUA = /\\bEdge\\/.(\\d+)\\b/, inIframe = window.top !== window.self;polyfill = \"polyfill\" in opts ? opts.polyfill : newerIEUA.test(navigator.userAgent) || (navigator.userAgent.match(olderEdgeUA) || [])[1] < 10547 || (navigator.userAgent.match(webkitUA) || [])[1] < 537 || edgeUA.test(navigator.userAgent) && inIframe;// create xhr requests objectvar requests = {}, requestAnimationFrame = window.requestAnimationFrame || setTimeout, uses = document.getElementsByTagName(\"use\"), numberOfSvgUseElementsToBypass = 0;// conditionally start the interval if the polyfill is activepolyfill && oninterval();}function getSVGAncestor(node) {for (var svg = node; \"svg\" !== svg.nodeName.toLowerCase() && (svg = svg.parentNode); ) {}return svg;}return svg4everybody;});","!function(n,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):(n=n||self).LazyLoad=t()}(this,(function(){\"use strict\";function n(){return(n=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n}).apply(this,arguments)}var t=\"undefined\"!=typeof window,e=t&&!(\"onscroll\"in window)||\"undefined\"!=typeof navigator&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),i=t&&\"IntersectionObserver\"in window,a=t&&\"classList\"in document.createElement(\"p\"),o=t&&window.devicePixelRatio>1,r={elements_selector:\".lazy\",container:e||t?document:null,threshold:300,thresholds:null,data_src:\"src\",data_srcset:\"srcset\",data_sizes:\"sizes\",data_bg:\"bg\",data_bg_hidpi:\"bg-hidpi\",data_bg_multi:\"bg-multi\",data_bg_multi_hidpi:\"bg-multi-hidpi\",data_poster:\"poster\",class_applied:\"applied\",class_loading:\"loading\",class_loaded:\"loaded\",class_error:\"error\",unobserve_completed:!0,unobserve_entered:!1,cancel_on_exit:!0,callback_enter:null,callback_exit:null,callback_applied:null,callback_loading:null,callback_loaded:null,callback_error:null,callback_finish:null,callback_cancel:null,use_native:!1},c=function(t){return n({},r,t)},l=function(n,t){var e,i=new n(t);try{e=new CustomEvent(\"LazyLoad::Initialized\",{detail:{instance:i}})}catch(n){(e=document.createEvent(\"CustomEvent\")).initCustomEvent(\"LazyLoad::Initialized\",!1,!1,{instance:i})}window.dispatchEvent(e)},s=function(n,t){return n.getAttribute(\"data-\"+t)},u=function(n,t,e){var i=\"data-\"+t;null!==e?n.setAttribute(i,e):n.removeAttribute(i)},d=function(n){return s(n,\"ll-status\")},f=function(n,t){return u(n,\"ll-status\",t)},_=function(n){return f(n,null)},g=function(n){return null===d(n)},v=function(n){return\"native\"===d(n)},p=[\"loading\",\"loaded\",\"applied\",\"error\"],b=function(n,t,e,i){n&&(void 0===i?void 0===e?n(t):n(t,e):n(t,e,i))},h=function(n,t){a?n.classList.add(t):n.className+=(n.className?\" \":\"\")+t},m=function(n,t){a?n.classList.remove(t):n.className=n.className.replace(new RegExp(\"(^|\\\\s+)\"+t+\"(\\\\s+|$)\"),\" \").replace(/^\\s+/,\"\").replace(/\\s+$/,\"\")},E=function(n){return n.llTempImage},I=function(n,t){if(t){var e=t._observer;e&&e.unobserve(n)}},y=function(n,t){n&&(n.loadingCount+=t)},A=function(n,t){n&&(n.toLoadCount=t)},L=function(n){for(var t,e=[],i=0;t=n.children[i];i+=1)\"SOURCE\"===t.tagName&&e.push(t);return e},w=function(n,t,e){e&&n.setAttribute(t,e)},z=function(n,t){n.removeAttribute(t)},k=function(n){return!!n.llOriginalAttrs},O=function(n){if(!k(n)){var t={};t.src=n.getAttribute(\"src\"),t.srcset=n.getAttribute(\"srcset\"),t.sizes=n.getAttribute(\"sizes\"),n.llOriginalAttrs=t}},C=function(n){if(k(n)){var t=n.llOriginalAttrs;w(n,\"src\",t.src),w(n,\"srcset\",t.srcset),w(n,\"sizes\",t.sizes)}},N=function(n,t){w(n,\"sizes\",s(n,t.data_sizes)),w(n,\"srcset\",s(n,t.data_srcset)),w(n,\"src\",s(n,t.data_src))},x=function(n){z(n,\"src\"),z(n,\"srcset\"),z(n,\"sizes\")},M=function(n,t){var e=n.parentNode;e&&\"PICTURE\"===e.tagName&&L(e).forEach(t)},R=function(n,t){L(n).forEach(t)},G={IMG:function(n,t){M(n,(function(n){O(n),N(n,t)})),O(n),N(n,t)},IFRAME:function(n,t){w(n,\"src\",s(n,t.data_src))},VIDEO:function(n,t){R(n,(function(n){w(n,\"src\",s(n,t.data_src))})),w(n,\"poster\",s(n,t.data_poster)),w(n,\"src\",s(n,t.data_src)),n.load()}},T=function(n,t){var e=G[n.tagName];e&&e(n,t)},D=function(n,t,e){y(e,1),h(n,t.class_loading),f(n,\"loading\"),b(t.callback_loading,n,e)},F={IMG:function(n,t){u(n,t.data_src,null),u(n,t.data_srcset,null),u(n,t.data_sizes,null),M(n,(function(n){u(n,t.data_srcset,null),u(n,t.data_sizes,null)}))},IFRAME:function(n,t){u(n,t.data_src,null)},VIDEO:function(n,t){u(n,t.data_src,null),u(n,t.data_poster,null),R(n,(function(n){u(n,t.data_src,null)}))}},V=function(n,t){u(n,t.data_bg_multi,null),u(n,t.data_bg_multi_hidpi,null)},j=function(n,t){var e=F[n.tagName];e?e(n,t):function(n,t){u(n,t.data_bg,null),u(n,t.data_bg_hidpi,null)}(n,t)},P=[\"IMG\",\"IFRAME\",\"VIDEO\"],S=function(n,t){!t||function(n){return n.loadingCount>0}(t)||function(n){return n.toLoadCount>0}(t)||b(n.callback_finish,t)},U=function(n,t,e){n.addEventListener(t,e),n.llEvLisnrs[t]=e},$=function(n,t,e){n.removeEventListener(t,e)},q=function(n){return!!n.llEvLisnrs},H=function(n){if(q(n)){var t=n.llEvLisnrs;for(var e in t){var i=t[e];$(n,e,i)}delete n.llEvLisnrs}},B=function(n,t,e){!function(n){delete n.llTempImage}(n),y(e,-1),function(n){n&&(n.toLoadCount-=1)}(e),m(n,t.class_loading),t.unobserve_completed&&I(n,e)},J=function(n,t,e){var i=E(n)||n;q(i)||function(n,t,e){q(n)||(n.llEvLisnrs={});var i=\"VIDEO\"===n.tagName?\"loadeddata\":\"load\";U(n,i,t),U(n,\"error\",e)}(i,(function(a){!function(n,t,e,i){var a=v(t);B(t,e,i),h(t,e.class_loaded),f(t,\"loaded\"),j(t,e),b(e.callback_loaded,t,i),a||S(e,i)}(0,n,t,e),H(i)}),(function(a){!function(n,t,e,i){var a=v(t);B(t,e,i),h(t,e.class_error),f(t,\"error\"),b(e.callback_error,t,i),a||S(e,i)}(0,n,t,e),H(i)}))},K=function(n,t,e){!function(n){n.llTempImage=document.createElement(\"IMG\")}(n),J(n,t,e),function(n,t,e){var i=s(n,t.data_bg),a=s(n,t.data_bg_hidpi),r=o&&a?a:i;r&&(n.style.backgroundImage='url(\"'.concat(r,'\")'),E(n).setAttribute(\"src\",r),D(n,t,e))}(n,t,e),function(n,t,e){var i=s(n,t.data_bg_multi),a=s(n,t.data_bg_multi_hidpi),r=o&&a?a:i;r&&(n.style.backgroundImage=r,function(n,t,e){h(n,t.class_applied),f(n,\"applied\"),V(n,t),t.unobserve_completed&&I(n,t),b(t.callback_applied,n,e)}(n,t,e))}(n,t,e)},Q=function(n,t,e){!function(n){return P.indexOf(n.tagName)>-1}(n)?K(n,t,e):function(n,t,e){J(n,t,e),T(n,t),D(n,t,e)}(n,t,e)},W=[\"IMG\",\"IFRAME\"],X=function(n){return n.use_native&&\"loading\"in HTMLImageElement.prototype},Y=function(n,t,e){n.forEach((function(n){return function(n){return n.isIntersecting||n.intersectionRatio>0}(n)?function(n,t,e,i){f(n,\"entered\"),function(n,t,e){t.unobserve_entered&&I(n,e)}(n,e,i),b(e.callback_enter,n,t,i),function(n){return p.indexOf(d(n))>=0}(n)||Q(n,e,i)}(n.target,n,t,e):function(n,t,e,i){g(n)||(function(n,t,e,i){e.cancel_on_exit&&function(n){return\"loading\"===d(n)}(n)&&\"IMG\"===n.tagName&&(H(n),function(n){M(n,(function(n){x(n)})),x(n)}(n),function(n){M(n,(function(n){C(n)})),C(n)}(n),m(n,e.class_loading),y(i,-1),_(n),b(e.callback_cancel,n,t,i))}(n,t,e,i),b(e.callback_exit,n,t,i))}(n.target,n,t,e)}))},Z=function(n){return Array.prototype.slice.call(n)},nn=function(n){return n.container.querySelectorAll(n.elements_selector)},tn=function(n){return function(n){return\"error\"===d(n)}(n)},en=function(n,t){return function(n){return Z(n).filter(g)}(n||nn(t))},an=function(n,e){var a=c(n);this._settings=a,this.loadingCount=0,function(n,t){i&&!X(n)&&(t._observer=new IntersectionObserver((function(e){Y(e,n,t)}),function(n){return{root:n.container===document?null:n.container,rootMargin:n.thresholds||n.threshold+\"px\"}}(n)))}(a,this),function(n,e){t&&window.addEventListener(\"online\",(function(){!function(n,t){var e;(e=nn(n),Z(e).filter(tn)).forEach((function(t){m(t,n.class_error),_(t)})),t.update()}(n,e)}))}(a,this),this.update(e)};return an.prototype={update:function(n){var t,a,o=this._settings,r=en(n,o);A(this,r.length),!e&&i?X(o)?function(n,t,e){n.forEach((function(n){-1!==W.indexOf(n.tagName)&&(n.setAttribute(\"loading\",\"lazy\"),function(n,t,e){J(n,t,e),T(n,t),j(n,t),f(n,\"native\")}(n,t,e))})),A(e,0)}(r,o,this):(a=r,function(n){n.disconnect()}(t=this._observer),function(n,t){t.forEach((function(t){n.observe(t)}))}(t,a)):this.loadAll(r)},destroy:function(){this._observer&&this._observer.disconnect(),nn(this._settings).forEach((function(n){delete n.llOriginalAttrs})),delete this._observer,delete this._settings,delete this.loadingCount,delete this.toLoadCount},loadAll:function(n){var t=this,e=this._settings;en(n,e).forEach((function(n){I(n,t),Q(n,e,t)}))}},an.load=function(n,t){var e=c(t);Q(n,e)},an.resetStatus=function(n){_(n)},t&&function(n,t){if(t)if(t.length)for(var e,i=0;e=t[i];i+=1)l(n,e);else l(n,t)}(an,window.lazyLoadOptions),an}));\r","import LazyLoad from 'vanilla-lazyload';import svg4everybody from 'svg4everybody';import oicInit from '../../components/blocks/object-image-overlay/_object-image-overlay';import contentWarningsInit from '../../components/blocks/object-card/_object-card';require('../../components/services/object_fit_polyfill/_poly-object-fit.js');require('../../components/blocks/background-video/_background-video.js');require('../../components/groups/block-grid/_grid-reveal-more.js');require('../../components/blocks/cookie-banner/_cookie-banner.js');require('../../components/blocks/facet-box/_facet-box.js');require('../../components/blocks/image-carousel/_image-carousel.js');require('../../components/blocks/image-overlay-license-modal/_image-overlay-license-modal.js');require('../../components/blocks/object-details/object-details.js');require('../../components/blocks/object-shuffler/_object-shuffler.js');require('../../components/blocks/modal/_modal.js');require('../../components/blocks/newsletter-signup/_newsletter-signup.js');require('../../components/blocks/search-form/_search-form.js');require('../../components/blocks/search-pagination/_search-pagination.js');require('../../components/blocks/search-result/_search-result.js');require('../../components/blocks/search-results/_search-results.js');require('../../components/blocks/site-nav/_site-nav.js');require('../../components/blocks/toggle-nav/_toggle-nav.js');require('../../components/blocks/video-thumbnail/_video-thumbnail.js');require('../../components/blocks/video-trailer/_video-trailer.js');require('../../components/groups/facet-box-modal/_facet-box-modal.js');require('../../components/groups/image-overlay/_image-overlay.js');require('../../components/groups/story-box-container/_story-box-container.js');/* eslint-disable no-new */new LazyLoad({elements_selector: 'img[data-srcset]',cancel_on_exit: false,class_loading: 's-lazyload--blur',class_error: 's-lazyload--error',callback_error: (el) => {// required for safari which won't apply pseudo elements to replaced elements like IMGel.parentNode.insertBefore(document.createElement('div'), el).className = el.className;el.parentNode.removeChild(el);}});contentWarningsInit();oicInit();svg4everybody();","const backgroundVideo = document.querySelector('.js-background-video');if (backgroundVideo) {const backgroundVideoContainer = document.querySelector('.js-background-video-container');const stopButton = document.querySelector('.js-stop-button');const timesToLoop = 20;const videoCredit = document.querySelector('.js-background-video-credit');const imageCredit = document.querySelector('.js-background-image-credit');let playCounter = 0;const showVideoCredit = () => {if (videoCredit) {videoCredit.classList.remove('hidden');}if (imageCredit) {imageCredit.classList.add('hidden');}};const hideVideoCredit = () => {if (videoCredit) {videoCredit.classList.add('hidden');}if (imageCredit) {imageCredit.classList.remove('hidden');}};// Looping videos do not trigger ended events and manually looping// videos from JS is disabled in many browsers. The canplaythrough event here// is (approximately) mimicking an ended event for loops.backgroundVideo.addEventListener('canplaythrough', () => {if (playCounter >= timesToLoop) {backgroundVideoContainer.classList.remove('b-video-background--fade');backgroundVideo.pause();hideVideoCredit();} else {backgroundVideoContainer.classList.add('b-video-background--fade');playCounter += 1;showVideoCredit();}});const pauseHiddenVideo = () => {// offsetHeight always equals 0 if an element is hiddenif (backgroundVideoContainer.offsetHeight === 0) {backgroundVideo.pause();hideVideoCredit();} else {backgroundVideo.play();showVideoCredit();}};window.addEventListener('load', () => {pauseHiddenVideo();});window.addEventListener('resize', () => {pauseHiddenVideo();});if (stopButton) {stopButton.onclick = () => {backgroundVideo.pause();backgroundVideoContainer.classList.remove('b-video-background--fade');if (backgroundVideo.paused) {stopButton.classList.add('hidden');hideVideoCredit();}};}}","const cookieBanner = document.querySelector('.js-cookie-banner');if (cookieBanner) {const closeButton = document.querySelector('.js-cookie-banner-close');document.addEventListener('DOMContentLoaded', () => {cookieBanner.classList.remove('b-cookie-banner--hidden');}, true);closeButton.onclick = (e) => {e.preventDefault();cookieBanner.classList.add('b-cookie-banner--hidden');};}","const facetClass = 'b-facet-box__facet';const facetTerm = `${facetClass}-term-toggle`;const facetTermTick = `${facetTerm}-tick`;const facetTextClass = `${facetClass}-text`;const facetTermContainerClass = `${facetClass}-term-container`;const termClass = 'b-facet-box__term';const termListClass = `${termClass}-list`;const termList = document.querySelector(`.${termListClass}`);const facetCloseClass = 'b-facet-box__close-button';const facetsWithIndex = {};const termButtonHTML = (facet, term) => `<span class=\"b-facet-box__term-text\">${facet}: ${term}</span>`;const dateFacetHTML = () => `<div class=\"b-facet-box__facet-text\" data-facet-text=\"dates\">Dates</div><div class=\"b-facet-box__facet-term-container\"><span class=\"b-facet-box__facet-term-container-text\">Use a hyphen to indicate dates BC. For example -800 is 800 BC.</span><form class=\"b-facet-box__facet-date-container\"><div class=\"b-facet-box__facet-date-container-start\"><label class=\"b-facet-box__facet-date-label\">From year:</label><input class=\"b-facet-box__facet-date-input\" placeholder=\"-800\" type=\"number\" name=\"year_made_from\"></div><div class=\"b-facet-box__facet-date-container-end\"><label class=\"b-facet-box__facet-date-label\">To year:</label><input class=\"b-facet-box__facet-date-input\" placeholder=\"2000\" type=\"number\" name=\"year_made_to\"></div><div class=\"b-facet-box__facet-date-container-button\"><label class=\"b-facet-box__facet-date-label\">&nbsp;</label><button class=\"b-facet-box__facet-date-button\"><svg class=\"b-facet-box__facet-date-button-icon\" aria-label=\"apply-date-facet\" role=\"img\"><use xlink:href=\"/assets/svg/vamicons.svg#search\"></use></svg></button></div></form><span disabled=\"false\" class=\"b-facet-box__facet-term-container-text b-facet-box__facet-term-container-text--warning\">Please enter both a start and end year.</span></div>`;const termCheckbox = (facet, paramName, term, value, count) => {const checkbox = document.createElement('LI');checkbox.className = 'b-facet-box__facet-term-toggle';checkbox.innerHTML = `<button class=\"b-facet-box__facet-term-toggle-button\"><div class=\"b-facet-box__facet-term-toggle-checkbox\"><svg class=\"b-facet-box__facet-term-toggle-tick\" aria-hidden=\"true\" role=\"img\"><use xlink:href=\"/assets/svg/vamicons.svg#tick\"></use></svg></div><span id=\"${paramName.replace(' ', '')}-${term.replace(' ', '')}-checkbox-label\" class=\"b-facet-box__facet-term-toggle-text\">${term}</span><span class=\"b-facet-box__facet-term-toggle-result\">(${count})</span></button>`;const button = checkbox.querySelector('button');button.dataset.id = `${paramName.replace(' ', '')}-${value}`;button.dataset.facet = facet;button.dataset.paramName = paramName;button.dataset.term = term;button.dataset.value = value;button.dataset.count = count;button.setAttribute('aria-labelledby', `${paramName.replace(' ', '')}-${term.replace(' ', '')}-checkbox-label`);button.setAttribute('role', 'switch');button.setAttribute('aria-checked', 'false');const hiddenInput = document.createElement('INPUT');hiddenInput.type = 'checkbox';hiddenInput.className = 'b-facet-box__hidden-input';hiddenInput.name = paramName;hiddenInput.value = value;hiddenInput.id = `${paramName}=${value}`;hiddenInput.setAttribute('aria-hidden', 'true');checkbox.addEventListener('termToggle', (e) => {const existingHiddenInput = document.querySelector(`input[id=\"${`${paramName}=${value}`}\"]`);// GOTTA ASSUME THERE'S A FORM ON THE PAGE FOR THIS TO WORK!!!// this is because formData has an order which is annoying to changeif (existingHiddenInput) {// remove hidden inputexistingHiddenInput.click();existingHiddenInput.remove();} else {document.querySelector('#vam-etc-search').appendChild(hiddenInput);document.querySelector(`input[id=\"${`${paramName}=${value}`}\"]`).checked = true;}const checked = e.target.querySelector(`.${facetTermTick}`).classList.contains(`${facetTermTick}--active`);if (checked) {e.target.setAttribute('aria-checked', 'false');} else {e.target.setAttribute('aria-checked', 'true');}e.target.querySelector(`.${facetTermTick}`).classList.toggle(`${facetTermTick}--active`);if (!e.detail.refreshing_page) {document.querySelector('.b-facet-box').dispatchEvent(new Event('boxChecked', { bubbles: true }));}});return checkbox;};const facetHTML = (facet, seeMore) => `<button class=\"b-facet-box__facet-text\" data-facet-text=\"${facet}\">${facet}</button><ul data-facet=\"${facet}\" class=\"b-facet-box__facet-term-container\">${seeMore ? `<li class=\"b-facet-box__term-more-container\"><button data-facet=\"${facet}\" class=\"b-facet-box__term-more\" aria-label=\"see more terms of facet ${facet}\">See more</button></li>` : ''}</ul>`;const revealMoreFacets = (e) => {e.preventDefault();const linkEl = e.target.parentNode;const facetContainer = e.target.parentNode.parentNode;const { terms, index, facet, paramName } = facetsWithIndex[e.target.dataset.facet];terms.slice(index, index + 5).forEach(({ term, count, value }) => {facetContainer.appendChild(termCheckbox(facet, paramName, term, value, count));});facetsWithIndex[facet].index += 5;if ((facetsWithIndex[facet].index) < terms.length) {facetContainer.appendChild(linkEl);} else {linkEl.remove();}Array.from(facetContainer.querySelectorAll('.b-facet-box__facet-term-toggle-button')).slice(-1)[0].focus();};const createFacets = (activeFacets) => {const facetBoxContainer = document.querySelector('.b-facet-box__facet-container');const facetToTerm = Array.from(activeFacets).reduce((res, termfacet) => {const facet = termfacet.split('-')[0];const term = termfacet.split('-')[1];if (res[facet]) {res[facet].push(term);} else {res[facet] = [term];}return res;}, {});Object.values(facetsWithIndex).forEach(({ facet, terms, paramName, index }) => {const newFacet = document.createElement('DIV');newFacet.className = 'b-facet-box__facet';newFacet.setAttribute('data-param-name', paramName);newFacet.innerHTML = facetHTML(facet, terms.length > 5);newFacet.setAttribute('aria-haspopup', 'true');newFacet.setAttribute('aria-expanded', 'false');newFacet.addEventListener('click', (e) => {e.preventDefault();if (e.target.classList.contains(facetTextClass)) {e.target.parentNode.setAttribute('aria-expanded', String(!(e.target.parentNode.getAttribute('aria-expanded') === 'true')));e.target.classList.toggle(`${e.target.classList[0]}--active`);e.target.parentNode.querySelector(`.${facetTermContainerClass}`).classList.toggle(`${facetTermContainerClass}--active`);}});const termValues = terms.map(t => t.value);let newIndex = (facetToTerm[paramName] && facetToTerm[paramName].reduce((current, term) => {const test = termValues.indexOf(term);return (current > test ? current : test);}, 5)) || 0;newIndex = ((Math.ceil(newIndex / 5) * 5));newIndex = newIndex > terms.length ? terms.length : (newIndex || 5);terms.slice(index, newIndex).forEach(({ term, count, value }) => {newFacet.querySelector(`.${facetTermContainerClass}`).appendChild(termCheckbox(facet, paramName, term, value, count));});facetsWithIndex[facet].index += (newIndex);if (terms.length > 5) {if (facetsWithIndex[facet].index < terms.length) {newFacet.querySelector(`.${facetTermContainerClass}`).appendChild(newFacet.querySelector('.b-facet-box__term-more-container'));newFacet.querySelector(`.${facetTermContainerClass} .b-facet-box__term-more`).onclick = (e) => {e.preventDefault();revealMoreFacets(e);};} else {newFacet.querySelector(`.${facetTermContainerClass}`).appendChild(newFacet.querySelector('.b-facet-box__term-more-container')).remove();}}facetBoxContainer.appendChild(newFacet);});};const newTermToggleEvent = (detail, bubbles = true) => new CustomEvent('termToggle', {detail,bubbles});const initialiseFacetOverlay = () => {const toggleTerm = ({ id, facet, term, paramName }) => {if (id) {const termButtons = Array.from(document.querySelectorAll(`button[data-id='${id}']`)).filter(el => !el.classList.contains('b-facet-box__facet-term-toggle-button'));// if term already exists, get rid of itif (termButtons.length) {termButtons.forEach(el => el.remove());if (!document.querySelector('.b-search-form__facets').children.length) {document.querySelector('.b-search-form__facet-pane').classList.remove('b-search-form__facet-pane--active');}window.dispatchEvent(new Event('resize'));} else {const newTermOnClick = () => {Array.from(document.querySelectorAll(`button[data-id='${id}']`)).forEach(el => el.dispatchEvent(newTermToggleEvent({ id, facet, term, paramName })));};const newTerm = document.createElement('button');newTerm.dataset.id = id;newTerm.className = 'b-facet-box__term';newTerm.innerHTML = termButtonHTML(facet, term);newTerm.onclick = (e) => {const button = e.target.closest('.b-facet-box__term');if (button.dataset.id === 'date_terms') {const inputs = Array.from(document.querySelectorAll('.b-facet-box__facet-date-container input'));inputs.forEach((input) => { input.value = ''; });}e.preventDefault();newTermOnClick(e);};newTerm.classList.add('b-facet-box__term--mobile');termList.appendChild(newTerm);const newFormTerm = newTerm.cloneNode(true);newFormTerm.classList.remove('b-facet-box__term--mobile');newFormTerm.onclick = (e) => {const button = e.target.closest('.b-facet-box__term');if (button.dataset.id === 'date_terms') {const inputs = Array.from(document.querySelectorAll('.b-facet-box__facet-date-container input'));inputs.forEach((input) => { input.value = ''; });}e.preventDefault();newTermOnClick(e);};newFormTerm.classList.add('b-facet-box__term--form');if (document.querySelector('.b-search-form__facets')) {document.querySelector('.b-search-form__facets').appendChild(newFormTerm);}if (!document.querySelector('.b-search-form__facet-pane--active')) {document.querySelector('.b-search-form__facet-pane').classList.add('b-search-form__facet-pane--active');}window.dispatchEvent(new Event('resize'));}}};termList.addEventListener('termToggle', (e) => {e.stopPropagation();toggleTerm(e.detail);});document.querySelector('.b-facet-box').addEventListener('newFacets', (e) => {// need this step to prevent keeping in memory some facets...Object.keys(facetsWithIndex).forEach(facetKey => delete facetsWithIndex[facetKey]);const { facets, activeFacets } = e.detail;facets.forEach((facet) => {Object.assign(facetsWithIndex, {[facet.facet]: Object.assign(facet, { index: 0 })});});Array.from(document.querySelectorAll('.b-facet-box__hidden-input')).forEach(el => el.remove());const facetBoxContainer = document.querySelector('.b-facet-box__facet-container');facetBoxContainer.innerHTML = '';termList.innerHTML = '';createFacets(activeFacets);const dateFacet = document.createElement('DIV');dateFacet.className = 'b-facet-box__facet b-facet-box__facet-date';dateFacet.innerHTML = dateFacetHTML();dateFacet.addEventListener('click', (ev) => {e.preventDefault();if (ev.target.classList.contains(facetTextClass)) {ev.target.classList.toggle(`${ev.target.classList[0]}--active`);ev.target.parentNode.querySelector(`.${facetTermContainerClass}`).classList.toggle(`${facetTermContainerClass}--active`);}});dateFacet.querySelector('form').addEventListener('submit', (ev) => {ev.preventDefault();ev.stopPropagation();const inputs = Array.from(document.querySelectorAll('.b-facet-box__facet-date-container input'));inputs.forEach(input => input.classList.remove('b-facet-box__facet-date-input--error'));const dates = inputs.map(el =>el.value);if (dates.filter(value => value.length).length !== 2) {dates.forEach((date, i) => {if (!date.length) {inputs[i].classList.add('b-facet-box__facet-date-input--error');}});document.querySelector('.b-facet-box__facet-term-container-text--warning').removeAttribute('disabled');} else {const hiddenDateInput = document.createElement('INPUT');hiddenDateInput.type = 'hidden';hiddenDateInput.className = 'b-search-results__hidden-date';document.querySelectorAll('.b-search-results__hidden-date').forEach(el => el.remove());const isBCDate = date => (parseInt(date, 10) < 0 ? `${date * -1} BC` : date);if (document.querySelector('button[data-id=\"date_terms\"]')) {termList.dispatchEvent(newTermToggleEvent({facet: 'dates',id: 'date_terms',paramName: 'date_terms',refreshing_page: false,term: `${isBCDate(dates[0])} - ${isBCDate(dates[1])}`},true));}document.querySelector('.b-facet-box__facet-term-container-text--warning').setAttribute('disabled', 'true');const hiddenDateInputBefore = hiddenDateInput.cloneNode(true);hiddenDateInputBefore.name = 'year_made_from';hiddenDateInputBefore.value = dates[0];const hiddenDateInputAfter = hiddenDateInput.cloneNode(true);hiddenDateInputAfter.name = 'year_made_to';hiddenDateInputAfter.value = dates[1];document.querySelector('#vam-etc-search').appendChild(hiddenDateInputBefore);document.querySelector('#vam-etc-search').appendChild(hiddenDateInputAfter);termList.dispatchEvent(newTermToggleEvent({facet: 'dates',id: 'date_terms',paramName: 'date_terms',refreshing_page: false,term: `${isBCDate(dates[0])} - ${isBCDate(dates[1])}`},true));}});facetBoxContainer.append(dateFacet);const dateFacetInputs = {};if (activeFacets) {// is a set...Array.from(activeFacets).forEach((facetId) => {const target = document.querySelector(`button[data-id='${facetId}'`);const splitFacetId = facetId.split('-');if (target) {target.dispatchEvent(newTermToggleEvent(Object.assign(target.dataset, { refreshing_page: true })));document.querySelector(`.${termListClass}`).dispatchEvent(newTermToggleEvent(target.dataset));} else {while (!document.querySelector(`button[data-id='${facetId}']`) &&document.querySelector(`div[data-param-name=\"${splitFacetId[0]}\"] .b-facet-box__term-more`)) {document.querySelector(`div[data-param-name=\"${splitFacetId[0]}\"] .b-facet-box__term-more`).click();document.querySelector(`button[data-id='${facetId}'`).dispatchEvent(newTermToggleEvent(Object.assign(document.querySelector(`button[data-id='${facetId}'`).dataset, { refreshing_page: true })));document.querySelector(`.${termListClass}`).dispatchEvent(newTermToggleEvent(document.querySelector(`button[data-id='${facetId}'`).dataset));}}let key;if ((splitFacetId[0] === 'year_made_from') ||(splitFacetId[0] === 'year_made_to')) {key = splitFacetId[0];dateFacet.querySelector(`input[name=\"${key}\"]`).value = splitFacetId.length !== 2 ? `-${splitFacetId[2]}` : splitFacetId[1];dateFacetInputs[key] = splitFacetId.length !== 2 ? `-${splitFacetId[2]}` : splitFacetId[1];if (Object.keys(dateFacetInputs).length === 2) {// i am not sure why i have to click here instead of submitting but it worksdateFacet.querySelector('form button').click();}}});}window.dispatchEvent(new Event('resize'));}, true);document.onclick = (e) => {if (e.target.classList.contains(facetCloseClass)) {e.preventDefault();e.target.dispatchEvent(new Event('closeFacetOverlay', {bubbles: true}));}if (e.target.closest(`.${facetTerm}-button`)) {e.preventDefault();const parent = e.target.closest(`.${facetTerm}-button`);termList.dispatchEvent(newTermToggleEvent(parent.dataset, false));parent.dispatchEvent(newTermToggleEvent(parent.dataset));}};};(() => {if (document.querySelector('.b-facet-box')) {initialiseFacetOverlay();if (document.querySelector('.b-facet-box__modal-button-open')) {document.querySelectorAll('.b-facet-box__modal-button-open').forEach(el => el.addEventListener('click', (e) => {e.preventDefault();document.querySelector('.b-facet-box').classList.add('b-facet-box--active');}));}if (document.querySelector('.b-facet-box__close-button')) {document.querySelector('.b-facet-box__close-button').addEventListener('click', (e) => {e.preventDefault();document.querySelector('.b-facet-box').classList.remove('b-facet-box--active');});}window.addEventListener('resize', () => {const facetFormTerms = Array.from(document.querySelectorAll('.b-facet-box__term.b-facet-box__term--form'));if (document.querySelector('.b-facet-box__term-text.b-facet-box__term-text--no-cross')) {if (window.innerWidth > 499 && window.innerWidth < 992) {const facetContainerWidth = document.querySelector('.b-search-form__facets').offsetWidth;let cutOffWidth = 0;let currentIndex = 1;facetFormTerms.forEach((el) => {cutOffWidth += el.offsetWidth;if (cutOffWidth < facetContainerWidth) {currentIndex += 1;}});if ((facetFormTerms.length - currentIndex) > 0) {document.querySelector('.b-search-form__facets-mobile').style.display = 'block';} else {document.querySelector('.b-search-form__facets-mobile').style.display = 'none';}document.querySelector('.b-facet-box__term-text.b-facet-box__term-text--no-cross').innerHTML = `+${facetFormTerms.length - currentIndex}`;} else if (window.innerWidth < 500) {if ((facetFormTerms.length) > 0) {document.querySelector('.b-search-form__facets-mobile').style.display = 'block';} else {document.querySelector('.b-search-form__facets-mobile').style.display = 'none';}document.querySelector('.b-facet-box__term-text.b-facet-box__term-text--no-cross').innerHTML = `${facetFormTerms.length - 1} filter${facetFormTerms.length - 1 > 1 ? 's' : ''} applied`;} else {document.querySelector('.b-search-form__facets-mobile').style.display = 'none';}}});}})();","const imageCarousel = document.querySelector('.b-image-carousel');const concealRight = document.querySelector('.b-image-carousel__conceal-right');const concealLeft = document.querySelector('.b-image-carousel__conceal-left');const prevButton = Array.from(document.querySelectorAll('.b-image-carousel__prev'));const nextButton = Array.from(document.querySelectorAll('.b-image-carousel__next'));const totalNumberOfImages = document.querySelector('.b-image-overlay-detail__total-number-of-images');const imageCounter = document.querySelector('.b-image-overlay-detail__current-image');const imageRef = document.querySelector('.b-image-overlay__img-ref-number');const copyrightNotice = document.querySelector('.b-image-overlay-detail__copyright-holder');const contactModal = document.querySelector('.b-modal__description-license-contact');const mobilePrevNextButtons = document.querySelectorAll('.b-image-overlay-detail__navigation-container button');const desktopPrevNextButtons = document.querySelectorAll('.b-image-carousel__navigation-container button');let images = [];if (imageCarousel) {images = (imageCarousel ? JSON.parse(imageCarousel.dataset.images) : { images: [] }).images;}if (imageCarousel && images.length) {let image = document.querySelector('.b-image-overlay__image');const imagesWithImage = images.map(({ src, alt, ref, copyright }) => {const newImage = new Image();newImage.src = src;newImage.alt = alt;newImage.className = 'b-image-overlay__image b-image-overlay__image--active';newImage.dataset.ref = ref;newImage.dataset.copyright = copyright;return newImage;});const changeViewIndex = (index) => {const numberOfContainers = document.querySelectorAll('.b-image-carousel__image-preview-container').length;if (index > 0) {imageCarousel.dataset.viewIndex = index > (images.length - numberOfContainers) ?images.length - numberOfContainers : index;} else {imageCarousel.dataset.viewIndex = 0;}};const changeIndex = (index) => {imageCarousel.dataset.index = index;};const thumbs = images.map(({ thumb, alt }) => {const newImage = new Image();newImage.src = thumb;newImage.alt = `thumbnail for ${alt}`;newImage.className = 'b-image-carousel__image-preview';return newImage;});const initImageCarouselContainers = (newSelection) => {const carouselContainers = Array.from(document.querySelectorAll('.b-image-carousel__image-preview-container'));const viewIndex = parseInt(imageCarousel.dataset.viewIndex, 10);carouselContainers.forEach((container, i) => {const index = (viewIndex + i);container.classList.remove('b-image-carousel__image-preview-container--selected');if (index === parseInt(imageCarousel.dataset.index, 10)) {container.classList.add('b-image-carousel__image-preview-container--selected');if (newSelection) {container.focus();}}if (images[index].alt) {container.setAttribute('aria-label', `view ${images[index].alt}`);}if (container.firstElementChild) {container.firstElementChild.remove();}container.appendChild(thumbs[index]);container.onclick = () => {changeIndex(index);};});};const callback = (mutations) => {if (mutations.filter(mutation => mutation.attributeName === 'data-view-index').length) {const viewIndex = parseInt(imageCarousel.dataset.viewIndex, 10);concealLeft.style.display = (viewIndex > 0) ? 'block' : 'none';concealRight.style.display = ((viewIndex + document.querySelectorAll('.b-image-carousel__image-preview-container').length) >= images.length) ? 'none' : 'block';}if (mutations.filter(mutation => mutation.attributeName === 'data-index').length) {const index = parseInt(imageCarousel.dataset.index, 10);changeViewIndex(index - Math.floor(document.querySelectorAll('.b-image-carousel__image-preview-container').length / 2));const newImage = imagesWithImage[index];const imageParent = document.querySelector('.b-image-overlay__figure');image.remove();imageParent.appendChild(newImage);const { ref, copyright } = newImage.dataset;contactModal.setAttribute('href', `mailto:vaimages@vam.ac.uk?subject=Image reference: ${ref}`);imageRef.innerHTML = ref;copyrightNotice.innerHTML = copyright;image = newImage;initImageCarouselContainers(true);if (window.innerWidth > 991) {if (index > 0) {desktopPrevNextButtons[0].removeAttribute('disabled');} else {desktopPrevNextButtons[0].setAttribute('disabled', 'true');}if ((index === images.length - 1)) {desktopPrevNextButtons[1].setAttribute('disabled', 'true');} else {desktopPrevNextButtons[1].removeAttribute('disabled');}} else {if (index > 0) {mobilePrevNextButtons[0].removeAttribute('disabled');} else {mobilePrevNextButtons[0].setAttribute('disabled', 'true');}if ((index === images.length - 1)) {mobilePrevNextButtons[1].setAttribute('disabled', 'true');} else {mobilePrevNextButtons[1].removeAttribute('disabled');}}imageCounter.innerHTML = `${index + 1}`;}};const observer = new MutationObserver(callback);observer.observe(imageCarousel, { attributes: true });document.addEventListener('keydown', () => {if (document.querySelector('.b-image-overlay__container--active')) {if (event.keyCode === 37) {const index = parseInt(imageCarousel.dataset.index, 10) - 1;if (index >= 0) {changeIndex(index);}}if (event.keyCode === 39) {const index = parseInt(imageCarousel.dataset.index, 10) + 1;if (index < images.length) {changeIndex(index);}}}});const button = document.createElement('BUTTON');button.className = 'b-image-carousel__image-preview-container';button.innerHTML = '<div class=\"b-image-carousel__image-preview\"></div>';const initImageCarousel = () => {totalNumberOfImages.innerHTML = images.length;if (!imageCarousel.dataset.index) {imageCarousel.dataset.index = 0;}if (!imageCarousel.dataset.viewIndex) {imageCarousel.dataset.viewIndex = 0;}if (imageCarousel) {if (window.innerWidth < 1200) {if (document.querySelectorAll('.b-image-carousel__image-preview-container').length > 3 ||document.querySelectorAll('.b-image-carousel__image-preview-container').length === 0) {document.querySelector('.b-image-carousel__image-carousel').innerHTML = '';for (let i = 0; i < 3 && i !== images.length; i += 1) {document.querySelector('.b-image-carousel__image-carousel').appendChild(button.cloneNode(true));}}} else if (window.innerWidth > 1199) {if ((document.querySelectorAll('.b-image-carousel__image-preview-container').length < 5 ||document.querySelectorAll('.b-image-carousel__image-preview-container').length === 0)&& images.length !== document.querySelectorAll('.b-image-carousel__image-preview-container').length) {document.querySelector('.b-image-carousel__image-carousel').innerHTML = '';for (let i = 0; i < 5 && i !== images.length; i += 1) {document.querySelector('.b-image-carousel__image-carousel').appendChild(button.cloneNode(true));}}}}};const disableHiddenNavButtons = () => {if (window.innerWidth < 992) {mobilePrevNextButtons.forEach((el) => {el.removeAttribute('disabled');});desktopPrevNextButtons.forEach((el) => {el.setAttribute('disabled', 'true');});}if (window.innerWidth > 991) {mobilePrevNextButtons.forEach((el) => {el.setAttribute('disabled', 'true');});desktopPrevNextButtons.forEach((el) => {el.removeAttribute('disabled');});}};concealRight.onclick = () => {const viewIndex = parseInt(imageCarousel.dataset.viewIndex, 10) + 1;changeViewIndex(viewIndex);initImageCarouselContainers();};concealLeft.onclick = () => {const viewIndex = parseInt(imageCarousel.dataset.viewIndex, 10) - 1;changeViewIndex(viewIndex);initImageCarouselContainers();};prevButton.forEach((el) => {el.onclick = () => {const index = parseInt(imageCarousel.dataset.index, 10);changeIndex(index - 1);};});nextButton.forEach((el) => {el.onclick = () => {const index = parseInt(imageCarousel.dataset.index, 10);changeIndex(index + 1);};});window.addEventListener('resize', () => {initImageCarousel();changeIndex(parseInt(imageCarousel.dataset.index, 10));disableHiddenNavButtons();imageCarousel.dataset.index = imageCarousel.dataset.index;initImageCarouselContainers();});disableHiddenNavButtons();initImageCarousel();imageCarousel.dataset.index = imageCarousel.dataset.index;initImageCarouselContainers();}","const prefix = 'b-image-overlay-license-modal';const downloadButtonClass = '__download-button';const contactButton = '__contact-button';const modalClass = '__image-modal';const contactModalOpen = '__contact-modal-open';const iconLinkContainer = '__icon-link-container';const checkmark = '__checkmark';const imageIconLink = '__image-icon-link';const agreeToTerms = '__agree-to-terms';const downloadContentClass = '__modal-download-content';const contactContentClass = '__modal-contact-content';const checkboxContainer = '__checkbox-container';const agreeCheckbox = '__agree-checkbox';const agreeToTermsReminder = '__agree-to-terms-reminder';const active = '--active';const warning = '--warning';const elements = [iconLinkContainer,checkmark,imageIconLink,agreeToTerms];const modal = document.querySelector(`.${prefix}${modalClass}`);const imageOverlay = document.querySelector('.b-image-overlay');const downloadContent = document.querySelector(`.${prefix}${downloadContentClass}`);const contactContent = document.querySelector(`.${prefix}${contactContentClass}`);const downloadLink = document.querySelector('.u-link.b-image-overlay-license-modal__download-link.js-modal-action');const downloadButton = document.querySelector('.b-icon-link.b-icon-link__download.js-modal-action');window.addEventListener('click', (e) => {if (e.target.closest(`.${prefix}${downloadButtonClass}`)) {window.setTimeout(() => {document.querySelector('.b-image-overlay-license-modal__agree-to-terms').focus();}, 10);imageOverlay.classList.add('b-image-overlay--unfocus');modal.dispatchEvent(new CustomEvent('jsModalOpen', { bubbles: true }));modal.classList.add('b-modal--active');downloadContent.classList.add(`${prefix}${downloadContentClass}${active}`);contactContent.classList.remove(`${prefix}${contactContentClass}${active}`);}if (e.target.closest(`.${prefix}${contactButton}`)) {window.setTimeout(() => {document.querySelector('.b-modal__description-license-contact').focus();}, 10);imageOverlay.classList.add('b-image-overlay--unfocus');modal.dispatchEvent(new CustomEvent('jsModalOpen', { bubbles: true }));modal.classList.add('b-modal--active');downloadContent.classList.remove(`${prefix}${downloadContentClass}${active}`);contactContent.classList.add(`${prefix}${contactContentClass}${active}`);}if (e.target.closest(`.${prefix}${contactModalOpen}`)) {window.setTimeout(() => {document.querySelector('.b-modal__description-license-contact').focus();}, 10);downloadContent.classList.remove(`${prefix}${downloadContentClass}${active}`);contactContent.classList.add(`${prefix}${contactContentClass}${active}`);}if (e.target.closest(`.${prefix}${checkboxContainer}`)) {if (e.target.closest(`.${prefix}${agreeToTerms}`) === document.querySelector(`.${prefix}${agreeToTerms}`)) {document.querySelector(`.${prefix}${agreeCheckbox}`).checked =!document.querySelector(`.${prefix}${agreeCheckbox}`).checked;document.querySelector(`.${prefix}${agreeToTerms}`).classList.remove(`${prefix}${agreeToTerms}${warning}`);if (document.querySelector(`.${prefix}${agreeCheckbox}`).checked) {document.querySelector(`.${prefix}${agreeToTermsReminder}`).style.display = 'none';elements.forEach(c =>document.querySelector(`.${prefix}${c}`) && document.querySelector(`.${prefix}${c}`).classList.add(`${prefix}${c}--active`));document.querySelector('.b-image-overlay-license-modal__download-link .b-icon-link').classList.add('b-icon-link--active');downloadLink.setAttribute('data-tracking-collections', 'image download');downloadButton.setAttribute('data-tracking-collections', 'image download');} else {elements.forEach(c =>document.querySelector(`.${prefix}${c}`) && document.querySelector(`.${prefix}${c}`).classList.remove(`${prefix}${c}--active`));document.querySelector('.b-image-overlay-license-modal__download-link .b-icon-link').classList.remove('b-icon-link--active');downloadLink.removeAttribute('data-tracking-collections');downloadButton.removeAttribute('data-tracking-collections');}}}if (e.target.closest(`.${prefix}${checkboxContainer}`)) {if (!document.querySelector(`.${prefix}${agreeCheckbox}`).checked) {document.querySelector(`.${prefix}${agreeToTermsReminder}`).style.display = 'block';document.querySelector(`.${prefix}${agreeToTerms}`).classList.add(`${prefix}${agreeToTerms}${warning}`);}}});window.addEventListener('keydown', (e) => {const activeModal = (document.querySelector(`.${prefix}${modalClass}.b-modal--active`));const activeContent = document.querySelector(`.${prefix}${downloadContentClass}.${prefix}${downloadContentClass}${active}`) ||document.querySelector(`.${prefix}${contactContentClass}.${prefix}${contactContentClass}${active}`);if (activeModal) {// https://stackoverflow.com/a/60031728 w/ modificationsif (e.keyCode === 9) {const focusable = activeContent.querySelectorAll('button');const first = focusable[0];const last = focusable[focusable.length - 1];const shift = e.shiftKey;if (focusable.length) {if (shift && document.activeElement === first) {last.focus();e.preventDefault();} else if (!shift && document.activeElement === last) {first.focus();e.preventDefault();}}}}if (activeModal && e.keyCode === 27) {modal.classList.remove('b-modal--active');e.preventDefault();e.stopPropagation();return false;}// idk, it stops lint complainingreturn true;});","import cookies from 'browser-cookies';const modals = document.querySelectorAll('.js-modal');function modalTracking (category, action) {window.dataLayer = window.dataLayer || [];window.dataLayer.push({event: 'myClick',category,action});}Array.from(modals, (modal) => {const modalCampaign = modal.dataset.modalCampaign;if ((!modal.dataset.modalOnceOnly || !cookies.get(modalCampaign)) &&!modal.dataset.notOnLoad) {document.body.appendChild(modal);modal.classList.add('b-modal--active');modalTracking(modalCampaign, 'pop-up displayed');}modal.addEventListener('click', (e) => {if (modal.dataset.modalOnceOnly) {cookies.set(modalCampaign, 'seen', { domain: modal.dataset.modalDomain, expires: 365 });}if (e.target !== modal) {if (!!(Array.from(e.target.classList).find(c => c === 'js-modal-action')) || e.target.closest('.js-modal-action')) {modalTracking(modalCampaign, `clicked: ${e.target.textContent}`);} else {modalTracking(modalCampaign, 'pop-up dismissed');modal.dispatchEvent(new CustomEvent('jsModalClosed', { bubbles: true }));modal.classList.remove('b-modal--active');}}});return true;});","function isEmail (t) {const e = /^([\\w-]+(?:\\.[\\w-]+)*)@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$/i;return e.test(t);}Array.from(document.querySelectorAll('.js-newsletter_form'), (signupForm) => {signupForm.addEventListener('submit', (e) => {e.preventDefault();const emailField = signupForm.querySelector('.js-emailValidation');const emailDescriptor = signupForm.querySelector('.js-newsletter__descriptor');const emailBtn = signupForm.querySelector('.js-newsletter__submit');const httpRequest = new XMLHttpRequest();let formInputs = '';if (isEmail(emailField.value)) {if (!httpRequest) {signupForm.submit();}Array.from(signupForm.querySelectorAll('input'), (ip) => {formInputs += `${ip.name}=${encodeURIComponent(ip.value)}&`;return true;});httpRequest.onreadystatechange = () => {if (httpRequest.readyState === XMLHttpRequest.DONE) {if (httpRequest.status === 200) {emailBtn.value = 'Thank you!';emailDescriptor.innerHTML ='A confirmation email will be sent to this address shortly&hellip;';signupForm.classList.remove('invalid');signupForm.classList.add('sent');} else {signupForm.submit();}}};httpRequest.open('POST', signupForm.action);httpRequest.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');httpRequest.send(formInputs);} else {emailDescriptor.innerHTML = \"That doesn't look like an email address&hellip;\";signupForm.classList.add('invalid');}});return true;});","export default (() => {Array.from(document.querySelectorAll('.b-object-card__warning'), (card) => {card.innerHTML = `<div class=\"b-object-card__warning__banner\"><div class=\"b-object-card__warning__banner__text\">This object, or the text that describes it, is deemed offensive and discriminatory. We are committed to improving our records, and work is ongoing.</div><div class=\"b-object-card__warning__banner__dismiss\">View record</div></div>${card.innerHTML}`;return true;});});document.addEventListener('click', (e) => {if (e.target.closest('.b-object-card__warning')) {e.preventDefault();e.stopImmediatePropagation();e.target.closest('.b-object-card__warning').classList.remove('b-object-card__warning');return false;}return true;}, false);","const revealEl = document.createElement('DIV');const classes = ['etc-details__cell-concealer','etc-details__cell-revealer'];const html = ['<span class=\"etc-details__cell-concealer-text\">Read More</span><button class=\"etc-details__cell-concealer-button\">+</button>','<span class=\"etc-details__cell-concealer-text\">Read Less</span><button class=\"etc-details__cell-concealer-button\">-</button>'];function clickFunction (e) {const hiddenClass = 'etc-details__cell-free-content--hidden';const textEl = e.target.parentElement.querySelector('.etc-details__cell-free-content');const textElConcealed = textEl.classList.contains(hiddenClass);e.target.innerHTML = html[textElConcealed ? 1 : 0];e.target.className = classes[textElConcealed ? 1 : 0];if (textElConcealed) {textEl.classList.remove(hiddenClass);e.target.setAttribute('data-tracking-collections', 'read less');} else {textEl.classList.add(hiddenClass);e.target.setAttribute('data-tracking-collections', 'read more');}}function initRevealer () {revealEl.className = classes[0];revealEl.innerHTML = html[0];revealEl.setAttribute('data-tracking-collections', 'read more');Array.from(document.querySelectorAll('.etc-details__cell-free')).forEach((e) => {if (e.offsetHeight > 200) {const content = e.querySelector('.etc-details__cell-free-content');content.classList.add('etc-details__cell-free-content--hidden');const clone = revealEl.cloneNode(true);clone.onclick = clickFunction;e.appendChild(clone);}});}initRevealer();","/* eslint-disable no-underscore-dangle */const oicInit = () => {const oicSeeds = Array.from(document.querySelectorAll('.js-object-image-overlay-item'));if (oicSeeds.length) {const oic = document.querySelector('.b-object-image-overlay') || document.createElement('div');document.body.appendChild(oic);oic.classList.add('b-object-image-overlay');oic.innerHTML = `<button class=\"b-object-image-overlay__dismiss\" title=\"Close\" aria-label=\"Close\"></button><div class=\"b-object-image-overlay__items\"></div>`;const items = oic.querySelector('.b-object-image-overlay__items');oic.addItem = (index, prepend = false) => {const seed = oicSeeds[index] || oicSeeds[0];const data = seed.dataset.objectImageOverlay ?JSON.parse(seed.dataset.objectImageOverlay): null;const museumNumber = data && data.museumNumber ?`Museum number: <span itemprop=\"identifier\">${data.museumNumber}</span>`: '';const copyright = data && data.copyright ?`<br/><span itemprop=\"copyrightHolder\">${data.copyright}</span>`: '';const numberCopyright = museumNumber || copyright ?`<div class=\"b-object-image-overlay__numbercopyright\">${museumNumber}${copyright}</div>`: '';const onDisplay = data && data.onDisplay ?`<div class=\"b-object-image-overlay__location-status\"><svg role=\"img\" viewBox=\"0 0 52 52\"><path d=\"M51.59 25.348C45.15 15.57 35.838 10 26 10S6.851 15.57.41 25.348L0 26l.41.652C6.85 36.43 16.162 42 26 42s19.149-5.57 25.59-15.348L52 26l-.41-.652zM25.5 35c-5.225 0-9.5-4.275-9.5-9.5s4.275-9.5 9.5-9.5 9.5 4.275 9.5 9.5-4.275 9.5-9.5 9.5z\" fill=\"currentColor\"/></svg>On display</div>`: '';let locationCopy = '';if (data && data.onDisplay) {locationCopy = data.displayOverride;if (!locationCopy) {const locationSite = data.locationSite ?`<div class=\"b-object-image-overlay__location-site\">${data.locationSite}</div>`: '';const locationRoom = data.locationRoom ?data.locationRoom: '';locationCopy = locationSite + locationRoom;}} else if (data && data.onDisplay !== null && !data.onDisplay) {locationCopy = data.storageOverride || 'This object is currently not on display';}const visitLink = data && data.visitUrl ?`<a tabindex=\"-1\" class=\"b-object-image-overlay__visit\" href=\"${data.visitUrl}\" data-tracking-oic=\"visit the object\">Find out how to visit this object</a>`: '';const location = locationCopy || visitLink ?`<div class=\"b-object-image-overlay__location\">${onDisplay}<div class=\"b-object-image-overlay__location-copy\">${locationCopy}</div>${visitLink}</div>` : '';const objectUrl = seed.querySelector('a').getAttribute('href');const ctaScreen = objectUrl.length > 1 ?`<br/><a tabindex=\"-1\" class=\"b-object-image-overlay__cta b-object-image-overlay__cta--screen\" href=\"${objectUrl}\" data-tracking-oic=\"explore the object\">Explore object in more depth</a>`: '';const ctaMobile = objectUrl.length > 1 ?`<a tabindex=\"-1\" class=\"b-object-image-overlay__cta b-object-image-overlay__cta--mobile\" href=\"${objectUrl}\" data-tracking-oic=\"explore the object\">Explore object in more depth</a>`: '';const item = document.createElement('div');item.classList.add('b-object-image-overlay__item');item.innerHTML += `<div class=\"b-object-image-overlay__content\"><figure class=\"b-object-image-overlay__figure\"><img class=\"b-object-image-overlay__image\"itemprop=\"contentUrl\"alt=\"${seed.querySelector('img').alt}\"sizes=\"(max-width: 991px) calc(100vw - 20px),(min-width: 992px) calc(70vw - 145px),(min-width: 1200px) 710px\"srcset=\"${seed.querySelector('img').srcset}\"src=\"${seed.querySelector('img').src}\"><figcaption class=\"b-object-image-overlay__figcaption\">${numberCopyright}<div class=\"b-object-image-overlay__prevnext\"><button disabled class=\"b-object-image-overlay__prev b-object-image-overlay__prev--disabled\" title=\"Previous\" aria-label=\"Previous\" data-tracking-oic=\"previous object\"><svg role=\"img\" viewBox=\"0 0 100 100\"><path fill=\"none\" d=\"M-1-1h582v402H-1z\"/><path d=\"M70.173 12.294L57.446.174l-47.62 50 47.62 50 12.727-12.122-36.075-37.879z\" fill=\"currentColor\"/></svg></button><button disabled class=\"b-object-image-overlay__next b-object-image-overlay__next--disabled\" title=\"Next\" aria-label=\"Next\" data-tracking-oic=\"next object\"><svg role=\"img\" viewBox=\"0 0 100 100\"><path fill=\"none\" d=\"M-1-1h582v402H-1z\"/><path d=\"M20 88.052l12.727 12.121 47.62-50-47.62-50L20 12.294l36.075 37.88z\" fill=\"currentColor\"/></svg></button></div></figcaption></figure><div class=\"b-object-image-overlay__details\"><div class=\"b-object-image-overlay__caption\">${seed.querySelector('figcaption').textContent}${ctaScreen}</div>${location}${ctaMobile}</div></div>`;if (prepend) {items.insertBefore(item, items.firstElementChild);} else {items.appendChild(item);}};oic.getIndex = (seed) => {const index = oicSeeds.findIndex((el) => {const match = (el === seed);return match;});return index;};oic.clipItem = (last = false) => {if (last) {items.lastElementChild.remove();} else {items.firstElementChild.remove();}};oic.buttonInit = (rewind) => {// need to disable all buttons and links on screen first then re-enable// buttons that are on screenoic.querySelectorAll('button').forEach(el => el.setAttribute('disabled', true));oic.querySelectorAll('a').forEach(el => el.setAttribute('tabindex', '-1'));if (window.innerWidth > 991) {oic.querySelector('.b-object-image-overlay__dismiss').removeAttribute('disabled');}oic.querySelector('.b-object-image-overlay__dismiss').removeAttribute('disabled');// this logic needs to be here because otherwise the buttons off screen// will be focused by tabbingconst item = document.querySelectorAll('.b-object-image-overlay__item')[1];const itemPrev = item.querySelector('.b-object-image-overlay__prev');const itemNext = item.querySelector('.b-object-image-overlay__next');// buttons only appear on desktop but still are present and// focusable on mobile viewif (window.innerWidth > 991) {if (oic._index > 0) {itemPrev.classList.add('b-object-image-overlay__prev--enabled');itemPrev.removeAttribute('disabled');}if (oic._index < oicSeeds.length - 1) {itemNext.classList.add('b-object-image-overlay__next--enabled');itemNext.removeAttribute('disabled');}}item.querySelectorAll('a').forEach(el => el.removeAttribute('tabindex'));// different cta for mobile and desktop which are both// focusable without this stepif (window.innerWidth > 991) {if (item.querySelector('.b-object-image-overlay__cta--mobile')) {item.querySelector('.b-object-image-overlay__cta--mobile').setAttribute('tabindex', -1);item.querySelector('.b-object-image-overlay__cta--screen').removeAttribute('tabindex');}} else if (item.querySelector('.b-object-image-overlay__cta--screen')) {item.querySelector('.b-object-image-overlay__cta--screen').setAttribute('tabindex', -1);item.querySelector('.b-object-image-overlay__cta--mobile').removeAttribute('tabindex');}oic.focusable = [document.querySelector('.b-object-image-overlay__dismiss')].concat(Array.from(item.querySelectorAll('button:not([disabled]), [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])')));const focusHierarchy = (first, second, last) => {if (first) {first.focus();} else if (second) {second.focus();} else {last.focus();}};if (!rewind) {focusHierarchy(item.querySelector('.b-object-image-overlay__next:not([disabled]'),item.querySelector('.b-object-image-overlay__prev:not([disabled]'),oic.focusable[0]);} else if (rewind) {focusHierarchy(item.querySelector('.b-object-image-overlay__prev:not([disabled]'),item.querySelector('.b-object-image-overlay__next:not([disabled]'),oic.focusable[0]);}};oic.advance = (rewind = false) => {if ((!rewind && oic._index < oicSeeds.length - 1)|| (rewind && oic._index > 0)) {oic.clipItem(rewind);oic.addItem(oic._index + (2 * (rewind ? -1 : 1)), rewind);oic._index += (1 * (rewind ? -1 : 1));oic.track(oic._index);}oic.buttonInit(rewind);};oic.track = (index) => {window.dataLayer = window.dataLayer || [];window.dataLayer.push({event: 'OIC',object: oicSeeds[index].querySelector('figcaption').textContent.trim(),museumNumber: JSON.parse(oicSeeds[index].dataset.objectImageOverlay).museumNumber});};document.addEventListener('click', (e) => {if (e.target.closest('.js-object-image-overlay-item')) {e.preventDefault();const seed = e.target.closest('.js-object-image-overlay-item');oic._index = oic.getIndex(seed);oic.addItem(oic._index);oic.classList.add('b-object-image-overlay--active');oic.addItem(oic._index + 1);oic.addItem(oic._index - 1, true);oic.focus();oic.track(oic._index);oic.buttonInit();const keyHandle = (e3) => {if (e3.key === 'ArrowLeft') {e3.preventDefault();oic.advance(true);} else if (e3.key === 'ArrowRight') {e3.preventDefault();oic.advance();} else if (e3.key === 'Escape' || e3.key === 'Esc') {/* eslint-disable no-use-before-define */closeModal();/* eslint-enable no-use-before-define */} else if (e3.keyCode === 9) {const first = oic.focusable[0];const last = oic.focusable[oic.focusable.length - 1];const shift = e3.shiftKey;if (oic.focusable.length) {if (shift && document.activeElement === first) {last.focus();e3.preventDefault();} else if (!shift && document.activeElement === last) {first.focus();e3.preventDefault();}}}};const closeModal = () => {oic.classList.remove('b-object-image-overlay--active');items.innerHTML = '';oic.onclick = null;document.removeEventListener('keydown', keyHandle, false);};document.addEventListener('keydown', keyHandle, false);oic.onclick = (e2) => {if (e2.target.matches('.b-object-image-overlay__item, .b-object-image-overlay__dismiss')) {e2.preventDefault();closeModal();} else if (e2.target.closest('.b-object-image-overlay__next--enabled')) {e2.preventDefault();oic.advance();} else if (e2.target.closest('.b-object-image-overlay__prev--enabled')) {e2.preventDefault();oic.advance(true);}};}}, false);}};export { oicInit as default };/* eslint-enable no-underscore-dangle */","/* eslint-disable no-underscore-dangle */(() => {const shuffler = {init: (el) => {const shufflerData = JSON.parse(el.dataset.objectShuffler);const deckTabs = el.querySelector('.b-object-shuffler__tabs');const tabTemplate = deckTabs.removeChild(deckTabs.querySelector('.b-object-shuffler__tab'));const deckTemplate = el.querySelector('.b-object-shuffler__deck');const itemTemplate = deckTemplate.firstElementChild.firstElementChild;const imgTemplate = itemTemplate.firstElementChild;const slideSize = shuffler.setSize(itemTemplate);const transitionDurationItem = parseFloat(window.getComputedStyle(itemTemplate).getPropertyValue('transition-duration'));const transitionDurationImg = parseFloat(window.getComputedStyle(imgTemplate).getPropertyValue('transition-duration'));// clone initial html markup into a full set of decksfor (let i = 1; i < shufflerData.length; i += 1) {deckTemplate.parentNode.appendChild(deckTemplate.cloneNode(true));}let i = 0;Array.from(el.querySelectorAll('.b-object-shuffler__deck'), (deck) => {// store deck datadeck._props = {deckTitle: shufflerData[i].title,slideSize,itemsData: shufflerData[i].data || [],itemsDataFeed: shufflerData[i].feed,itemsIndex: 0,transitionDurationItem,transitionDurationImg};// setup each deckshuffler.getData(deck).then(() => { // eslint-disable-line consistent-return// abandon deck if there weren't enough resultsif (deck._props.itemsData.length < slideSize * 1.5) {deck.parentNode.removeChild(deck);return false;}// create deck tabconst deckTab = deckTabs.appendChild(tabTemplate.cloneNode(true));deckTab.className = 'b-object-shuffler__tab';deckTab.title = `${deck._props.deckTitle}`;deckTab.setAttribute('tabindex', '0');deckTab.setAttribute('aria-hidden', false);deckTab.dataset.trackingCollections = 'you may also like carousel';deckTab._deck = deck;if (deckTab === deckTab.parentNode.firstElementChild) {deckTab.setAttribute('active', true);deckTab._deck.setAttribute('active', true);}// populate each deck with slides of itemsconst slide = deck.firstElementChild;// clone initial html markup for an item to make a whole slidefor (let j = 1; j < slideSize; j += 1) {slide.appendChild(itemTemplate.cloneNode(true));}// next slide transitions require an activating/deactivating pair of slides,// plus a next slide ready and waiting (= 3 slides)slide.removeAttribute('active');const activeSlide = shuffler.newSlide(deck);activeSlide.setAttribute('active', true);shuffler.newSlide(deck);// allow visible elements into the tabindexif (activeSlide.closest('.b-object-shuffler__deck[active]')) {shuffler.tabIndexSlide(activeSlide);}});i += 1;return true;});document.addEventListener('click', (e) => {if (e.target.closest('.b-object-shuffler__tab')) {const deckTab = e.target;const activeTab = deckTabs.querySelector('[active]');if (activeTab) {activeTab.removeAttribute('active');activeTab._deck.removeAttribute('active');shuffler.tabIndexSlide(activeTab._deck.querySelector('.b-object-shuffler__slide[active]'), false);}deckTab.setAttribute('active', true);deckTab._deck.setAttribute('active', true);shuffler.tabIndexSlide(deckTab._deck.querySelector('.b-object-shuffler__slide[active]'));}}, false);// apply the active animation to an activated more buttonconst moreBtn = el.querySelector('.b-object-shuffler__more');moreBtn.addEventListener('click', () => {shuffler.nextSlide(el.querySelector('.b-object-shuffler__deck[active]'));moreBtn.setAttribute('active', true);}, false);moreBtn.addEventListener('animationend', () => {moreBtn.removeAttribute('active');}, false);},setSize: (item) => {// number of columns determined by item width * 2 rowsconst cols = Math.floor(item.parentNode.getBoundingClientRect().width / item.getBoundingClientRect().width);return cols * 2;},getData: (deck) => {// append more data from search APIconst dataSize = 2 * deck._props.slideSize;if (deck._props.itemsData.length < deck._props.itemsIndex + dataSize) {const dataURI = `${deck._props.itemsDataFeed}&page_size=${dataSize}&page=${deck._props.itemsData.length / dataSize}`;const promise = fetch(dataURI).then(response => response.json()).then((data) => {// deck._props.itemsData = [...deck._props.itemsData, ...data];Array.from(data.records, (record) => {const imgPath = `${record._images._iiif_image_base_url}full/`;const title = record._primaryTitle || `untitled ${record.objectType}`;deck._props.itemsData.push({img: {srcset: `${imgPath}250,/0/default.jpg 250w, ${imgPath}350,/0/default.jpg 350w, ${imgPath}450,/0/default.jpg 450w, ${imgPath}550,/0/default.jpg 550w, ${imgPath}700,/0/default.jpg 700w, ${imgPath}900,/0/default.jpg 900w`,src: `${imgPath}350,/0/default.jpg`,alt: title},title,href: `/item/${record.systemNumber}/`});return true;});}).catch(e => console.error(e.name, e.message)); // eslint-disable-line no-consolereturn promise;}return Promise.resolve(true);},newSlide: (deck) => {// append a new slide by cloning the first and populate with new dataconst slide = deck.appendChild(deck.firstElementChild.cloneNode(true));Array.from(slide.children, (item) => {const dataIndex = deck._props.itemsIndex % deck._props.itemsData.length;const img = item.querySelector('img');item.title = deck._props.itemsData[dataIndex].title;item.href = deck._props.itemsData[dataIndex].href;item.setAttribute('tabindex', '-1');item.setAttribute('aria-hidden', true);item.dataset.trackingCollections = 'you may also like object';img.alt = deck._props.itemsData[dataIndex].img.alt;img.classList.remove('s-lazyload--abort');img.onerror = () => {img.classList.add('s-lazyload--abort');return true;};img.srcset = deck._props.itemsData[dataIndex].img.srcset;img.src = deck._props.itemsData[dataIndex].img.src;// scatter effectconst scaler = Math.random() * 0.1;const scale = 1 + ((deck._props.itemsIndex % 2 > 0 ? 1 : -1) * scaler);// shift items towards centre to remain in shotconst slot = (deck._props.itemsIndex % deck._props.slideSize);const yDir = slot > (deck._props.slideSize / 2) - 1 ? -1 : 1;const x = (slot % (deck._props.slideSize / 2)) * (100 / (deck._props.slideSize / 2));const y = slot < deck._props.slideSize / 2 ? 0 : 50;const aspect = 1 || img.naturalHeight / img.naturalWidth;const jitterX = scaler * 34 * aspect;const jitterY = (yDir * scaler * 74) / aspect;item.style.width = 'auto';item.style.height = `${(scale / aspect) * 50}%`;item.style.position = 'absolute';item.style.left = `${x + jitterX}%`;item.style.top = `${y + jitterY}%`;item.style.setProperty('--js-rotation', `${Math.sin((Math.random() * 2 * Math.PI)) * 5}deg`);item.style.transitionDuration = `${deck._props.transitionDurationItem * scale * scale}s`;img.style.transitionDuration = `${deck._props.transitionDurationImg * scale * scale}s`;deck._props.itemsIndex += 1;return true;});shuffler.getData(deck);return slide;},nextSlide: (deck) => {shuffler.newSlide(deck);deck.firstElementChild.remove();const activeSlide = deck.querySelector('[active]');activeSlide.removeAttribute('active');shuffler.tabIndexSlide(activeSlide, false);activeSlide.nextSibling.setAttribute('active', true);shuffler.tabIndexSlide(activeSlide.nextSibling);},tabIndexSlide: (slide, index = true) => {Array.from(slide.children, (item) => {item.setAttribute('tabindex', index ? '0' : '-1');item.setAttribute('aria-hidden', !index);return true;});}};let observer = null;if ('IntersectionObserver' in window) {const lazyLoad = ([e]) => {if (e.intersectionRatio > 0) {const myComponent = e.target;observer.unobserve(myComponent);if (!myComponent.initialised) {shuffler.init(myComponent);myComponent.initialised = true;}}};observer = new IntersectionObserver(lazyLoad, { rootMargin: '0px 0px 1000px 0px' });}// lazy load component if possibledocument.addEventListener('DOMContentLoaded', () => {Array.from(document.querySelectorAll('.js-object-shuffler'), (myComponent) => {try {observer.observe(myComponent);} catch (e) {shuffler.init(myComponent);}return true;});}, true);})();/* eslint-enable no-underscore-dangle */","/* eslint-disable no-underscore-dangle */const loadSuggestions = (searchForm) => {searchForm._props.storedSuggestions = JSON.parse(sessionStorage.getItem(`storedSuggestions_${searchForm._props.type}`));const now = new Date();if (!searchForm._props.storedSuggestions|| now.getTime() > searchForm._props.storedSuggestions.expires) {const promise = fetch(searchForm._props.suggestionsTop, { cache: 'no-cache' }).then(response => response.json()).then((data) => {const suggestions = {expires: now.getTime() + (15 * 60000),data};searchForm._props.storedSuggestions = suggestions;sessionStorage.setItem(`storedSuggestions_${searchForm._props.type}`, JSON.stringify(searchForm._props.storedSuggestions));}).catch(e => console.error(e.name, e.message)); // eslint-disable-line no-consolereturn promise;}return Promise.resolve(true);};const trackAutosuggest = (e) => {window.dataLayer.push({event: e.target.tracking.event,eventCategory: e.target.tracking.eventCategory,eventAction: e.target.tracking.eventAction,eventLabel: e.target.tracking.eventLabel});};Array.from(document.querySelectorAll('.js-search-site, .js-search-etc-gateway'), (searchForm) => {const searchInput = searchForm.querySelector('.b-search-form__input');if (searchForm.classList.contains('js-search-site')) {/* Main site search */searchForm._props = {type: 'siteSearch'};const searchUnderscore = searchForm.querySelector('.b-search-form__underscore');const searchSubmit = searchForm.querySelector('.b-search-form__submit');const searchClear = searchForm.querySelector('.b-search-form__clear');const searchDecorate = () => {/* underline input field value */searchUnderscore.innerHTML = searchInput.value.replace(/\\s/g, '&nbsp;');};const searchActivate = () => {searchClear.classList.add('b-search-form__clear--hidden');if (searchInput.value.length) {searchSubmit.classList.remove('b-search-form__submit--hidden');} else {searchSubmit.classList.add('b-search-form__submit--hidden');}};const searchReset = () => {searchClear.classList.add('b-search-form__clear--hidden');searchInput.value = '';searchDecorate();};if (searchInput.value.length) {searchClear.classList.remove('b-search-form__clear--hidden');} else {searchSubmit.classList.add('b-search-form__submit--hidden');}searchInput.focus();searchDecorate();searchInput.addEventListener('input', () => {searchDecorate();searchActivate();}, false);searchClear.addEventListener('click', searchReset, false);} else if (searchForm.classList.contains('js-search-etc-gateway')) {/* EtC landing pg search */searchForm._props = {type: 'etcGatewaySearch',suggestionsTop: 'https://collections.vam.ac.uk/assets/data/suggestions.json',suggestionsAPI: 'https://api.vam.ac.uk/v2/sayt/search'};const suggestionsEl = searchForm.querySelector('.b-search-form__suggestions');const autoSuggest = (term, suggestion) => {const suggestEl = document.createElement('a');if (suggestionsEl.childElementCount < 10) {const title = suggestion.displayName || suggestion.displayTerm;const url = `https://collections.vam.ac.uk/search/?id_${suggestion.recordType}=${suggestion.systemNumber}`;suggestEl.className = 'b-search-form__suggestion';suggestEl.href = url;suggestEl.tabindex = 0;suggestEl.innerHTML = `<div class=\"b-search-form__suggestion-type\">${suggestion.recordType}</div>${title}`;suggestEl.tracking = {event: 'autosuggest EtC landing',eventCategory: `search - autosuggest - ${suggestion.index}`,eventAction: term,eventLabel: url};suggestEl.addEventListener('click', trackAutosuggest);suggestionsEl.appendChild(suggestEl);}};loadSuggestions(searchForm).then(() => {let aborter = null;searchInput.addEventListener('input', () => {searchForm.removeAttribute('suggesting');suggestionsEl.innerHTML = '';if (searchInput.value.length) {const term = searchInput.value.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');/* title (or one of the pipe delimited terms for hot-topics)* begins with search term */let regExStart = '(^|\\\\|)';if (searchInput.value.length > 2) {/* any word in the title begins with search term* (all hot-topic terms get tested since pipe delimiters count as word-boundaries) */regExStart = '\\\\b';}const regEx = new RegExp(`${regExStart}${term}.*`, 'i');Array.from(searchForm._props.storedSuggestions.data, (result) => {Array.from(result.suggestions, (suggestion) => {const name = suggestion.displayName;if (regEx.test(name)) {searchForm.setAttribute('suggesting', true);autoSuggest(searchInput.value, suggestion);}return true;});return true;});if (searchInput.value.length > 4) {// cancel pending request if anyif (aborter) aborter.abort();// make our request cancellableaborter = new window.AbortController();setTimeout(() => aborter.abort(), 500);fetch(`${searchForm._props.suggestionsAPI}?q=${encodeURI(term)}&page_size=10`, { signal: aborter.signal }).then(response => response.json()).then((data) => {if (data.info.record_count > 0) {searchForm.setAttribute('suggesting', true);Array.from(data.records, (suggestion) => {autoSuggest(searchInput.value, suggestion);return true;});}}).catch(e => console.error(e.name, e.message)); // eslint-disable-line no-console}}}, false);}).catch(e => console.error(e.name, e.message)); // eslint-disable-line no-consoledocument.addEventListener('click', (e) => {if (e.target.closest('.b-search-form__filter-toggle')) {const toggleSet = e.target.closest('.b-search-form__filter-toggle-set');toggleSet.toggleAttribute('active');Array.from(toggleSet.querySelectorAll('input'), (input) => {input.value = '';return true;});}}, false);}return true;});/* eslint-enable no-underscore-dangle */","const paginationElement = document.querySelector('.b-search-pagination');const buttons = Array.from(document.querySelectorAll('.b-search-pagination__page-button'));const seperators = Array.from(document.querySelectorAll('.b-search-pagination__page-button-seperator'));const searchPrevLink = document.querySelector('.b-search-pagination__prev-link');const searchNextLink = document.querySelector('.b-search-pagination__next-link');const startSeperator = document.querySelector('.b-search-pagination__page-button-seperator-start');const lastSeperator = document.querySelector('.b-search-pagination__page-button-seperator-last');const currentButtonClass = 'b-search-pagination__page-button--current';const datasetToInts = dataset => Object.entries(dataset).reduce((total, pair) => {const [key, value] = pair;return Object.assign(total, {[key]: parseInt(value, 10)});}, {});const populateButton = (button, index) => {button.dataset.pageIndex = index;button.value = index;button.innerHTML = `${(index + 1) < 11 ? 0 : ''}${index}`;button.ariaLabel = `Go to page ${index}`;};const checkNavigationLinks = () => {const { pageIndex, pages } = datasetToInts(paginationElement.dataset);searchPrevLink.dataset.pageIndex = pageIndex - 1;searchNextLink.dataset.pageIndex = pageIndex + 1;if (parseInt(searchPrevLink.dataset.pageIndex, 10) < 1) {searchPrevLink.setAttribute('disabled', true);} else {searchPrevLink.removeAttribute('disabled');}if (parseInt(searchNextLink.dataset.pageIndex, 10) > pages) {searchNextLink.setAttribute('disabled', true);} else {searchNextLink.removeAttribute('disabled');}};const updateDisplayCounter = () => {const { pageIndex, offset, totalCount } = datasetToInts(paginationElement.dataset);if (totalCount < offset) {document.querySelector('.b-search-pagination__display-counter').innerHTML = '';} else {const currentPage = pageIndex - 1;const startingNumber = (offset * currentPage) + 1;const endingNumber = (offset * currentPage) + offset;document.querySelector('.b-search-pagination__display-counter').innerHTML = `${startingNumber} - ${endingNumber > totalCount ? totalCount : endingNumber} of ${totalCount}`;}};if (paginationElement) {const callback = (mutations) => {if (mutations.filter(mutation => mutation.attributeName === 'data-pages').length) {const { pages } = datasetToInts(paginationElement.dataset);buttons.forEach((button, i) => {if (i > (pages - 1)) {button.setAttribute('disabled', true);} else {button.removeAttribute('disabled');}populateButton(button, i + 1);});seperators.forEach((seperator) => {seperator.setAttribute('disabled', true);});const lastButton = buttons.slice(buttons.filter(button => !button.getAttribute('disabled')).length - 1)[0];populateButton(lastButton, pages);paginationElement.dataset.pageIndex = paginationElement.dataset.pageIndex;}if (mutations.filter(mutation => mutation.attributeName === 'data-page-index').length) {const { pageIndex, pages } = datasetToInts(paginationElement.dataset);const currentButton = document.querySelector(`.${currentButtonClass}`);const dynamicButtonCheck = pageIndex > 2 && (pageIndex < (pages - 1)) && pages > 5;if (pageIndex < 3) {startSeperator.setAttribute('disabled', 'true');buttons.slice(1)[0].removeAttribute('disabled', 'true');if (pages < 6) {lastSeperator.setAttribute('disabled', 'true');} else {buttons.slice(3)[0].setAttribute('disabled', 'true');lastSeperator.removeAttribute('disabled');}}if ((pageIndex > (pages - 3)) && (pages > 5)) {startSeperator.removeAttribute('disabled');lastSeperator.setAttribute('disabled', 'true');buttons.slice(3)[0].setAttribute('disabled', 'true');buttons.slice(1)[0].removeAttribute('disabled');}if (dynamicButtonCheck) {buttons.slice(3)[0].removeAttribute('disabled');buttons.slice(1)[0].removeAttribute('disabled');startSeperator.removeAttribute('disabled');lastSeperator.removeAttribute('disabled');}if (pages > 5) {buttons.slice(1, 4).filter(el => !el.getAttribute('disabled')).forEach((button, i) => {const newIndex =i + (pageIndex < 3 ? 2 : 0) +(dynamicButtonCheck ? pageIndex - 1 : 0) +((pageIndex >= (pages - 1)) ? pages - 2 : 0);populateButton(button, newIndex);});}currentButton.classList.remove(currentButtonClass);buttons.filter(button => parseInt(button.dataset.pageIndex, 10) ===pageIndex)[0].classList.add(currentButtonClass);updateDisplayCounter();checkNavigationLinks();}if (mutations.filter(mutation => mutation.attributeName === 'data-total-count').length) {updateDisplayCounter();}};paginationElement.addEventListener('click', ({ target }) => {const { pageIndex } = datasetToInts(target.dataset);if ((target.closest('.b-search-pagination__page-button') ||target.closest('.b-search-pagination__prev-link') ||target.closest('.b-search-pagination__next-link')) &&!target.getAttribute('disabled')) {paginationElement.dataset.pageIndex = pageIndex;}return false;});const observer = new MutationObserver(callback);observer.observe(paginationElement, { attributes: true });paginationElement.dataset.pages = paginationElement.dataset.pages;paginationElement.dataset.totalCount = paginationElement.dataset.totalCount;paginationElement.dataset.pageIndex = paginationElement.dataset.pageIndex;}","const searchResultTextEls = document.querySelectorAll('.js-search-result-text');function searchResultTextTruncate (textEl) {textEl.innerHTML = textEl.textFull;if (textEl.scrollHeight - textEl.clientHeight > 10) {const focus = textEl.textFull.indexOf('</em>');const maxChars = (textEl.clientHeight / textEl.scrollHeight) * textEl.textFull.length;const shunt = focus - maxChars;let firstChar = 0;let lastChar = textEl.textFull.lastIndexOf(' ', maxChars);let prepend = '';if (shunt > 0) {prepend = '&hellip;';firstChar = textEl.textFull.indexOf(' ', shunt + 20) + 1;lastChar = textEl.textFull.lastIndexOf(' ', maxChars + shunt + 20);}textEl.innerHTML = `${prepend}${textEl.textFull.substring(firstChar, lastChar)}&hellip;`;}}if (searchResultTextEls.length) {Array.from(searchResultTextEls, (textEl) => {textEl.textFull = textEl.innerHTML;searchResultTextTruncate(textEl);window.addEventListener('resize', searchResultTextTruncate.bind(this, textEl), false);return true;});}","const warningHTML = `<div class=\"b-search-results__offensive-warning-text\">This object, or the text that describes it, is deemed offensive and discriminatory. We are committed to improving our records, and work is ongoing.</br><button class=\"b-search-results__offensive-warning-button\">View record</button></div>`;const toggleSort = (el) => {const { value } = el.dataset;const orderBy = document.querySelector('.b-search-results__hidden-input-order-by');const orderSort = document.querySelector('.b-search-results__hidden-input-order-sort');const defaultClass = 'b-search-results__head-cell--sort-asc';const currentClass = Array.from(el.classList)[2];const newSort = {'b-search-results__head-cell--sort-asc': 'b-search-results__head-cell--sort-desc','b-search-results__head-cell--sort-desc': 'b-search-results__head-cell--sort-none'}[currentClass];Array.from(document.querySelectorAll('.b-search-results__head-cell')).forEach((e) => {e.classList.remove('b-search-results__head-cell--sort-desc');e.classList.remove('b-search-results__head-cell--sort-asc');e.classList.remove('b-search-results__head-cell--sort-none');});if (!newSort) {el.classList.add(defaultClass);orderBy.value = value;} else if (newSort === ('b-search-results__head-cell--sort-desc')) {orderSort.value = 'desc';} else if (newSort === ('b-search-results__head-cell--sort-none')) {orderBy.value = '';orderSort.value = 'asc';}el.classList.add(newSort || defaultClass);el.dispatchEvent(new Event('change', { bubbles: true }));};const reAdjustWarnings = () => {Array.from(document.querySelectorAll('.b-search-results__offensive-warning')).forEach((el) => {const row = Array.from(document.querySelectorAll('.b-search-results__body-row'))[el.getAttribute('data-row-index')];const topOffset = (row.offsetHeight - el.offsetHeight) / 2;el.style.top = `${row.offsetTop + topOffset}px`;el.style.left = '5px';});};const offensiveWarningInitializer = () => {Array.from(document.querySelectorAll('.b-search-results__body-row')).forEach((el, i) => {if (el.classList.contains('b-search-results__body-row--offensive')) {const warningEl = document.createElement('DIV');warningEl.className = 'b-search-results__offensive-warning';warningEl.innerHTML = warningHTML;const topOffset = (el.offsetHeight - warningEl.offsetHeight) / 2;warningEl.style.top = `${el.offsetTop + topOffset}px`;warningEl.setAttribute('data-row-index', i);warningEl.onclick = (e) => {Array.from(document.querySelectorAll('.b-search-results__body-row'))[e.target.parentElement.getAttribute('data-row-index')].classList.remove('b-search-results__body-row--offensive');e.target.parentElement.remove();reAdjustWarnings();e.stopPropagation();return false;};el.parentElement.appendChild(warningEl);reAdjustWarnings();}});reAdjustWarnings();};window.addEventListener('resize', () => {reAdjustWarnings();});offensiveWarningInitializer();if (document.querySelector('.etc-template__results-container')) {document.querySelector('.etc-template__results-container').addEventListener('initWarnings', () => {offensiveWarningInitializer();});document.querySelector('.etc-template__results-container').addEventListener('initSorts', () => {Array.from(document.querySelectorAll('.b-search-results__head-cell')).forEach((el) => {if (parseInt(el.dataset.sortable, 10)) {el.onclick = e => toggleSort(e.target);}});});document.querySelector('.etc-template__results-container').dispatchEvent(new Event('initSorts'));}// Array.from(document.querySelectorAll('.b-search-results__head-cell')).forEach((el) => {//   if (parseInt(el.dataset.sortable, 10)) {//     el.onclick = e => toggleSort(e.target);//   }// });","import cookies from 'browser-cookies';import smoothScroll from 'smooth-scroll';const siteNav = document.querySelector('.js-site-nav');if (siteNav) {const winHeight = document.querySelector('html').scrollHeight;const mobileNavToggle = document.querySelectorAll('.js-site-nav__mobile-toggle');const mobileNavToggleIcon = document.querySelector('.js-site-nav__mobile-toggle--icon');const mobileNavToggleText = document.querySelector('.js-site-nav__mobile-toggle-text');const mobileNavTop = document.querySelector('.js-site-nav__mobile-top');const navBag = document.querySelector('.js-site-nav-bag');const navBagTotal = document.querySelector('.js-site-nav-bag-total');const navSearchBtn = document.querySelector('.js-site-nav-search-btn');const navSearch = document.querySelector('.js-site-nav-search');const navSearchInput = document.querySelector('.js-search-input');const navSearchContent = document.querySelector('.js-search-content');const navSearchSuggest = document.querySelector('.js-search-suggest');const shopCookieBagTotal = cookies.get('basketCount');const tabletNavToggle = document.querySelector('.js-site-nav__tablet-toggle');const scrollMonitor = (callback) => {let lastScrollY = 0;let ticking = false;window.addEventListener('scroll', (e) => {e.preventDefault();lastScrollY = window.pageYOffset;if (!ticking) {window.requestAnimationFrame(() => {callback.call(this, lastScrollY);ticking = false;});}ticking = true;return true;}, false);};if (!!shopCookieBagTotal && shopCookieBagTotal > 0) {if (navBag) {navBag.classList.remove('b-site-nav__bag--hidden');}navBagTotal.innerHTML = shopCookieBagTotal < 100 ? shopCookieBagTotal : '';if (mobileNavToggleIcon) {mobileNavToggleText.classList.add('b-site-nav__mobile-toggle-text--hidden');}}if (mobileNavToggleIcon && window.getComputedStyle(mobileNavToggleIcon).display !== 'none') {const scrollReact = (scrollY) => {if (scrollY > 60) {mobileNavToggleIcon.classList.add('b-site-nav__mobile-toggle--solo');} else {mobileNavToggleIcon.classList.remove('b-site-nav__mobile-toggle--solo');}if (scrollY / winHeight > 0.35) {mobileNavTop.classList.add('b-site-nav__mobile-top--show');} else {mobileNavTop.classList.remove('b-site-nav__mobile-top--show');}};scrollMonitor(scrollReact);mobileNavTop.addEventListener('click', () => {smoothScroll.animateScroll(0);});}Array.from(mobileNavToggle, (toggle) => {toggle.addEventListener('click', (e) => {e.preventDefault();siteNav.classList.toggle('b-site-nav--open');toggle.classList.toggle('active');}, false);return true;});if (tabletNavToggle) {tabletNavToggle.addEventListener('click', (e) => {e.preventDefault();document.querySelector('.js-site-nav-more').classList.toggle('active');}, false);}let storedSearch = JSON.parse(sessionStorage.getItem('storedSearch'));if (!storedSearch || Date.parse(new Date()) > Date.parse(storedSearch.expires)) {const httpRequest = new XMLHttpRequest();httpRequest.open('GET', 'https://vam.ac.uk/services/search/suggest/promoted');httpRequest.send();httpRequest.onreadystatechange = () => {if (httpRequest.readyState === XMLHttpRequest.DONE) {if (httpRequest.status === 200) {const expires = new Date();const storedSearchResults = {expires: new Date(expires.setMinutes(expires.getMinutes() + 15)),results: httpRequest.responseText};sessionStorage.setItem('storedSearch', JSON.stringify(storedSearchResults));storedSearch = JSON.parse(sessionStorage.getItem('storedSearch'));}}};}const trackAutosuggest = () => {window.dataLayer.push({event: 'autosuggest search',eventCategory: this.tracking.eventCategory,eventAction: this.tracking.eventAction,eventLabel: this.tracking.eventLabel});};const autoSuggest = (regEx, json, term, liveResult) => {let i = null;let title = null;let imgSrc = null;JSON.parse(json).forEach((result) => {for (i = 0; i < result.suggestions.length; i += 1) {title = result.suggestions[i].title;if (result.suggestions[i].terms) {title = result.suggestions[i].terms.join('|');}if (regEx.test(title)) {navSearchContent.classList.remove('b-site-nav__core__search__container--hidden');if (result.suggestions[i].icon) {imgSrc = result.suggestions[i].icon;} else {imgSrc = 'https://s3-eu-west-1.amazonaws.com/vanda-production-assets/static/search/result_placeholder.jpg';}const suggestion = document.createElement('li');if (liveResult) { suggestion.classList.add('js-live-result'); }suggestion.innerHTML = `<div class=\"b-search-result-auto-suggest\"><a class=\"b-search-result-auto-suggest-content\"href=\"${result.suggestions[i].url}\"><img class=\"b-search-result-auto-suggest-image\"src=\"${imgSrc}\"alt=\"\"aria-hidden=\"true\"><div class=\"b-search-result-auto-suggest-text\"><div class=\"b-search-result-auto-suggest-content-type\">${result.suggestions[i].type}</div><div class=\"b-search-result-auto-suggest-title js-search-result-text\">${result.suggestions[i].title}</div></div></a></div>`;suggestion.tracking = {eventCategory: `search - autosuggest - ${result.suggestions[i].type}`,eventAction: term,eventLabel: result.suggestions[i].url};suggestion.addEventListener('click', trackAutosuggest);navSearchSuggest.appendChild(suggestion);}}});};if (navSearchBtn) {navSearchBtn.addEventListener('click', (e) => {e.preventDefault();navSearchBtn.classList.toggle('b-site-nav__core__search-btn--active');navSearch.classList.toggle('b-site-nav__core__search--active');navSearchInput.focus();navSearchInput.setSelectionRange(100, 100);}, false);}if (navSearchInput) {navSearchInput.addEventListener('input', () => {if (navSearchInput.value.length < 42) {navSearchContent.classList.add('b-site-nav__core__search__container--hidden');navSearchSuggest.innerHTML = '';if (navSearchInput.value.length) {/* title (or one of the pipe delimited terms for hot-topics)* begins with search term */let regExStart = '(^|\\\\|)';if (navSearchInput.value.length > 2) {/* any word in the title begins with search term* (all hot-topic terms get tested since pipe delimiters count as word-boundaries) */regExStart = '\\\\b';}const term = navSearchInput.value.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');const regEx = new RegExp(`${regExStart}${term}.*`, 'i');autoSuggest(regEx, storedSearch.results, navSearchInput.value, false);if (navSearchInput.value.length > 4) {const httpRequest = new XMLHttpRequest();httpRequest.open('GET',`https:/vam.ac.uk/services/search/suggest/popular?q=${encodeURI(navSearchInput.value)}`);httpRequest.send();httpRequest.onreadystatechange = () => {if (httpRequest.readyState === XMLHttpRequest.DONE) {if (httpRequest.status === 200) {Array.from(navSearchSuggest.querySelectorAll('.js-live-result'), (el) => {el.remove();return true;});autoSuggest(regEx, httpRequest.responseText, navSearchInput.value, true);}}};}}}}, false);}}","import querystring from 'querystring';const toggleNav = document.querySelector('.js-toggle-nav');if (toggleNav) {const toggleNavBtns = toggleNav.querySelectorAll('.js-toggle-nav-btn');const qs = querystring.parse(window.location.search.replace('?', ''));const qsToggleType = qs.type;Array.from(toggleNavBtns, (tog) => {const tnToggees = document.querySelectorAll(tog.dataset.toggeesSelector);tog.addEventListener('click', (e) => {e.preventDefault();const togType = tog.dataset.toggleType;toggleNav.scrollLeft = tog.offsetLeft- ((toggleNav.getBoundingClientRect().width - tog.getBoundingClientRect().width) / 2);if (!tog.preventHistoryPush) {window.history.pushState({ toggleNavType: togType }, '', `?type=${togType}`);}tog.preventHistoryPush = false;Array.from(tnToggees, (el) => {el.classList.add('s-visually-hidden');if (el.dataset.toggleType === togType) {el.classList.remove('s-visually-hidden');}return true;});Array.from(toggleNavBtns, (el) => {el.classList.remove('b-toggle-nav__button--active');return true;});tog.classList.add('b-toggle-nav__button--active');}, false);if (tog.dataset.toggleType === qsToggleType) {tog.preventHistoryPush = true;setTimeout(() => { tog.click(); }, 50);}return true;});window.addEventListener('popstate', (e) => {Array.from(document.querySelectorAll('s-visually-hidden'), (el) => {el.classList.remove('s-visually-hidden');return true;});if (e.state && e.state.toggleNavType) {Array.from(toggleNavBtns, (tog) => {if (e.state.toggleNavType === tog.dataset.toggleType) {tog.preventHistoryPush = true;tog.click();}return true;});}return true;}, false);if (!qsToggleType && typeof toggleNav.dataset.toggleTypeDefault !== 'undefined') {document.querySelector(`[data-toggle-type=${toggleNav.dataset.toggleTypeDefault}]`).click();}}","const videoThumbs = document.querySelectorAll('.js-video-thumbnail');Array.from(videoThumbs, (vidThumb) => {vidThumb.addEventListener('click', (e) => {e.preventDefault();const popup = document.createElement('div');const popupClose = document.createElement('div');popup.className = 'b-video-thumbnail__popup';popup.innerHTML = `<iframe class=\"b-video-thumbnail__popup-iframe\" width=\"90%\" height=\"90%\" src=\"${vidThumb.href}\"&playsinline=1\" frameborder=\"0\" allowfullscreen></iframe>`;popup.addEventListener('click', () => {popup.remove();});popupClose.className = 'b-video-thumbnail__popup-close';popupClose.innerHTML = `<svg role=\"img\" id="close" viewBox="0 0 100 100"><path d="M50 39.254L10.749 0 0 10.742l39.251 39.254L0 89.251 10.749 100 50 60.746 89.251 100 100 89.243 60.749 49.99 100 10.734 89.244 0 49.992 39.254z" fill="currentColor" fill-rule="evenodd"/></svg>`;popup.appendChild(popupClose);document.body.appendChild(popup);});return true;});","const videoTrailer = document.querySelector('.js-video-trailer');if (videoTrailer) {const previewImage = videoTrailer.querySelector('.js-video-trailer-preview');const popup = document.createElement('div');const videoHeightRatio = 0.5625;videoTrailer.addEventListener('click', (e) => {e.preventDefault();popup.className = 'b-video-trailer__image';popup.innerHTML = `<iframe class=\"\" width=\"100%\" height=\"100%\" src=\"${videoTrailer.href}\"&playsinline=1\" frameborder=\"0\" allowfullscreen></iframe>`;previewImage.remove();videoTrailer.appendChild(popup);popup.style.height = `${popup.offsetWidth * videoHeightRatio}px`;});window.addEventListener('resize', () => {popup.style.height = `${popup.offsetWidth * videoHeightRatio}px`;});}","const gridRevealMore = document.querySelectorAll('.js-grid-reveal-more');if (gridRevealMore.length) {Array.from(gridRevealMore, (gridBlock) => {const noOfItemsToShow = gridBlock.dataset.revealMoreCounter || 4;if (noOfItemsToShow < gridBlock.childElementCount) {const svgURL = gridBlock.dataset.iconUrl;const gridItems = [...gridBlock.children];const theme = gridBlock.dataset.revealMoreTheme || 'dark';const tracking = gridBlock.dataset.revealMoreTracking || '';let putAfter = gridBlock;if (gridBlock.dataset.revealMorePutAfter) {putAfter = document.querySelector(gridBlock.dataset.revealMorePutAfter);}// Hide all but the first `noOfItemsToShow`gridItems.slice(noOfItemsToShow).forEach(el => el.classList.add('s-visually-hidden'));// Add in a show more button at the bottomconst gridFooterMarkup = document.createElement('footer');gridFooterMarkup.setAttribute('class', `b-block-grid__footer b-block-grid__footer--${theme}`);gridFooterMarkup.innerHTML = `<a href=\"#\" data-tracking-showmorebutton=\"${tracking}\" class=\"js-reveal-more-btn\"><div class=\"b-icon-badge b-icon-badge--small b-icon-badge--${theme}\"><div class=\"b-icon-badge__icon s-themed s-themed--background-color s-themed--background-color--hover\"><svg role=\"presentation\"><use xlink:href=\"${svgURL}#plus\"></use></svg></div><small class=\"b-icon-badge__label\">Show more</small></div></a>`;putAfter.parentNode.insertBefore(gridFooterMarkup, putAfter.nextSibling);// Hook up an event listener on that buttongridBlock.revealMoreClicks = 0;gridFooterMarkup.addEventListener('click', (e) => {e.preventDefault();gridBlock.revealMoreClicks += 1;// Filter down to just the hidden itemsconst hiddenItems = gridItems.filter(el => el.classList.contains('s-visually-hidden'));// in case of column layout, add a colspan separator to preserve item orderconst columns = window.getComputedStyle(gridBlock).getPropertyValue('column-count');if (columns > 1) {const separator = hiddenItems[0].parentNode.insertBefore(hiddenItems[0].cloneNode(false), hiddenItems[0]);separator.classList.remove('s-visually-hidden');separator.classList.add('b-block-grid__cols-restarter');}// the big revealhiddenItems.slice(0, noOfItemsToShow).forEach(el => el.classList.remove('s-visually-hidden'));// Remove the footer if we're not going to need the button after thisif (hiddenItems.length <= noOfItemsToShow) gridFooterMarkup.remove();}, false);}return true;});window.addEventListener('beforeunload', () => {const revealMoreClicks = [];Array.from(gridRevealMore, (gridBlock) => {revealMoreClicks.push(gridBlock.revealMoreClicks);return true;});history.replaceState({ revealMoreClicks }, 'revealMoreClicks');}, false);window.addEventListener('load', () => {if (history.state && history.state.revealMoreClicks) {const buttons = document.querySelectorAll('.js-reveal-more-btn');for (let r = 0; r < history.state.revealMoreClicks.length; r += 1) {let c = 0;while (c < history.state.revealMoreClicks[r]) {buttons[r].click();c += 1;}}}}, false);}","const initFacetOverlayModal = () => {if (document.querySelector('.b-facet-box-modal__button')) {document.querySelector('.b-facet-box-modal__button').onclick = (e) => {document.querySelector('.b-facet-box-modal__container').classList.toggle('b-facet-box-modal__container--active');e.preventDefault();};}if (document.querySelector('.b-facet-box-modal__button')) {document.addEventListener('closeFacetOverlay', () =>document.querySelector('.b-facet-box-modal__container').classList.toggle('b-facet-box-modal__container--active'));}};initFacetOverlayModal();","const isMobile = {Android: () => navigator.userAgent.match(/Android/i),BlackBerry: () => navigator.userAgent.match(/BlackBerry/i),iOS: () => navigator.userAgent.match(/iPhone|iPad|iPod/i),Opera: () => navigator.userAgent.match(/Opera Mini/i),Windows: () => navigator.userAgent.match(/IEMobile/i),any: () => (isMobile.Android() ||isMobile.BlackBerry() ||isMobile.iOS() ||isMobile.Opera() ||isMobile.Windows())};const imageOverlayContainer = document.querySelector('.b-image-overlay__container');const body = document.querySelector('body');const figCaption = document.querySelector('.b-image-overlay__figcaption');const offensiveConcealer = () => {if (document.querySelector('.b-image-overlay__preview-concealer')) {document.querySelector('.b-image-overlay__preview-concealer').onclick = (e) => {e.stopPropagation();};document.querySelector('.b-image-overlay__preview-concealer-button').onclick = (e) => {e.stopPropagation();document.querySelector('.b-image-overlay__preview--offensive').classList.remove('b-image-overlay__preview--offensive');document.querySelector('.b-image-overlay__preview-image--offensive').classList.remove('b-image-overlay__preview-image--offensive');document.querySelector('.b-image-overlay__preview-concealer').remove();document.querySelectorAll('.b-image-overlay__preview--hidden').forEach(el => el.classList.remove('b-image-overlay__preview--hidden'));};}};const openObjectOverlay = () => {imageOverlayContainer.classList.add('b-image-overlay__container--active');body.style.overflowY = 'hidden';imageOverlayContainer.style.height = `${window.innerHeight}px`;if (window.innerWidth <= 1000 && isMobile.any()) {body.style.position = 'fixed';figCaption.style.marginBottom = `${screen.height - window.innerHeight}px`;} else {figCaption.style.marginBottom = '0px';}document.querySelector('.b-image-carousel__image-preview-container').focus();};const closeObjectOverlay = () => {document.querySelector('.b-image-overlay__container').classList.remove('b-image-overlay__container--active');document.querySelector('body').style.overflowY = 'auto';document.querySelector('body').style.position = 'relative';};const initObjectOverlay = () => {offensiveConcealer();if (document.querySelector('.b-image-overlay')) {document.querySelector('.b-image-overlay__close-container').onclick = () => closeObjectOverlay();window.addEventListener('resize', () => {imageOverlayContainer.style.height = `${window.innerHeight}px`;// what follows is a hack for mobile phone browsers, if this does not look good on desktop,// trust me it works on phones...if (window.innerWidth <= 1000 && isMobile.any()) {figCaption.style.marginBottom = `${screen.height - window.innerHeight}px`;} else {figCaption.style.marginBottom = '0px';}});window.addEventListener('keydown', (e) => {if (e.keyCode === 27) {if (!document.querySelector('.b-image-overlay').classList.contains('b-image-overlay--unfocus')) {closeObjectOverlay();} else {document.querySelector('.b-image-overlay').classList.remove('b-image-overlay--unfocus');}}if (!document.querySelector('.b-image-overlay').classList.contains('b-image-overlay--unfocus') &&e.keyCode === 9) {// stackoverflow answer 60031728const focusable = Array.from(document.querySelector('.b-image-overlay__content').querySelectorAll('button')).filter(el => !el.getAttribute('disabled')).filter(el => !el.closest('.js-modal'));const first = focusable[0];const last = focusable[focusable.length - 1];const shift = e.shiftKey;if (focusable.length) {if (shift && document.activeElement === first) {last.focus();e.preventDefault();} else if (!shift && document.activeElement === last) {first.focus();e.preventDefault();}}}});document.querySelector('.b-image-overlay').addEventListener('openObjectOverlay', openObjectOverlay);document.querySelector('.b-image-overlay__container').addEventListener('jsModalOpen', () => {document.querySelector('.b-image-overlay__close-container').style.display = 'none';});document.querySelector('.b-image-overlay__container').addEventListener('jsModalClosed', () => {document.querySelector('.b-image-overlay__close-container').style.display = 'block';});Array.from(document.querySelectorAll('.b-image-overlay__preview')).forEach((el) => {el.onclick = (e) => {e.preventDefault();if (!e.target.classList.contains('b-image-overlay__preview--offensive')) {e.target.dispatchEvent(new CustomEvent('openObjectOverlay', { bubbles: true }));}};});}};initObjectOverlay();","import Clamp from 'clamp-js';const clampText = () => {const textToClamp = Array.from(document.querySelectorAll('.b-story-box__content-text'));if (window.innerWidth > 499) {textToClamp.forEach((el) => {Clamp(el, {clamp: 'auto',splitOnChars: ['.', ',', ' ']});});} else {textToClamp.forEach((el) => {el.style.display = 'none';});}};const initRevealer = () => {const boxes = Array.from(document.querySelectorAll('.b-story-box'));const columnBoxes = Array.from(document.querySelectorAll('.b-story-box--column'));if (boxes.length > 2) {document.querySelector('.b-story-box-container__reveal-container').classList.add('b-story-box-container__reveal-container--active');}boxes.slice(0, 2).forEach((el) => {el.classList.add('b-story-box--active');});const button = document.querySelector('.b-story-box-container__reveal-btn');if (button) {button.onclick = () => {const currentBoxes = Array.from(document.querySelectorAll('.b-story-box--active')).length;Array.from(document.querySelectorAll('.b-story-box')).slice(currentBoxes, currentBoxes + 2).forEach((el) => {el.classList.add('b-story-box--active');});if (currentBoxes + 1 === boxes.length) {document.querySelector('.b-story-box-container__reveal-container').classList.remove('b-story-box-container__reveal-container--active');} else {const textContentBoxes = columnBoxes.slice(currentBoxes - 1, currentBoxes + 2).map(el => el.querySelector('.b-story-box__content-text'));const tallestInRow = textContentBoxes[(textContentBoxes[0].offsetHeight > textContentBoxes[1].offsetHeight ? 0 : 1)].offsetHeight;textContentBoxes.forEach((el) => {el.style.height = `${tallestInRow}px`;});}clampText();// stop page going upreturn false;};}};if (document.querySelector('.b-story-box')) {initRevealer();clampText();window.addEventListener('resize', () => {clampText();});}","function polyfillObjectFit () {const objectFitContainer = document.querySelectorAll('.js-object-fit-container');[].forEach.call(objectFitContainer, (els) => {if (els.getElementsByTagName('img')[0]) {const imgEl = els.getElementsByTagName('img')[0];imgEl.addEventListener('load', () => {const imgUrl = imgEl.src;if (imgUrl) {els.classList.add('js-object-fit-container--fallback');els.style.backgroundImage = `url('${imgUrl}')`;}});}});}if (typeof Modernizr !== 'undefined') {Modernizr.on('objectfit', (r) => {if (!r) polyfillObjectFit();});}"]}