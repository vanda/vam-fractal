{"version":3,"sources":["src/assets/scripts/node_modules/browser-pack/_prelude.js","src/assets/scripts/node_modules/browser-cookies/src/browser-cookies.js","src/assets/scripts/node_modules/querystring-es3/decode.js","src/assets/scripts/node_modules/querystring-es3/encode.js","src/assets/scripts/node_modules/querystring-es3/index.js","src/assets/scripts/node_modules/svg4everybody/dist/svg4everybody.js","src/assets/scripts/src/assets/scripts/vam-scripts.js","src/assets/scripts/src/components/blocks/background-video/_background-video.js","src/assets/scripts/src/components/blocks/cookie-banner/_cookie-banner.js","src/assets/scripts/src/components/blocks/modal/_modal.js","src/assets/scripts/src/components/blocks/newsletter-signup/_newsletter-signup.js","src/assets/scripts/src/components/blocks/object-image-overlay/_object-image-overlay.js","src/assets/scripts/src/components/blocks/search-form/_search-form.js","src/assets/scripts/src/components/blocks/search-result/_search-result.js","src/assets/scripts/src/components/blocks/toggle-nav/_toggle-nav.js","src/assets/scripts/src/components/blocks/video-thumbnail/_video-thumbnail.js","src/assets/scripts/src/components/blocks/video-trailer/_video-trailer.js","src/assets/scripts/src/components/groups/block-grid/_grid-reveal-more.js","src/assets/scripts/src/components/services/object_fit_polyfill/_poly-object-fit.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","defaults","set","name","value","options","opts","expires","domain","path","undefined","secure","httponly","samesite","expDate","Date","getTime","document","cookie","replace","encodeURIComponent","toUTCString","get","cookies","split","pop","separatorIndex","indexOf","decodeURIComponent","slice","erase","all","hasOwnProperty","obj","prop","Object","prototype","qs","sep","eq","regexp","maxKeys","len","kstr","vstr","k","v","x","idx","substr","isArray","push","Array","xs","toString","map","res","stringifyPrimitive","isFinite","objectKeys","ks","join","keys","key","decode","parse","encode","stringify","root","factory","define","amd","svg4everybody","this","embed","parent","svg","target","fragment","createDocumentFragment","viewBox","hasAttribute","getAttribute","setAttribute","clone","cloneNode","childNodes","appendChild","firstChild","loadreadystatechange","xhr","onreadystatechange","readyState","cachedDocument","_cachedDocument","implementation","createHTMLDocument","body","innerHTML","responseText","_cachedTarget","_embeds","splice","item","id","getElementById","rawopts","oninterval","index","uses","use","parentNode","getSVGAncestor","src","attributeName","polyfill","validate","removeChild","srcSplit","url","shift","requests","XMLHttpRequest","open","send","numberOfSvgUseElementsToBypass","requestAnimationFrame","newerIEUA","webkitUA","olderEdgeUA","edgeUA","inIframe","window","top","self","test","navigator","userAgent","match","setTimeout","getElementsByTagName","node","nodeName","toLowerCase","_svg4everybody","_svg4everybody2","default","backgroundVideo","querySelector","backgroundVideoContainer","stopButton","videoCredit","imageCredit","playCounter","showVideoCredit","classList","remove","add","hideVideoCredit","addEventListener","pause","pauseHiddenVideo","offsetHeight","play","onclick","paused","cookieBanner","closeButton","onload","event","preventDefault","modalTracking","category","action","dataLayer","_browserCookies","modals","querySelectorAll","from","modal","modalCampaign","dataset","modalOnceOnly","_browserCookies2","modalDomain","modalAction","textContent","isEmail","signupForm","emailField","emailDescriptor","emailBtn","httpRequest","formInputs","submit","ip","DONE","status","setRequestHeader","oicSeeds","oic","createElement","items","addItem","prepend","arguments","seed","data","objectImageOverlay","JSON","museumNumber","copyright","numberCopyright","onDisplay","locationCopy","displayOverride","locationSite","locationRoom","storageOverride","visitLink","visitUrl","location","objectUrl","href","ctaScreen","ctaMobile","alt","srcset","insertBefore","firstElementChild","itemPrev","itemNext","getIndex","findIndex","el","clipItem","lastElementChild","advance","rewind","_index","track","object","trim","closest","focus","keyHandle","e3","e2","matches","removeEventListener","searchDecorate","searchUnderscore","searchInput","searchActivate","searchClear","searchSubmit","searchReset","searchResultTextTruncate","textEl","textFull","scrollHeight","clientHeight","maxChars","shunt","firstChar","lastChar","lastIndexOf","substring","searchResultTextEls","bind","_querystring","toggleNav","toggleNavBtns","_querystring2","search","qsToggleType","type","tog","tnToggees","toggeesSelector","togType","toggleType","scrollLeft","offsetLeft","getBoundingClientRect","width","preventHistoryPush","history","pushState","toggleNavType","click","state","toggleTypeDefault","videoThumbs","vidThumb","popup","popupClose","className","videoTrailer","previewImage","style","height","offsetWidth","gridRevealMore","gridBlock","noOfItemsToShow","revealMoreCounter","childElementCount","svgURL","iconUrl","gridItems","concat","_toConsumableArray","children","theme","revealMoreTheme","tracking","revealMoreTracking","putAfter","revealMorePutAfter","forEach","gridFooterMarkup","nextSibling","revealMoreClicks","hiddenItems","filter","contains","replaceState","buttons","polyfillObjectFit","objectFitContainer","els","imgEl","imgUrl","backgroundImage","Modernizr","on"],"mappings":"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","file":"vamscript.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","exports.defaults = {};\r\rexports.set = function(name, value, options) {\r// Retrieve options and defaults\rvar opts = options || {};\rvar defaults = exports.defaults;\r\r// Apply default value for unspecified options\rvar expires  = opts.expires  || defaults.expires;\rvar domain   = opts.domain   || defaults.domain;\rvar path     = opts.path     !== undefined ? opts.path     : (defaults.path !== undefined ? defaults.path : '/');\rvar secure   = opts.secure   !== undefined ? opts.secure   : defaults.secure;\rvar httponly = opts.httponly !== undefined ? opts.httponly : defaults.httponly;\rvar samesite = opts.samesite !== undefined ? opts.samesite : defaults.samesite;\r\r// Determine cookie expiration date\r// If succesful the result will be a valid Date, otherwise it will be an invalid Date or false(ish)\rvar expDate = expires ? new Date(\r// in case expires is an integer, it should specify the number of days till the cookie expires\rtypeof expires === 'number' ? new Date().getTime() + (expires * 864e5) :\r// else expires should be either a Date object or in a format recognized by Date.parse()\rexpires\r) : 0;\r\r// Set cookie\rdocument.cookie = name.replace(/[^+#$&^`|]/g, encodeURIComponent)                // Encode cookie name\r.replace('(', '%28')\r.replace(')', '%29') +\r'=' + value.replace(/[^+#$&/:<-\\[\\]-}]/g, encodeURIComponent) +                  // Encode cookie value (RFC6265)\r(expDate && expDate.getTime() >= 0 ? ';expires=' + expDate.toUTCString() : '') + // Add expiration date\r(domain   ? ';domain=' + domain     : '') +                                      // Add domain\r(path     ? ';path='   + path       : '') +                                      // Add path\r(secure   ? ';secure'               : '') +                                      // Add secure option\r(httponly ? ';httponly'             : '') +                                      // Add httponly option\r(samesite ? ';samesite=' + samesite : '');                                       // Add samesite option\r};\r\rexports.get = function(name) {\rvar cookies = document.cookie.split(';');\r\r// Iterate all cookies\rwhile(cookies.length) {\rvar cookie = cookies.pop();\r\r// Determine separator index (\"name=value\")\rvar separatorIndex = cookie.indexOf('=');\r\r// IE<11 emits the equal sign when the cookie value is empty\rseparatorIndex = separatorIndex < 0 ? cookie.length : separatorIndex;\r\rvar cookie_name = decodeURIComponent(cookie.slice(0, separatorIndex).replace(/^\\s+/, ''));\r\r// Return cookie value if the name matches\rif (cookie_name === name) {\rreturn decodeURIComponent(cookie.slice(separatorIndex + 1));\r}\r}\r\r// Return `null` as the cookie was not found\rreturn null;\r};\r\rexports.erase = function(name, options) {\rexports.set(name, '', {\rexpires:  -1,\rdomain:   options && options.domain,\rpath:     options && options.path,\rsecure:   0,\rhttponly: 0}\r);\r};\r\rexports.all = function() {\rvar all = {};\rvar cookies = document.cookie.split(';');\r\r// Iterate all cookies\rwhile(cookies.length) {\rvar cookie = cookies.pop();\r\r// Determine separator index (\"name=value\")\rvar separatorIndex = cookie.indexOf('=');\r\r// IE<11 emits the equal sign when the cookie value is empty\rseparatorIndex = separatorIndex < 0 ? cookie.length : separatorIndex;\r\r// add the cookie name and value to the `all` object\rvar cookie_name = decodeURIComponent(cookie.slice(0, separatorIndex).replace(/^\\s+/, ''));\rall[cookie_name] = decodeURIComponent(cookie.slice(separatorIndex + 1));\r}\r\rreturn all;\r};\r","// Copyright Joyent, Inc. and other Node contributors.//// Permission is hereby granted, free of charge, to any person obtaining a// copy of this software and associated documentation files (the// \"Software\"), to deal in the Software without restriction, including// without limitation the rights to use, copy, modify, merge, publish,// distribute, sublicense, and/or sell copies of the Software, and to permit// persons to whom the Software is furnished to do so, subject to the// following conditions://// The above copyright notice and this permission notice shall be included// in all copies or substantial portions of the Software.//// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE// USE OR OTHER DEALINGS IN THE SOFTWARE.'use strict';// If obj.hasOwnProperty has been overridden, then calling// obj.hasOwnProperty(prop) will break.// See: https://github.com/joyent/node/issues/1707function hasOwnProperty(obj, prop) {return Object.prototype.hasOwnProperty.call(obj, prop);}module.exports = function(qs, sep, eq, options) {sep = sep || '&';eq = eq || '=';var obj = {};if (typeof qs !== 'string' || qs.length === 0) {return obj;}var regexp = /\\+/g;qs = qs.split(sep);var maxKeys = 1000;if (options && typeof options.maxKeys === 'number') {maxKeys = options.maxKeys;}var len = qs.length;// maxKeys <= 0 means that we should not limit keys countif (maxKeys > 0 && len > maxKeys) {len = maxKeys;}for (var i = 0; i < len; ++i) {var x = qs[i].replace(regexp, '%20'),idx = x.indexOf(eq),kstr, vstr, k, v;if (idx >= 0) {kstr = x.substr(0, idx);vstr = x.substr(idx + 1);} else {kstr = x;vstr = '';}k = decodeURIComponent(kstr);v = decodeURIComponent(vstr);if (!hasOwnProperty(obj, k)) {obj[k] = v;} else if (isArray(obj[k])) {obj[k].push(v);} else {obj[k] = [obj[k], v];}}return obj;};var isArray = Array.isArray || function (xs) {return Object.prototype.toString.call(xs) === '[object Array]';};","// Copyright Joyent, Inc. and other Node contributors.//// Permission is hereby granted, free of charge, to any person obtaining a// copy of this software and associated documentation files (the// \"Software\"), to deal in the Software without restriction, including// without limitation the rights to use, copy, modify, merge, publish,// distribute, sublicense, and/or sell copies of the Software, and to permit// persons to whom the Software is furnished to do so, subject to the// following conditions://// The above copyright notice and this permission notice shall be included// in all copies or substantial portions of the Software.//// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE// USE OR OTHER DEALINGS IN THE SOFTWARE.'use strict';var stringifyPrimitive = function(v) {switch (typeof v) {case 'string':return v;case 'boolean':return v ? 'true' : 'false';case 'number':return isFinite(v) ? v : '';default:return '';}};module.exports = function(obj, sep, eq, name) {sep = sep || '&';eq = eq || '=';if (obj === null) {obj = undefined;}if (typeof obj === 'object') {return map(objectKeys(obj), function(k) {var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;if (isArray(obj[k])) {return map(obj[k], function(v) {return ks + encodeURIComponent(stringifyPrimitive(v));}).join(sep);} else {return ks + encodeURIComponent(stringifyPrimitive(obj[k]));}}).join(sep);}if (!name) return '';return encodeURIComponent(stringifyPrimitive(name)) + eq +encodeURIComponent(stringifyPrimitive(obj));};var isArray = Array.isArray || function (xs) {return Object.prototype.toString.call(xs) === '[object Array]';};function map (xs, f) {if (xs.map) return xs.map(f);var res = [];for (var i = 0; i < xs.length; i++) {res.push(f(xs[i], i));}return res;}var objectKeys = Object.keys || function (obj) {var res = [];for (var key in obj) {if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);}return res;};","'use strict';exports.decode = exports.parse = require('./decode');exports.encode = exports.stringify = require('./encode');","!function(root, factory) {\"function\" == typeof define && define.amd ? // AMD. Register as an anonymous module unless amdModuleId is setdefine([], function() {return root.svg4everybody = factory();}) : \"object\" == typeof module && module.exports ? // Node. Does not work with strict CommonJS, but// only CommonJS-like environments that support module.exports,// like Node.module.exports = factory() : root.svg4everybody = factory();}(this, function() {/*! svg4everybody v2.1.9 | github.com/jonathantneal/svg4everybody */function embed(parent, svg, target) {// if the target existsif (target) {// create a document fragment to hold the contents of the targetvar fragment = document.createDocumentFragment(), viewBox = !svg.hasAttribute(\"viewBox\") && target.getAttribute(\"viewBox\");// conditionally set the viewBox on the svgviewBox && svg.setAttribute(\"viewBox\", viewBox);// copy the contents of the clone into the fragmentfor (// clone the targetvar clone = target.cloneNode(!0); clone.childNodes.length; ) {fragment.appendChild(clone.firstChild);}// append the fragment into the svgparent.appendChild(fragment);}}function loadreadystatechange(xhr) {// listen to changes in the requestxhr.onreadystatechange = function() {// if the request is readyif (4 === xhr.readyState) {// get the cached html documentvar cachedDocument = xhr._cachedDocument;// ensure the cached html document based on the xhr responsecachedDocument || (cachedDocument = xhr._cachedDocument = document.implementation.createHTMLDocument(\"\"), cachedDocument.body.innerHTML = xhr.responseText, xhr._cachedTarget = {}), // clear the xhr embeds list and embed each itemxhr._embeds.splice(0).map(function(item) {// get the cached targetvar target = xhr._cachedTarget[item.id];// ensure the cached targettarget || (target = xhr._cachedTarget[item.id] = cachedDocument.getElementById(item.id)), // embed the target into the svgembed(item.parent, item.svg, target);});}}, // test the ready state change immediatelyxhr.onreadystatechange();}function svg4everybody(rawopts) {function oninterval() {// while the index exists in the live <use> collectionfor (// get the cached <use> indexvar index = 0; index < uses.length; ) {// get the current <use>var use = uses[index], parent = use.parentNode, svg = getSVGAncestor(parent), src = use.getAttribute(\"xlink:href\") || use.getAttribute(\"href\");if (!src && opts.attributeName && (src = use.getAttribute(opts.attributeName)), svg && src) {if (polyfill) {if (!opts.validate || opts.validate(src, svg, use)) {// remove the <use> elementparent.removeChild(use);// parse the src and get the url and idvar srcSplit = src.split(\"#\"), url = srcSplit.shift(), id = srcSplit.join(\"#\");// if the link is externalif (url.length) {// get the cached xhr requestvar xhr = requests[url];// ensure the xhr request existsxhr || (xhr = requests[url] = new XMLHttpRequest(), xhr.open(\"GET\", url), xhr.send(), xhr._embeds = []), // add the svg and id as an item to the xhr embeds listxhr._embeds.push({parent: parent,svg: svg,id: id}), // prepare the xhr ready state change eventloadreadystatechange(xhr);} else {// embed the local id into the svgembed(parent, svg, document.getElementById(id));}} else {// increase the index when the previous value was not \"valid\"++index, ++numberOfSvgUseElementsToBypass;}}} else {// increase the index when the previous value was not \"valid\"++index;}}// continue the interval(!uses.length || uses.length - numberOfSvgUseElementsToBypass > 0) && requestAnimationFrame(oninterval, 67);}var polyfill, opts = Object(rawopts), newerIEUA = /\\bTrident\\/[567]\\b|\\bMSIE (?:9|10)\\.0\\b/, webkitUA = /\\bAppleWebKit\\/(\\d+)\\b/, olderEdgeUA = /\\bEdge\\/12\\.(\\d+)\\b/, edgeUA = /\\bEdge\\/.(\\d+)\\b/, inIframe = window.top !== window.self;polyfill = \"polyfill\" in opts ? opts.polyfill : newerIEUA.test(navigator.userAgent) || (navigator.userAgent.match(olderEdgeUA) || [])[1] < 10547 || (navigator.userAgent.match(webkitUA) || [])[1] < 537 || edgeUA.test(navigator.userAgent) && inIframe;// create xhr requests objectvar requests = {}, requestAnimationFrame = window.requestAnimationFrame || setTimeout, uses = document.getElementsByTagName(\"use\"), numberOfSvgUseElementsToBypass = 0;// conditionally start the interval if the polyfill is activepolyfill && oninterval();}function getSVGAncestor(node) {for (var svg = node; \"svg\" !== svg.nodeName.toLowerCase() && (svg = svg.parentNode); ) {}return svg;}return svg4everybody;});","import svg4everybody from 'svg4everybody';require('../../components/services/object_fit_polyfill/_poly-object-fit.js');require('../../components/blocks/background-video/_background-video.js');require('../../components/groups/block-grid/_grid-reveal-more.js');require('../../components/blocks/cookie-banner/_cookie-banner.js');require('../../components/blocks/object-image-overlay/_object-image-overlay.js');require('../../components/blocks/modal/_modal.js');require('../../components/blocks/newsletter-signup/_newsletter-signup.js');require('../../components/blocks/search-form/_search-form.js');require('../../components/blocks/search-result/_search-result.js');require('../../components/blocks/toggle-nav/_toggle-nav.js');require('../../components/blocks/video-thumbnail/_video-thumbnail.js');require('../../components/blocks/video-trailer/_video-trailer.js');svg4everybody();","const backgroundVideo = document.querySelector('.js-background-video');if (backgroundVideo) {const backgroundVideoContainer = document.querySelector('.js-background-video-container');const stopButton = document.querySelector('.js-stop-button');const timesToLoop = 20;const videoCredit = document.querySelector('.js-background-video-credit');const imageCredit = document.querySelector('.js-background-image-credit');let playCounter = 0;const showVideoCredit = () => {if (videoCredit) {videoCredit.classList.remove('hidden');}if (imageCredit) {imageCredit.classList.add('hidden');}};const hideVideoCredit = () => {if (videoCredit) {videoCredit.classList.add('hidden');}if (imageCredit) {imageCredit.classList.remove('hidden');}};// Looping videos do not trigger ended events and manually looping// videos from JS is disabled in many browsers. The canplaythrough event here// is (approximately) mimicking an ended event for loops.backgroundVideo.addEventListener('canplaythrough', () => {if (playCounter >= timesToLoop) {backgroundVideoContainer.classList.remove('b-video-background--fade');backgroundVideo.pause();hideVideoCredit();} else {backgroundVideoContainer.classList.add('b-video-background--fade');playCounter += 1;showVideoCredit();}});const pauseHiddenVideo = () => {// offsetHeight always equals 0 if an element is hiddenif (backgroundVideoContainer.offsetHeight === 0) {backgroundVideo.pause();hideVideoCredit();} else {backgroundVideo.play();showVideoCredit();}};window.addEventListener('load', () => {pauseHiddenVideo();});window.addEventListener('resize', () => {pauseHiddenVideo();});if (stopButton) {stopButton.onclick = () => {backgroundVideo.pause();backgroundVideoContainer.classList.remove('b-video-background--fade');if (backgroundVideo.paused) {stopButton.classList.add('hidden');hideVideoCredit();}};}}","const cookieBanner = document.querySelector('.js-cookie-banner');if (cookieBanner) {const closeButton = document.querySelector('.js-cookie-banner-close');window.onload = () => {cookieBanner.classList.remove('b-cookie-banner--hidden');};closeButton.onclick = (event) => {event.preventDefault();cookieBanner.classList.add('b-cookie-banner--hidden');};}","import cookies from 'browser-cookies';const modals = document.querySelectorAll('.js-modal');function modalTracking (category, action) {window.dataLayer = window.dataLayer || [];window.dataLayer.push({event: 'myClick',category,action});}Array.from(modals, (modal) => {const modalCampaign = modal.dataset.modalCampaign;if (!modal.dataset.modalOnceOnly || !cookies.get(modalCampaign)) {document.body.appendChild(modal);modal.classList.add('b-modal--active');modalTracking(modalCampaign, 'pop-up displayed');}modal.addEventListener('click', (e) => {if (modal.dataset.modalOnceOnly) {cookies.set(modalCampaign, 'seen', { domain: modal.dataset.modalDomain, expires: 365 });}if (e.target !== modal) {const modalAction = modal.querySelector('.js-modal-action');if (e.target === modalAction) {modalTracking(modalCampaign, `clicked: ${modalAction.textContent}`);} else {modalTracking(modalCampaign, 'pop-up dismissed');modal.remove();}}});return true;});","function isEmail (t) {const e = /^([\\w-]+(?:\\.[\\w-]+)*)@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$/i;return e.test(t);}Array.from(document.querySelectorAll('.js-newsletter_form'), (signupForm) => {signupForm.addEventListener('submit', (e) => {e.preventDefault();const emailField = signupForm.querySelector('.js-emailValidation');const emailDescriptor = signupForm.querySelector('.js-newsletter__descriptor');const emailBtn = signupForm.querySelector('.js-newsletter__submit');const httpRequest = new XMLHttpRequest();let formInputs = '';if (isEmail(emailField.value)) {if (!httpRequest) {signupForm.submit();}Array.from(signupForm.querySelectorAll('input'), (ip) => {formInputs += `${ip.name}=${encodeURIComponent(ip.value)}&`;return true;});httpRequest.onreadystatechange = () => {if (httpRequest.readyState === XMLHttpRequest.DONE) {if (httpRequest.status === 200) {emailBtn.value = 'Thank you!';emailDescriptor.innerHTML ='A confirmation email will be sent to this address shortly&hellip;';signupForm.classList.remove('invalid');signupForm.classList.add('sent');} else {signupForm.submit();}}};httpRequest.open('POST', signupForm.action);httpRequest.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');httpRequest.send(formInputs);} else {emailDescriptor.innerHTML = \"That doesn't look like an email address&hellip;\";signupForm.classList.add('invalid');}});return true;});","/* eslint-disable no-underscore-dangle */(() => {const oicSeeds = Array.from(document.querySelectorAll('.js-object-image-overlay-item'));if (oicSeeds.length) {const oic = document.querySelector('.b-object-image-overlay') || document.createElement('div');document.body.appendChild(oic);oic.classList.add('b-object-image-overlay');oic.setAttribute('tabindex', 0);oic.innerHTML = `<a class=\"b-object-image-overlay__dismiss\" title=\"Close\" aria-label=\"Close\"></a><div class=\"b-object-image-overlay__items\"></div>`;const items = oic.querySelector('.b-object-image-overlay__items');oic.addItem = (index, prepend = false) => {const seed = oicSeeds[index] || oicSeeds[0];const data = seed.dataset.objectImageOverlay ?JSON.parse(seed.dataset.objectImageOverlay): null;const museumNumber = data && data.museumNumber ?`Museum number: <span itemprop=\"identifier\">${data.museumNumber}</span>`: '';const copyright = data && data.copyright ?`<br/><span itemprop=\"copyrightHolder\">${data.copyright}</span>`: '';const numberCopyright = museumNumber || copyright ?`<div class=\"b-object-image-overlay__numbercopyright\">${museumNumber}${copyright}</div>`: '';const onDisplay = data && data.onDisplay ?`<div class=\"b-object-image-overlay__location-status\"><svg role=\"img\" id="on-display" viewBox="0 0 52 52"><path d="M51.59 25.348C45.15 15.57 35.838 10 26 10S6.851 15.57.41 25.348L0 26l.41.652C6.85 36.43 16.162 42 26 42s19.149-5.57 25.59-15.348L52 26l-.41-.652zM25.5 35c-5.225 0-9.5-4.275-9.5-9.5s4.275-9.5 9.5-9.5 9.5 4.275 9.5 9.5-4.275 9.5-9.5 9.5z" fill="currentColor"/></svg>On display</div>`: '';let locationCopy = '';if (data && data.onDisplay) {locationCopy = data.displayOverride;if (!locationCopy) {const locationSite = data.locationSite ?`<div class=\"b-object-image-overlay__location-site\">${data.locationSite}</div>`: '';const locationRoom = data.locationRoom ?data.locationRoom: '';locationCopy = locationSite + locationRoom;}} else if (data && data.onDisplay !== null && !data.onDisplay) {locationCopy = data.storageOverride || 'This object is currently not on display';}const visitLink = data && data.visitUrl ?`<a class=\"b-object-image-overlay__visit\" href=\"${data.visitUrl}\" data-tracking-oic=\"visit the object\">Find out how to visit this object</a>`: '';const location = locationCopy || visitLink ?`<div class=\"b-object-image-overlay__location\">${onDisplay}<div class=\"b-object-image-overlay__location-copy\">${locationCopy}</div>${visitLink}</div>` : '';const objectUrl = seed.querySelector('a').href;const ctaScreen = objectUrl.length > 1 ?`<br/><a class=\"b-object-image-overlay__cta b-object-image-overlay__cta--screen\" href=\"${objectUrl}\" data-tracking-oic=\"explore the object\">Explore object in more depth</a>`: '';const ctaMobile = objectUrl.length > 1 ?`<a class=\"b-object-image-overlay__cta b-object-image-overlay__cta--mobile\" href=\"${objectUrl}\" data-tracking-oic=\"explore the object\">Explore object in more depth</a>`: '';const item = document.createElement('div');item.classList.add('b-object-image-overlay__item');item.innerHTML += `<div class=\"b-object-image-overlay__content\"><figure class=\"b-object-image-overlay__figure\"><img class=\"b-object-image-overlay__image\"itemprop=\"contentUrl\"alt=\"${seed.querySelector('img').alt}\"sizes=\"(max-width: 991px) calc(100vw - 20px),(min-width: 992px) calc(70vw - 145px),(min-width: 1200px) 710px\"srcset=\"${seed.querySelector('img').srcset}\"src=\"${seed.querySelector('img').src}\"><figcaption class=\"b-object-image-overlay__figcaption\">${numberCopyright}<div class=\"b-object-image-overlay__prevnext\"><a class=\"b-object-image-overlay__prev b-object-image-overlay__prev--disabled\" href=\"#\" title=\"Previous\" aria-label=\"Previous\" data-tracking=\"previous object\"><svg role=\"img\" id="point-left" viewBox="0 0 100 100"><path fill="none" d="M-1-1h582v402H-1z"/><g><path d="M70.173 12.294L57.446.174l-47.62 50 47.62 50 12.727-12.122-36.075-37.879z" fill="currentColor" fill-rule="nonzero"/></g></svg></a><a class=\"b-object-image-overlay__next b-object-image-overlay__next--disabled\" href=\"#\" title=\"Next\" aria-label=\"Next\" data-tracking=\"next object\"><svg role=\"img\" id="point-right" viewBox="0 0 100 100"><path fill="none" d="M-1-1h582v402H-1z"/><g><path d="M20 88.052l12.727 12.121 47.62-50-47.62-50L20 12.294l36.075 37.88z" fill="currentColor" fill-rule="nonzero"/></g></svg></a></div></figcaption></figure><div class=\"b-object-image-overlay__details\"><div class=\"b-object-image-overlay__caption\">${seed.querySelector('figcaption').textContent}${ctaScreen}</div>${location}${ctaMobile}</div></div>`;if (prepend) {items.insertBefore(item, items.firstElementChild);} else {items.appendChild(item);}const itemPrev = item.querySelector('.b-object-image-overlay__prev');const itemNext = item.querySelector('.b-object-image-overlay__next');if (index > 0) {itemPrev.classList.add('b-object-image-overlay__prev--enabled');}if (index < oicSeeds.length - 1) {itemNext.classList.add('b-object-image-overlay__next--enabled');}};oic.getIndex = (seed) => {const index = oicSeeds.findIndex((el) => {const match = (el === seed);return match;});return index;};oic.clipItem = (last = false) => {if (last) {items.lastElementChild.remove();} else {items.firstElementChild.remove();}};oic.advance = (rewind = false) => {if ((!rewind && oic._index < oicSeeds.length - 1)|| (rewind && oic._index > 0)) {oic.clipItem(rewind);oic.addItem(oic._index + (2 * (rewind ? -1 : 1)), rewind);oic._index += (1 * (rewind ? -1 : 1));oic.track(oic._index);}};oic.track = (index) => {window.dataLayer = window.dataLayer || [];window.dataLayer.push({event: 'OIC',object: oicSeeds[index].querySelector('figcaption').textContent.trim(),museumNumber: JSON.parse(oicSeeds[index].dataset.objectImageOverlay).museumNumber});};document.addEventListener('click', (e) => {if (e.target.closest('.js-object-image-overlay-item')) {e.preventDefault();const seed = e.target.closest('.js-object-image-overlay-item');oic._index = oic.getIndex(seed);oic.addItem(oic._index);oic.classList.add('b-object-image-overlay--active');oic.addItem(oic._index + 1);oic.addItem(oic._index - 1, true);oic.focus();oic.track(oic._index);const keyHandle = (e3) => {if (e3.key === 'ArrowLeft') {e3.preventDefault();oic.advance(true);} else if (e3.key === 'ArrowRight') {e3.preventDefault();oic.advance();}};document.addEventListener('keydown', keyHandle, false);oic.onclick = (e2) => {if (e2.target.matches('.b-object-image-overlay__item, .b-object-image-overlay__dismiss')) {e2.preventDefault();oic.classList.remove('b-object-image-overlay--active');items.innerHTML = '';oic.onclick = null;document.removeEventListener('keydown', keyHandle, false);} else if (e2.target.closest('.b-object-image-overlay__next--enabled')) {e2.preventDefault();oic.advance();} else if (e2.target.closest('.b-object-image-overlay__prev--enabled')) {e2.preventDefault();oic.advance(true);}};}}, false);}})();/* eslint-enable no-underscore-dangle */","// To draw the coloured underline beneath the input field valueconst searchInput = document.querySelector('.js-search-input');const searchUnderscore = document.querySelector('.js-search-underscore');const searchSubmit = document.querySelector('.js-search-submit');const searchClear = document.querySelector('.js-search-clear');function searchDecorate () {searchUnderscore.innerHTML = searchInput.value.replace(/\\s/g, '&nbsp;');}function searchInit () {searchSubmit.classList.add('b-search-form__submit--hidden');if (searchInput.value.length) {searchClear.classList.remove('b-search-form__clear--hidden');}}function searchActivate () {searchClear.classList.add('b-search-form__clear--hidden');if (searchInput.value.length) {searchSubmit.classList.remove('b-search-form__submit--hidden');} else {searchSubmit.classList.add('b-search-form__submit--hidden');}}function searchReset () {searchClear.classList.add('b-search-form__clear--hidden');searchInput.value = '';searchDecorate();}if (searchInput) {searchInput.focus();searchInit();searchDecorate();searchInput.addEventListener('input', searchDecorate);searchInput.addEventListener('input', searchActivate);searchClear.addEventListener('click', searchReset);}","const searchResultTextEls = document.querySelectorAll('.js-search-result-text');function searchResultTextTruncate (textEl) {textEl.innerHTML = textEl.textFull;if (textEl.scrollHeight - textEl.clientHeight > 10) {const focus = textEl.textFull.indexOf('</em>');const maxChars = (textEl.clientHeight / textEl.scrollHeight) * textEl.textFull.length;const shunt = focus - maxChars;let firstChar = 0;let lastChar = textEl.textFull.lastIndexOf(' ', maxChars);let prepend = '';if (shunt > 0) {prepend = '&hellip;';firstChar = textEl.textFull.indexOf(' ', shunt + 20) + 1;lastChar = textEl.textFull.lastIndexOf(' ', maxChars + shunt + 20);}textEl.innerHTML = `${prepend}${textEl.textFull.substring(firstChar, lastChar)}&hellip;`;}}if (searchResultTextEls.length) {Array.from(searchResultTextEls, (textEl) => {textEl.textFull = textEl.innerHTML;searchResultTextTruncate(textEl);window.addEventListener('resize', searchResultTextTruncate.bind(this, textEl), false);return true;});}","import querystring from 'querystring';const toggleNav = document.querySelector('.js-toggle-nav');if (toggleNav) {const toggleNavBtns = toggleNav.querySelectorAll('.js-toggle-nav-btn');const qs = querystring.parse(window.location.search.replace('?', ''));const qsToggleType = qs.type;Array.from(toggleNavBtns, (tog) => {const tnToggees = document.querySelectorAll(tog.dataset.toggeesSelector);tog.addEventListener('click', (e) => {e.preventDefault();const togType = tog.dataset.toggleType;toggleNav.scrollLeft = tog.offsetLeft- ((toggleNav.getBoundingClientRect().width - tog.getBoundingClientRect().width) / 2);if (!tog.preventHistoryPush) {window.history.pushState({ toggleNavType: togType }, '', `?type=${togType}`);}tog.preventHistoryPush = false;Array.from(tnToggees, (el) => {el.classList.add('s-visually-hidden');if (el.dataset.toggleType === togType) {el.classList.remove('s-visually-hidden');}return true;});Array.from(toggleNavBtns, (el) => {el.classList.remove('b-toggle-nav__button--active');return true;});tog.classList.add('b-toggle-nav__button--active');}, false);if (tog.dataset.toggleType === qsToggleType) {tog.preventHistoryPush = true;setTimeout(() => { tog.click(); }, 50);}return true;});window.addEventListener('popstate', (e) => {Array.from(document.querySelectorAll('s-visually-hidden'), (el) => {el.classList.remove('s-visually-hidden');return true;});if (e.state && e.state.toggleNavType) {Array.from(toggleNavBtns, (tog) => {if (e.state.toggleNavType === tog.dataset.toggleType) {tog.preventHistoryPush = true;tog.click();}return true;});}return true;}, false);if (!qsToggleType && typeof toggleNav.dataset.toggleTypeDefault !== 'undefined') {document.querySelector(`[data-toggle-type=${toggleNav.dataset.toggleTypeDefault}]`).click();}}","const videoThumbs = document.querySelectorAll('.js-video-thumbnail');Array.from(videoThumbs, (vidThumb) => {vidThumb.addEventListener('click', (e) => {e.preventDefault();const popup = document.createElement('div');const popupClose = document.createElement('div');popup.className = 'b-video-thumbnail__popup';popup.innerHTML = `<iframe class=\"b-video-thumbnail__popup-iframe\" width=\"90%\" height=\"90%\" src=\"${vidThumb.href}\"&playsinline=1\" frameborder=\"0\" allowfullscreen></iframe>`;popup.addEventListener('click', () => {popup.remove();});popupClose.className = 'b-video-thumbnail__popup-close';popupClose.innerHTML = `<svg role=\"img\" id="close" viewBox="0 0 100 100"><path d="M50 39.254L10.749 0 0 10.742l39.251 39.254L0 89.251 10.749 100 50 60.746 89.251 100 100 89.243 60.749 49.99 100 10.734 89.244 0 49.992 39.254z" fill="currentColor" fill-rule="evenodd"/></svg>`;popup.appendChild(popupClose);document.body.appendChild(popup);});return true;});","const videoTrailer = document.querySelector('.js-video-trailer');if (videoTrailer) {const previewImage = videoTrailer.querySelector('.js-video-trailer-preview');const popup = document.createElement('div');const videoHeightRatio = 0.5625;videoTrailer.addEventListener('click', (e) => {e.preventDefault();popup.className = 'b-video-trailer__image';popup.innerHTML = `<iframe class=\"\" width=\"100%\" height=\"100%\" src=\"${videoTrailer.href}\"&playsinline=1\" frameborder=\"0\" allowfullscreen></iframe>`;previewImage.remove();videoTrailer.appendChild(popup);popup.style.height = `${popup.offsetWidth * videoHeightRatio}px`;});window.addEventListener('resize', () => {popup.style.height = `${popup.offsetWidth * videoHeightRatio}px`;});}","const gridRevealMore = document.querySelectorAll('.js-grid-reveal-more');if (gridRevealMore.length) {Array.from(gridRevealMore, (gridBlock) => {const noOfItemsToShow = gridBlock.dataset.revealMoreCounter || 4;if (noOfItemsToShow < gridBlock.childElementCount) {const svgURL = gridBlock.dataset.iconUrl;const gridItems = [...gridBlock.children];const theme = gridBlock.dataset.revealMoreTheme || 'dark';const tracking = gridBlock.dataset.revealMoreTracking || '';let putAfter = gridBlock;if (gridBlock.dataset.revealMorePutAfter) {putAfter = document.querySelector(gridBlock.dataset.revealMorePutAfter);}// Hide all but the first `noOfItemsToShow`gridItems.slice(noOfItemsToShow).forEach(el => el.classList.add('s-visually-hidden'));// Add in a show more button at the bottomconst gridFooterMarkup = document.createElement('footer');gridFooterMarkup.setAttribute('class', `b-block-grid__footer b-block-grid__footer--${theme}`);gridFooterMarkup.innerHTML = `<a href=\"#\" data-tracking-showmorebutton=\"${tracking}\" class=\"js-reveal-more-btn\"><div class=\"b-icon-badge b-icon-badge--small b-icon-badge--${theme}\"><div class=\"b-icon-badge__icon s-themed s-themed--background-color s-themed--background-color--hover\"><svg role=\"img\"><use xlink:href=\"${svgURL}#plus\"></use></svg></div><small class=\"b-icon-badge__label\">Show more</small></div></a>`;putAfter.parentNode.insertBefore(gridFooterMarkup, putAfter.nextSibling);// Hook up an event listener on that buttongridBlock.revealMoreClicks = 0;gridFooterMarkup.addEventListener('click', (e) => {e.preventDefault();gridBlock.revealMoreClicks += 1;// Filter down to just the hidden itemsconst hiddenItems = gridItems.filter(el => el.classList.contains('s-visually-hidden'));hiddenItems.slice(0, noOfItemsToShow).forEach(el => el.classList.remove('s-visually-hidden'));// Remove the footer if we're not going to need the button after thisif (hiddenItems.length <= noOfItemsToShow) gridFooterMarkup.remove();}, false);}return true;});window.addEventListener('beforeunload', () => {const revealMoreClicks = [];Array.from(gridRevealMore, (gridBlock) => {revealMoreClicks.push(gridBlock.revealMoreClicks);return true;});history.replaceState({ revealMoreClicks }, 'revealMoreClicks');}, false);window.addEventListener('load', () => {if (history.state && history.state.revealMoreClicks) {const buttons = document.querySelectorAll('.js-reveal-more-btn');for (let r = 0; r < history.state.revealMoreClicks.length; r += 1) {let c = 0;while (c < history.state.revealMoreClicks[r]) {buttons[r].click();c += 1;}}}}, false);}","function polyfillObjectFit () {const objectFitContainer = document.querySelectorAll('.js-object-fit-container');[].forEach.call(objectFitContainer, (els) => {if (els.getElementsByTagName('img')[0]) {const imgEl = els.getElementsByTagName('img')[0];imgEl.addEventListener('load', () => {const imgUrl = imgEl.src;if (imgUrl) {els.classList.add('js-object-fit-container--fallback');els.style.backgroundImage = `url('${imgUrl}')`;}});}});}if (typeof Modernizr !== 'undefined') {Modernizr.on('objectfit', (r) => {if (!r) polyfillObjectFit();});}"]}