{"version":3,"sources":["src/assets/scripts/node_modules/browser-pack/_prelude.js","src/assets/scripts/node_modules/browser-cookies/src/browser-cookies.js","src/assets/scripts/node_modules/querystring-es3/decode.js","src/assets/scripts/node_modules/querystring-es3/encode.js","src/assets/scripts/node_modules/querystring-es3/index.js","src/assets/scripts/node_modules/smooth-scroll/dist/js/smooth-scroll.min.js","src/assets/scripts/node_modules/svg4everybody/dist/svg4everybody.js","src/assets/scripts/src/assets/scripts/vam-scripts.js","src/assets/scripts/src/components/blocks/background-video/_background-video.js","src/assets/scripts/src/components/blocks/cookie-banner/_cookie-banner.js","src/assets/scripts/src/components/blocks/modal/_modal.js","src/assets/scripts/src/components/blocks/newsletter-signup/_newsletter-signup.js","src/assets/scripts/src/components/blocks/object-image-overlay/_object-image-overlay.js","src/assets/scripts/src/components/blocks/object-shuffler/_object-shuffler.js","src/assets/scripts/src/components/blocks/search-form/_search-form.js","src/assets/scripts/src/components/blocks/search-result/_search-result.js","src/assets/scripts/src/components/blocks/site-nav/_site-nav.js","src/assets/scripts/src/components/blocks/toggle-nav/_toggle-nav.js","src/assets/scripts/src/components/blocks/video-thumbnail/_video-thumbnail.js","src/assets/scripts/src/components/blocks/video-trailer/_video-trailer.js","src/assets/scripts/src/components/groups/block-grid/_grid-reveal-more.js","src/assets/scripts/src/components/services/object_fit_polyfill/_poly-object-fit.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","defaults","set","name","value","options","opts","expires","domain","path","undefined","secure","httponly","samesite","expDate","Date","getTime","document","cookie","replace","encodeURIComponent","toUTCString","get","cookies","split","pop","separatorIndex","indexOf","decodeURIComponent","slice","erase","all","qs","sep","eq","obj","regexp","maxKeys","prop","len","kstr","vstr","k","v","x","idx","substr","Object","prototype","hasOwnProperty","isArray","push","Array","xs","toString","stringifyPrimitive","isFinite","map","objectKeys","ks","join","res","keys","key","decode","parse","encode","stringify","global","this","window","O","Math","max","scrollHeight","offsetHeight","clientHeight","offsetTop","l","s","selector","selectorHeader","speed","easing","offset","callback","arguments","b","documentElement","innerHeight","body","animateScroll","getAttribute","JSON","d","h","tagName","m","pageYOffset","querySelector","E","H","offsetParent","min","g","parseInt","I","A","j","M","clearInterval","focus","activeElement","id","setAttribute","style","outline","scrollTo","w","floor","setInterval","location","hash","button","metaKey","ctrlKey","Element","matches","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","ownerDocument","querySelectorAll","item","parentNode","target","toLowerCase","hostname","pathname","test","href","charAt","String","charCodeAt","InvalidCharacterError","preventDefault","substring","setTimeout","destroy","removeEventListener","init","addEventListener","define","amd","smoothScroll","root","factory","embed","parent","svg","fragment","createDocumentFragment","viewBox","hasAttribute","clone","cloneNode","childNodes","appendChild","firstChild","loadreadystatechange","xhr","onreadystatechange","readyState","cachedDocument","_cachedDocument","implementation","createHTMLDocument","innerHTML","responseText","_cachedTarget","_embeds","splice","getElementById","getSVGAncestor","node","nodeName","rawopts","polyfill","inIframe","top","self","navigator","userAgent","match","requests","requestAnimationFrame","uses","getElementsByTagName","numberOfSvgUseElementsToBypass","oninterval","index","use","src","attributeName","validate","removeChild","srcSplit","url","shift","XMLHttpRequest","open","send","svg4everybody","_svg4everybody","_svg4everybody2","default","backgroundVideo","backgroundVideoContainer","stopButton","videoCredit","imageCredit","playCounter","showVideoCredit","classList","remove","add","hideVideoCredit","pause","pauseHiddenVideo","play","onclick","paused","cookieBanner","closeButton","onload","event","_browserCookies","modals","modalTracking","category","action","dataLayer","from","modal","modalCampaign","dataset","modalOnceOnly","_browserCookies2","modalDomain","modalAction","textContent","signupForm","emailField","emailDescriptor","emailBtn","httpRequest","formInputs","submit","ip","DONE","status","setRequestHeader","oicSeeds","oic","createElement","items","addItem","prepend","seed","data","objectImageOverlay","museumNumber","copyright","numberCopyright","onDisplay","locationCopy","displayOverride","locationSite","locationRoom","storageOverride","visitLink","visitUrl","objectUrl","ctaScreen","ctaMobile","alt","srcset","insertBefore","firstElementChild","itemPrev","itemNext","getIndex","findIndex","el","clipItem","lastElementChild","advance","rewind","_index","track","object","trim","closest","keyHandle","e3","e2","shuffler","shufflerData","objectShuffler","deckTemplate","itemTemplate","imgTemplate","slideSize","setSize","transitionDurationItem","parseFloat","getComputedStyle","getPropertyValue","transitionDurationImg","deckTabs","_i","removeAttribute","deck","_props","itemsData","itemsDataFeed","feed","itemsIndex","tabLink","className","title","getData","then","slide","newSlide","nextSlide","getBoundingClientRect","width","dataURI","fetch","response","json","records","record","imgPath","fields","primary_image_id","img","object_number","catch","err","console","log","Promise","resolve","children","dataIndex","scaler","random","scale","slot","yDir","xDir","y","jitterX","jitterY","height","position","left","transitionDuration","active","nextSibling","observer","IntersectionObserver","_ref","_slicedToArray","intersectionRatio","myComponent","unobserve","initialised","rootMargin","observe","searchInput","searchUnderscore","searchSubmit","searchClear","searchDecorate","searchResultTextEls","searchResultTextTruncate","textEl","textFull","maxChars","shunt","firstChar","lastChar","lastIndexOf","bind","lastScrollY","ticking","siteNav","winHeight","mobileNavToggle","mobileNavToggleIcon","mobileNavToggleText","mobileNavTop","navBag","navBagTotal","navSearchBtn","navSearch","navSearchInput","navSearchContent","navSearchSuggest","shopCookieBagTotal","tabletNavToggle","display","scrollY","_smoothScroll2","toggle","storedSearch","sessionStorage","getItem","storedSearchResults","setMinutes","getMinutes","results","setItem","trackAutosuggest","eventCategory","tracking","eventAction","eventLabel","autoSuggest","regEx","term","liveResult","imgSrc","forEach","result","suggestions","terms","icon","suggestion","type","setSelectionRange","regExStart","RegExp","_httpRequest","encodeURI","_querystring","toggleNav","toggleNavBtns","qsToggleType","_querystring2","search","tog","tnToggees","toggeesSelector","togType","toggleType","scrollLeft","offsetLeft","preventHistoryPush","history","pushState","toggleNavType","click","state","toggleTypeDefault","videoThumbs","vidThumb","popup","popupClose","videoTrailer","previewImage","offsetWidth","gridRevealMore","gridBlock","noOfItemsToShow","revealMoreCounter","childElementCount","svgURL","iconUrl","gridItems","concat","_toConsumableArray","theme","revealMoreTheme","revealMoreTracking","putAfter","revealMorePutAfter","gridFooterMarkup","revealMoreClicks","hiddenItems","filter","contains","replaceState","buttons","Modernizr","on","objectFitContainer","els","imgEl","imgUrl","backgroundImage"],"mappings":"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","file":"vamscript.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","exports.defaults = {};\r\rexports.set = function(name, value, options) {\r// Retrieve options and defaults\rvar opts = options || {};\rvar defaults = exports.defaults;\r\r// Apply default value for unspecified options\rvar expires  = opts.expires  || defaults.expires;\rvar domain   = opts.domain   || defaults.domain;\rvar path     = opts.path     !== undefined ? opts.path     : (defaults.path !== undefined ? defaults.path : '/');\rvar secure   = opts.secure   !== undefined ? opts.secure   : defaults.secure;\rvar httponly = opts.httponly !== undefined ? opts.httponly : defaults.httponly;\rvar samesite = opts.samesite !== undefined ? opts.samesite : defaults.samesite;\r\r// Determine cookie expiration date\r// If succesful the result will be a valid Date, otherwise it will be an invalid Date or false(ish)\rvar expDate = expires ? new Date(\r// in case expires is an integer, it should specify the number of days till the cookie expires\rtypeof expires === 'number' ? new Date().getTime() + (expires * 864e5) :\r// else expires should be either a Date object or in a format recognized by Date.parse()\rexpires\r) : 0;\r\r// Set cookie\rdocument.cookie = name.replace(/[^+#$&^`|]/g, encodeURIComponent)                // Encode cookie name\r.replace('(', '%28')\r.replace(')', '%29') +\r'=' + value.replace(/[^+#$&/:<-\\[\\]-}]/g, encodeURIComponent) +                  // Encode cookie value (RFC6265)\r(expDate && expDate.getTime() >= 0 ? ';expires=' + expDate.toUTCString() : '') + // Add expiration date\r(domain   ? ';domain=' + domain     : '') +                                      // Add domain\r(path     ? ';path='   + path       : '') +                                      // Add path\r(secure   ? ';secure'               : '') +                                      // Add secure option\r(httponly ? ';httponly'             : '') +                                      // Add httponly option\r(samesite ? ';samesite=' + samesite : '');                                       // Add samesite option\r};\r\rexports.get = function(name) {\rvar cookies = document.cookie.split(';');\r\r// Iterate all cookies\rwhile(cookies.length) {\rvar cookie = cookies.pop();\r\r// Determine separator index (\"name=value\")\rvar separatorIndex = cookie.indexOf('=');\r\r// IE<11 emits the equal sign when the cookie value is empty\rseparatorIndex = separatorIndex < 0 ? cookie.length : separatorIndex;\r\rvar cookie_name = decodeURIComponent(cookie.slice(0, separatorIndex).replace(/^\\s+/, ''));\r\r// Return cookie value if the name matches\rif (cookie_name === name) {\rreturn decodeURIComponent(cookie.slice(separatorIndex + 1));\r}\r}\r\r// Return `null` as the cookie was not found\rreturn null;\r};\r\rexports.erase = function(name, options) {\rexports.set(name, '', {\rexpires:  -1,\rdomain:   options && options.domain,\rpath:     options && options.path,\rsecure:   0,\rhttponly: 0}\r);\r};\r\rexports.all = function() {\rvar all = {};\rvar cookies = document.cookie.split(';');\r\r// Iterate all cookies\rwhile(cookies.length) {\rvar cookie = cookies.pop();\r\r// Determine separator index (\"name=value\")\rvar separatorIndex = cookie.indexOf('=');\r\r// IE<11 emits the equal sign when the cookie value is empty\rseparatorIndex = separatorIndex < 0 ? cookie.length : separatorIndex;\r\r// add the cookie name and value to the `all` object\rvar cookie_name = decodeURIComponent(cookie.slice(0, separatorIndex).replace(/^\\s+/, ''));\rall[cookie_name] = decodeURIComponent(cookie.slice(separatorIndex + 1));\r}\r\rreturn all;\r};\r","// Copyright Joyent, Inc. and other Node contributors.//// Permission is hereby granted, free of charge, to any person obtaining a// copy of this software and associated documentation files (the// \"Software\"), to deal in the Software without restriction, including// without limitation the rights to use, copy, modify, merge, publish,// distribute, sublicense, and/or sell copies of the Software, and to permit// persons to whom the Software is furnished to do so, subject to the// following conditions://// The above copyright notice and this permission notice shall be included// in all copies or substantial portions of the Software.//// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE// USE OR OTHER DEALINGS IN THE SOFTWARE.'use strict';// If obj.hasOwnProperty has been overridden, then calling// obj.hasOwnProperty(prop) will break.// See: https://github.com/joyent/node/issues/1707function hasOwnProperty(obj, prop) {return Object.prototype.hasOwnProperty.call(obj, prop);}module.exports = function(qs, sep, eq, options) {sep = sep || '&';eq = eq || '=';var obj = {};if (typeof qs !== 'string' || qs.length === 0) {return obj;}var regexp = /\\+/g;qs = qs.split(sep);var maxKeys = 1000;if (options && typeof options.maxKeys === 'number') {maxKeys = options.maxKeys;}var len = qs.length;// maxKeys <= 0 means that we should not limit keys countif (maxKeys > 0 && len > maxKeys) {len = maxKeys;}for (var i = 0; i < len; ++i) {var x = qs[i].replace(regexp, '%20'),idx = x.indexOf(eq),kstr, vstr, k, v;if (idx >= 0) {kstr = x.substr(0, idx);vstr = x.substr(idx + 1);} else {kstr = x;vstr = '';}k = decodeURIComponent(kstr);v = decodeURIComponent(vstr);if (!hasOwnProperty(obj, k)) {obj[k] = v;} else if (isArray(obj[k])) {obj[k].push(v);} else {obj[k] = [obj[k], v];}}return obj;};var isArray = Array.isArray || function (xs) {return Object.prototype.toString.call(xs) === '[object Array]';};","// Copyright Joyent, Inc. and other Node contributors.//// Permission is hereby granted, free of charge, to any person obtaining a// copy of this software and associated documentation files (the// \"Software\"), to deal in the Software without restriction, including// without limitation the rights to use, copy, modify, merge, publish,// distribute, sublicense, and/or sell copies of the Software, and to permit// persons to whom the Software is furnished to do so, subject to the// following conditions://// The above copyright notice and this permission notice shall be included// in all copies or substantial portions of the Software.//// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE// USE OR OTHER DEALINGS IN THE SOFTWARE.'use strict';var stringifyPrimitive = function(v) {switch (typeof v) {case 'string':return v;case 'boolean':return v ? 'true' : 'false';case 'number':return isFinite(v) ? v : '';default:return '';}};module.exports = function(obj, sep, eq, name) {sep = sep || '&';eq = eq || '=';if (obj === null) {obj = undefined;}if (typeof obj === 'object') {return map(objectKeys(obj), function(k) {var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;if (isArray(obj[k])) {return map(obj[k], function(v) {return ks + encodeURIComponent(stringifyPrimitive(v));}).join(sep);} else {return ks + encodeURIComponent(stringifyPrimitive(obj[k]));}}).join(sep);}if (!name) return '';return encodeURIComponent(stringifyPrimitive(name)) + eq +encodeURIComponent(stringifyPrimitive(obj));};var isArray = Array.isArray || function (xs) {return Object.prototype.toString.call(xs) === '[object Array]';};function map (xs, f) {if (xs.map) return xs.map(f);var res = [];for (var i = 0; i < xs.length; i++) {res.push(f(xs[i], i));}return res;}var objectKeys = Object.keys || function (obj) {var res = [];for (var key in obj) {if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);}return res;};","'use strict';exports.decode = exports.parse = require('./decode');exports.encode = exports.stringify = require('./encode');","/*! smooth-scroll v10.2.0 | (c) 2016 Chris Ferdinandi | MIT License | http://github.com/cferdinandi/smooth-scroll */!(function(e,t){\"function\"==typeof define&&define.amd?define([],t(e)):\"object\"==typeof exports?module.exports=t(e):e.smoothScroll=t(e)})(\"undefined\"!=typeof global?global:this.window||this.global,(function(e){\"use strict\";var t,n,o,r,a,c,l,i={},u=\"querySelector\"in document&&\"addEventListener\"in e,s={selector:\"[data-scroll]\",selectorHeader:null,speed:500,easing:\"easeInOutCubic\",offset:0,callback:function(){}},f=function(){var e={},t=!1,n=0,o=arguments.length;\"[object Boolean]\"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],n++);for(var r=function(n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t&&\"[object Object]\"===Object.prototype.toString.call(n[o])?e[o]=f(!0,e[o],n[o]):e[o]=n[o])};n<o;n++){var a=arguments[n];r(a)}return e},d=function(e){return Math.max(e.scrollHeight,e.offsetHeight,e.clientHeight)},h=function(e,t){for(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1});e&&e!==document;e=e.parentNode)if(e.matches(t))return e;return null},m=function(e){\"#\"===e.charAt(0)&&(e=e.substr(1));for(var t,n=String(e),o=n.length,r=-1,a=\"\",c=n.charCodeAt(0);++r<o;){if(t=n.charCodeAt(r),0===t)throw new InvalidCharacterError(\"Invalid character: the input contains U+0000.\");a+=t>=1&&t<=31||127==t||0===r&&t>=48&&t<=57||1===r&&t>=48&&t<=57&&45===c?\"\\\\\"+t.toString(16)+\" \":t>=128||45===t||95===t||t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122?n.charAt(r):\"\\\\\"+n.charAt(r)}return\"#\"+a},p=function(e,t){var n;return\"easeInQuad\"===e&&(n=t*t),\"easeOutQuad\"===e&&(n=t*(2-t)),\"easeInOutQuad\"===e&&(n=t<.5?2*t*t:-1+(4-2*t)*t),\"easeInCubic\"===e&&(n=t*t*t),\"easeOutCubic\"===e&&(n=--t*t*t+1),\"easeInOutCubic\"===e&&(n=t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1),\"easeInQuart\"===e&&(n=t*t*t*t),\"easeOutQuart\"===e&&(n=1- --t*t*t*t),\"easeInOutQuart\"===e&&(n=t<.5?8*t*t*t*t:1-8*--t*t*t*t),\"easeInQuint\"===e&&(n=t*t*t*t*t),\"easeOutQuint\"===e&&(n=1+--t*t*t*t*t),\"easeInOutQuint\"===e&&(n=t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t),n||t},g=function(e,t,n){var o=0;if(e.offsetParent)do o+=e.offsetTop,e=e.offsetParent;while(e);return o=Math.max(o-t-n,0),Math.min(o,v()-b())},b=function(){return Math.max(document.documentElement.clientHeight,e.innerHeight||0)},v=function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)},y=function(e){return e&&\"object\"==typeof JSON&&\"function\"==typeof JSON.parse?JSON.parse(e):{}},O=function(e){return e?d(e)+e.offsetTop:0},S=function(t,n,o){o||(t.focus(),document.activeElement.id!==t.id&&(t.setAttribute(\"tabindex\",\"-1\"),t.focus(),t.style.outline=\"none\"),e.scrollTo(0,n))};i.animateScroll=function(n,o,c){var i=y(o?o.getAttribute(\"data-options\"):null),u=f(t||s,c||{},i),d=\"[object Number]\"===Object.prototype.toString.call(n),h=d||!n.tagName?null:n;if(d||h){var m=e.pageYOffset;u.selectorHeader&&!r&&(r=document.querySelector(u.selectorHeader)),a||(a=O(r));var b,E,H=d?n:g(h,a,parseInt(u.offset,10)),I=H-m,A=v(),j=0,M=function(t,r,a){var c=e.pageYOffset;(t==r||c==r||e.innerHeight+c>=A)&&(clearInterval(a),S(n,r,d),u.callback(n,o))},w=function(){j+=16,b=j/parseInt(u.speed,10),b=b>1?1:b,E=m+I*p(u.easing,b),e.scrollTo(0,Math.floor(E)),M(E,H,l)},Q=function(){clearInterval(l),l=setInterval(w,16)};0===e.pageYOffset&&e.scrollTo(0,0),Q()}};var E=function(t){e.location.hash;n&&(n.id=n.getAttribute(\"data-scroll-id\"),i.animateScroll(n,o),n=null,o=null)},H=function(r){if(0===r.button&&!r.metaKey&&!r.ctrlKey&&(o=h(r.target,t.selector),o&&\"a\"===o.tagName.toLowerCase()&&o.hostname===e.location.hostname&&o.pathname===e.location.pathname&&/#/.test(o.href))){var a=m(o.hash);if(\"#\"===a){r.preventDefault(),n=document.body;var c=n.id?n.id:\"smooth-scroll-top\";return n.setAttribute(\"data-scroll-id\",c),n.id=\"\",void(e.location.hash.substring(1)===c?E():e.location.hash=c)}n=document.querySelector(a),n&&(n.setAttribute(\"data-scroll-id\",n.id),n.id=\"\",o.hash===e.location.hash&&(r.preventDefault(),E()))}},I=function(e){c||(c=setTimeout((function(){c=null,a=O(r)}),66))};return i.destroy=function(){t&&(document.removeEventListener(\"click\",H,!1),e.removeEventListener(\"resize\",I,!1),t=null,n=null,o=null,r=null,a=null,c=null,l=null)},i.init=function(n){u&&(i.destroy(),t=f(s,n||{}),r=t.selectorHeader?document.querySelector(t.selectorHeader):null,a=O(r),document.addEventListener(\"click\",H,!1),e.addEventListener(\"hashchange\",E,!1),r&&e.addEventListener(\"resize\",I,!1))},i}));","!function(root, factory) {\"function\" == typeof define && define.amd ? // AMD. Register as an anonymous module unless amdModuleId is setdefine([], function() {return root.svg4everybody = factory();}) : \"object\" == typeof module && module.exports ? // Node. Does not work with strict CommonJS, but// only CommonJS-like environments that support module.exports,// like Node.module.exports = factory() : root.svg4everybody = factory();}(this, function() {/*! svg4everybody v2.1.9 | github.com/jonathantneal/svg4everybody */function embed(parent, svg, target) {// if the target existsif (target) {// create a document fragment to hold the contents of the targetvar fragment = document.createDocumentFragment(), viewBox = !svg.hasAttribute(\"viewBox\") && target.getAttribute(\"viewBox\");// conditionally set the viewBox on the svgviewBox && svg.setAttribute(\"viewBox\", viewBox);// copy the contents of the clone into the fragmentfor (// clone the targetvar clone = target.cloneNode(!0); clone.childNodes.length; ) {fragment.appendChild(clone.firstChild);}// append the fragment into the svgparent.appendChild(fragment);}}function loadreadystatechange(xhr) {// listen to changes in the requestxhr.onreadystatechange = function() {// if the request is readyif (4 === xhr.readyState) {// get the cached html documentvar cachedDocument = xhr._cachedDocument;// ensure the cached html document based on the xhr responsecachedDocument || (cachedDocument = xhr._cachedDocument = document.implementation.createHTMLDocument(\"\"), cachedDocument.body.innerHTML = xhr.responseText, xhr._cachedTarget = {}), // clear the xhr embeds list and embed each itemxhr._embeds.splice(0).map(function(item) {// get the cached targetvar target = xhr._cachedTarget[item.id];// ensure the cached targettarget || (target = xhr._cachedTarget[item.id] = cachedDocument.getElementById(item.id)), // embed the target into the svgembed(item.parent, item.svg, target);});}}, // test the ready state change immediatelyxhr.onreadystatechange();}function svg4everybody(rawopts) {function oninterval() {// while the index exists in the live <use> collectionfor (// get the cached <use> indexvar index = 0; index < uses.length; ) {// get the current <use>var use = uses[index], parent = use.parentNode, svg = getSVGAncestor(parent), src = use.getAttribute(\"xlink:href\") || use.getAttribute(\"href\");if (!src && opts.attributeName && (src = use.getAttribute(opts.attributeName)), svg && src) {if (polyfill) {if (!opts.validate || opts.validate(src, svg, use)) {// remove the <use> elementparent.removeChild(use);// parse the src and get the url and idvar srcSplit = src.split(\"#\"), url = srcSplit.shift(), id = srcSplit.join(\"#\");// if the link is externalif (url.length) {// get the cached xhr requestvar xhr = requests[url];// ensure the xhr request existsxhr || (xhr = requests[url] = new XMLHttpRequest(), xhr.open(\"GET\", url), xhr.send(), xhr._embeds = []), // add the svg and id as an item to the xhr embeds listxhr._embeds.push({parent: parent,svg: svg,id: id}), // prepare the xhr ready state change eventloadreadystatechange(xhr);} else {// embed the local id into the svgembed(parent, svg, document.getElementById(id));}} else {// increase the index when the previous value was not \"valid\"++index, ++numberOfSvgUseElementsToBypass;}}} else {// increase the index when the previous value was not \"valid\"++index;}}// continue the interval(!uses.length || uses.length - numberOfSvgUseElementsToBypass > 0) && requestAnimationFrame(oninterval, 67);}var polyfill, opts = Object(rawopts), newerIEUA = /\\bTrident\\/[567]\\b|\\bMSIE (?:9|10)\\.0\\b/, webkitUA = /\\bAppleWebKit\\/(\\d+)\\b/, olderEdgeUA = /\\bEdge\\/12\\.(\\d+)\\b/, edgeUA = /\\bEdge\\/.(\\d+)\\b/, inIframe = window.top !== window.self;polyfill = \"polyfill\" in opts ? opts.polyfill : newerIEUA.test(navigator.userAgent) || (navigator.userAgent.match(olderEdgeUA) || [])[1] < 10547 || (navigator.userAgent.match(webkitUA) || [])[1] < 537 || edgeUA.test(navigator.userAgent) && inIframe;// create xhr requests objectvar requests = {}, requestAnimationFrame = window.requestAnimationFrame || setTimeout, uses = document.getElementsByTagName(\"use\"), numberOfSvgUseElementsToBypass = 0;// conditionally start the interval if the polyfill is activepolyfill && oninterval();}function getSVGAncestor(node) {for (var svg = node; \"svg\" !== svg.nodeName.toLowerCase() && (svg = svg.parentNode); ) {}return svg;}return svg4everybody;});","import svg4everybody from 'svg4everybody';require('../../components/services/object_fit_polyfill/_poly-object-fit.js');require('../../components/blocks/background-video/_background-video.js');require('../../components/groups/block-grid/_grid-reveal-more.js');require('../../components/blocks/cookie-banner/_cookie-banner.js');require('../../components/blocks/object-image-overlay/_object-image-overlay.js');require('../../components/blocks/object-shuffler/_object-shuffler.js');require('../../components/blocks/modal/_modal.js');require('../../components/blocks/newsletter-signup/_newsletter-signup.js');require('../../components/blocks/search-form/_search-form.js');require('../../components/blocks/search-result/_search-result.js');require('../../components/blocks/site-nav/_site-nav.js');require('../../components/blocks/toggle-nav/_toggle-nav.js');require('../../components/blocks/video-thumbnail/_video-thumbnail.js');require('../../components/blocks/video-trailer/_video-trailer.js');svg4everybody();","const backgroundVideo = document.querySelector('.js-background-video');if (backgroundVideo) {const backgroundVideoContainer = document.querySelector('.js-background-video-container');const stopButton = document.querySelector('.js-stop-button');const timesToLoop = 20;const videoCredit = document.querySelector('.js-background-video-credit');const imageCredit = document.querySelector('.js-background-image-credit');let playCounter = 0;const showVideoCredit = () => {if (videoCredit) {videoCredit.classList.remove('hidden');}if (imageCredit) {imageCredit.classList.add('hidden');}};const hideVideoCredit = () => {if (videoCredit) {videoCredit.classList.add('hidden');}if (imageCredit) {imageCredit.classList.remove('hidden');}};// Looping videos do not trigger ended events and manually looping// videos from JS is disabled in many browsers. The canplaythrough event here// is (approximately) mimicking an ended event for loops.backgroundVideo.addEventListener('canplaythrough', () => {if (playCounter >= timesToLoop) {backgroundVideoContainer.classList.remove('b-video-background--fade');backgroundVideo.pause();hideVideoCredit();} else {backgroundVideoContainer.classList.add('b-video-background--fade');playCounter += 1;showVideoCredit();}});const pauseHiddenVideo = () => {// offsetHeight always equals 0 if an element is hiddenif (backgroundVideoContainer.offsetHeight === 0) {backgroundVideo.pause();hideVideoCredit();} else {backgroundVideo.play();showVideoCredit();}};window.addEventListener('load', () => {pauseHiddenVideo();});window.addEventListener('resize', () => {pauseHiddenVideo();});if (stopButton) {stopButton.onclick = () => {backgroundVideo.pause();backgroundVideoContainer.classList.remove('b-video-background--fade');if (backgroundVideo.paused) {stopButton.classList.add('hidden');hideVideoCredit();}};}}","const cookieBanner = document.querySelector('.js-cookie-banner');if (cookieBanner) {const closeButton = document.querySelector('.js-cookie-banner-close');window.onload = () => {cookieBanner.classList.remove('b-cookie-banner--hidden');};closeButton.onclick = (event) => {event.preventDefault();cookieBanner.classList.add('b-cookie-banner--hidden');};}","import cookies from 'browser-cookies';const modals = document.querySelectorAll('.js-modal');function modalTracking (category, action) {window.dataLayer = window.dataLayer || [];window.dataLayer.push({event: 'myClick',category,action});}Array.from(modals, (modal) => {const modalCampaign = modal.dataset.modalCampaign;if (!modal.dataset.modalOnceOnly || !cookies.get(modalCampaign)) {document.body.appendChild(modal);modal.classList.add('b-modal--active');modalTracking(modalCampaign, 'pop-up displayed');}modal.addEventListener('click', (e) => {if (modal.dataset.modalOnceOnly) {cookies.set(modalCampaign, 'seen', { domain: modal.dataset.modalDomain, expires: 365 });}if (e.target !== modal) {const modalAction = modal.querySelector('.js-modal-action');if (e.target === modalAction) {modalTracking(modalCampaign, `clicked: ${modalAction.textContent}`);} else {modalTracking(modalCampaign, 'pop-up dismissed');modal.remove();}}});return true;});","function isEmail (t) {const e = /^([\\w-]+(?:\\.[\\w-]+)*)@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$/i;return e.test(t);}Array.from(document.querySelectorAll('.js-newsletter_form'), (signupForm) => {signupForm.addEventListener('submit', (e) => {e.preventDefault();const emailField = signupForm.querySelector('.js-emailValidation');const emailDescriptor = signupForm.querySelector('.js-newsletter__descriptor');const emailBtn = signupForm.querySelector('.js-newsletter__submit');const httpRequest = new XMLHttpRequest();let formInputs = '';if (isEmail(emailField.value)) {if (!httpRequest) {signupForm.submit();}Array.from(signupForm.querySelectorAll('input'), (ip) => {formInputs += `${ip.name}=${encodeURIComponent(ip.value)}&`;return true;});httpRequest.onreadystatechange = () => {if (httpRequest.readyState === XMLHttpRequest.DONE) {if (httpRequest.status === 200) {emailBtn.value = 'Thank you!';emailDescriptor.innerHTML ='A confirmation email will be sent to this address shortly&hellip;';signupForm.classList.remove('invalid');signupForm.classList.add('sent');} else {signupForm.submit();}}};httpRequest.open('POST', signupForm.action);httpRequest.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');httpRequest.send(formInputs);} else {emailDescriptor.innerHTML = \"That doesn't look like an email address&hellip;\";signupForm.classList.add('invalid');}});return true;});","/* eslint-disable no-underscore-dangle */(() => {const oicSeeds = Array.from(document.querySelectorAll('.js-object-image-overlay-item'));if (oicSeeds.length) {const oic = document.querySelector('.b-object-image-overlay') || document.createElement('div');document.body.appendChild(oic);oic.classList.add('b-object-image-overlay');oic.setAttribute('tabindex', 0);oic.innerHTML = `<a class=\"b-object-image-overlay__dismiss\" title=\"Close\" aria-label=\"Close\"></a><div class=\"b-object-image-overlay__items\"></div>`;const items = oic.querySelector('.b-object-image-overlay__items');oic.addItem = (index, prepend = false) => {const seed = oicSeeds[index] || oicSeeds[0];const data = seed.dataset.objectImageOverlay ?JSON.parse(seed.dataset.objectImageOverlay): null;const museumNumber = data && data.museumNumber ?`Museum number: <span itemprop=\"identifier\">${data.museumNumber}</span>`: '';const copyright = data && data.copyright ?`<br/><span itemprop=\"copyrightHolder\">${data.copyright}</span>`: '';const numberCopyright = museumNumber || copyright ?`<div class=\"b-object-image-overlay__numbercopyright\">${museumNumber}${copyright}</div>`: '';const onDisplay = data && data.onDisplay ?`<div class=\"b-object-image-overlay__location-status\"><svg role=\"img\" id="on-display" viewBox="0 0 52 52"><path d="M51.59 25.348C45.15 15.57 35.838 10 26 10S6.851 15.57.41 25.348L0 26l.41.652C6.85 36.43 16.162 42 26 42s19.149-5.57 25.59-15.348L52 26l-.41-.652zM25.5 35c-5.225 0-9.5-4.275-9.5-9.5s4.275-9.5 9.5-9.5 9.5 4.275 9.5 9.5-4.275 9.5-9.5 9.5z" fill="currentColor"/></svg>On display</div>`: '';let locationCopy = '';if (data && data.onDisplay) {locationCopy = data.displayOverride;if (!locationCopy) {const locationSite = data.locationSite ?`<div class=\"b-object-image-overlay__location-site\">${data.locationSite}</div>`: '';const locationRoom = data.locationRoom ?data.locationRoom: '';locationCopy = locationSite + locationRoom;}} else if (data && data.onDisplay !== null && !data.onDisplay) {locationCopy = data.storageOverride || 'This object is currently not on display';}const visitLink = data && data.visitUrl ?`<a class=\"b-object-image-overlay__visit\" href=\"${data.visitUrl}\" data-tracking-oic=\"visit the object\">Find out how to visit this object</a>`: '';const location = locationCopy || visitLink ?`<div class=\"b-object-image-overlay__location\">${onDisplay}<div class=\"b-object-image-overlay__location-copy\">${locationCopy}</div>${visitLink}</div>` : '';const objectUrl = seed.querySelector('a').getAttribute('href');const ctaScreen = objectUrl.length > 1 ?`<br/><a class=\"b-object-image-overlay__cta b-object-image-overlay__cta--screen\" href=\"${objectUrl}\" data-tracking-oic=\"explore the object\">Explore object in more depth</a>`: '';const ctaMobile = objectUrl.length > 1 ?`<a class=\"b-object-image-overlay__cta b-object-image-overlay__cta--mobile\" href=\"${objectUrl}\" data-tracking-oic=\"explore the object\">Explore object in more depth</a>`: '';const item = document.createElement('div');item.classList.add('b-object-image-overlay__item');item.innerHTML += `<div class=\"b-object-image-overlay__content\"><figure class=\"b-object-image-overlay__figure\"><img class=\"b-object-image-overlay__image\"itemprop=\"contentUrl\"alt=\"${seed.querySelector('img').alt}\"sizes=\"(max-width: 991px) calc(100vw - 20px),(min-width: 992px) calc(70vw - 145px),(min-width: 1200px) 710px\"srcset=\"${seed.querySelector('img').srcset}\"src=\"${seed.querySelector('img').src}\"><figcaption class=\"b-object-image-overlay__figcaption\">${numberCopyright}<div class=\"b-object-image-overlay__prevnext\"><a class=\"b-object-image-overlay__prev b-object-image-overlay__prev--disabled\" href=\"#\" title=\"Previous\" aria-label=\"Previous\" data-tracking-oic=\"previous object\"><svg role=\"img\" id="point-left" viewBox="0 0 100 100"><path fill="none" d="M-1-1h582v402H-1z"/><g><path d="M70.173 12.294L57.446.174l-47.62 50 47.62 50 12.727-12.122-36.075-37.879z" fill="currentColor" fill-rule="nonzero"/></g></svg></a><a class=\"b-object-image-overlay__next b-object-image-overlay__next--disabled\" href=\"#\" title=\"Next\" aria-label=\"Next\" data-tracking-oic=\"next object\"><svg role=\"img\" id="point-right" viewBox="0 0 100 100"><path fill="none" d="M-1-1h582v402H-1z"/><g><path d="M20 88.052l12.727 12.121 47.62-50-47.62-50L20 12.294l36.075 37.88z" fill="currentColor" fill-rule="nonzero"/></g></svg></a></div></figcaption></figure><div class=\"b-object-image-overlay__details\"><div class=\"b-object-image-overlay__caption\">${seed.querySelector('figcaption').textContent}${ctaScreen}</div>${location}${ctaMobile}</div></div>`;if (prepend) {items.insertBefore(item, items.firstElementChild);} else {items.appendChild(item);}const itemPrev = item.querySelector('.b-object-image-overlay__prev');const itemNext = item.querySelector('.b-object-image-overlay__next');if (index > 0) {itemPrev.classList.add('b-object-image-overlay__prev--enabled');}if (index < oicSeeds.length - 1) {itemNext.classList.add('b-object-image-overlay__next--enabled');}};oic.getIndex = (seed) => {const index = oicSeeds.findIndex((el) => {const match = (el === seed);return match;});return index;};oic.clipItem = (last = false) => {if (last) {items.lastElementChild.remove();} else {items.firstElementChild.remove();}};oic.advance = (rewind = false) => {if ((!rewind && oic._index < oicSeeds.length - 1)|| (rewind && oic._index > 0)) {oic.clipItem(rewind);oic.addItem(oic._index + (2 * (rewind ? -1 : 1)), rewind);oic._index += (1 * (rewind ? -1 : 1));oic.track(oic._index);}};oic.track = (index) => {window.dataLayer = window.dataLayer || [];window.dataLayer.push({event: 'OIC',object: oicSeeds[index].querySelector('figcaption').textContent.trim(),museumNumber: JSON.parse(oicSeeds[index].dataset.objectImageOverlay).museumNumber});};document.addEventListener('click', (e) => {if (e.target.closest('.js-object-image-overlay-item')) {e.preventDefault();const seed = e.target.closest('.js-object-image-overlay-item');oic._index = oic.getIndex(seed);oic.addItem(oic._index);oic.classList.add('b-object-image-overlay--active');oic.addItem(oic._index + 1);oic.addItem(oic._index - 1, true);oic.focus();oic.track(oic._index);const keyHandle = (e3) => {if (e3.key === 'ArrowLeft') {e3.preventDefault();oic.advance(true);} else if (e3.key === 'ArrowRight') {e3.preventDefault();oic.advance();}};document.addEventListener('keydown', keyHandle, false);oic.onclick = (e2) => {if (e2.target.matches('.b-object-image-overlay__item, .b-object-image-overlay__dismiss')) {e2.preventDefault();oic.classList.remove('b-object-image-overlay--active');items.innerHTML = '';oic.onclick = null;document.removeEventListener('keydown', keyHandle, false);} else if (e2.target.closest('.b-object-image-overlay__next--enabled')) {e2.preventDefault();oic.advance();} else if (e2.target.closest('.b-object-image-overlay__prev--enabled')) {e2.preventDefault();oic.advance(true);}};}}, false);}})();/* eslint-enable no-underscore-dangle */","/* eslint-disable no-underscore-dangle */(() => {const shuffler = {init: (el) => {const shufflerData = JSON.parse(el.dataset.objectShuffler);const deckTemplate = el.querySelector('.js-object-shuffler__deck');const itemTemplate = deckTemplate.firstElementChild.firstElementChild;const imgTemplate = itemTemplate.firstElementChild;const slideSize = shuffler.setSize(itemTemplate);const transitionDurationItem = parseFloat(window.getComputedStyle(itemTemplate).getPropertyValue('transition-duration'));const transitionDurationImg = parseFloat(window.getComputedStyle(imgTemplate).getPropertyValue('transition-duration'));const deckTabs = el.querySelector('.js-object-shuffler__tabs');// clone initial html markup into a full set of decksfor (let i = 1; i < shufflerData.length; i += 1) {const deck = deckTemplate.parentNode.appendChild(deckTemplate.cloneNode(true));deck.removeAttribute('active');}// populate each deck with slides of itemslet i = 0;Array.from(el.querySelectorAll('.js-object-shuffler__deck'), (deck) => {deck._props = {slideSize,itemsData: shufflerData[i].data || [],itemsDataFeed: shufflerData[i].feed,itemsIndex: 0,transitionDurationItem,transitionDurationImg};// create deck tab linkconst tabLink = deckTabs.appendChild(document.createElement('a'));tabLink.className = 'b-object-shuffler__tab-link';tabLink.innerHTML = shufflerData[i].title;tabLink.title = `filter by ${shufflerData[i].title}`;if (i === 0) { tabLink.setAttribute('active', true); }tabLink.onclick = () => {deckTabs.querySelector('[active]').removeAttribute('active');tabLink.setAttribute('active', true);el.querySelector('.js-object-shuffler__deck[active]').removeAttribute('active');deck.setAttribute('active', true);};shuffler.getData(deck).then(() => {const slide = deck.firstElementChild;// clone initial html markup for an item to make a whole slidefor (let j = 1; j < slideSize; j += 1) {slide.appendChild(itemTemplate.cloneNode(true));}// next slide transitions require an activating/deactivating pair of slides,// plus a next slide ready and waiting (= 3 slides)slide.removeAttribute('active');const activeSlide = shuffler.newSlide(deck);activeSlide.setAttribute('active', true);shuffler.newSlide(deck);});i += 1;return true;});document.addEventListener('click', (e) => {if (e.target.closest('.js-object-shuffler__more')) {e.preventDefault();shuffler.nextSlide(el.querySelector('.js-object-shuffler__deck[active]'));}}, false);},setSize: (item) => {// number of columns determined by item width * 2 rowsconst cols = Math.floor(item.parentNode.getBoundingClientRect().width / item.getBoundingClientRect().width);return cols * 2;},getData: (deck) => {// append more data from search APIif (deck._props.itemsData.length < deck._props.itemsIndex + (2 * deck._props.slideSize)) {const dataURI = deck._props.itemsDataFeed.replace(/offset=[^&]+/, `offset=${deck._props.itemsData.length}`);const promise = fetch(dataURI).then(response => response.json()).then((data) => {// deck._props.itemsData = [...deck._props.itemsData, ...data];Array.from(data.records, (record) => {const imgPath = `https://media.vam.ac.uk/media/thira/collection_images/${record.fields.primary_image_id.substring(0, 6)}/${record.fields.primary_image_id}.jpg`;deck._props.itemsData.push({img: {srcset: `${imgPath} 320w, ${imgPath} 640w, ${imgPath} 960w`,src: imgPath,alt: record.fields.title},title: record.fields.title,href: `http://d3dn4d27rggz6y.cloudfront.net/item/${record.fields.object_number}/index.html`});return true;});}).catch(status, err => console.log(status, err)); // eslint-disable-line no-consolereturn promise;}return Promise.resolve(true);},newSlide: (deck) => {// append a new slide by cloning the first and populate with new dataconst slide = deck.appendChild(deck.firstElementChild.cloneNode(true));Array.from(slide.children, (item) => {const dataIndex = deck._props.itemsIndex % deck._props.itemsData.length;const img = item.querySelector('img');item.title = deck._props.itemsData[dataIndex].title;item.href = deck._props.itemsData[dataIndex].href;img.srcset = deck._props.itemsData[dataIndex].img.srcset;img.src = deck._props.itemsData[dataIndex].img.src;img.alt = deck._props.itemsData[dataIndex].img.alt;// scatter effectconst scaler = Math.random() * 0.1;const scale = 1 + ((deck._props.itemsIndex % 2 > 0 ? 1 : -1) * scaler);// shift items towards centre to remain in shotconst slot = (deck._props.itemsIndex % deck._props.slideSize);const yDir = slot > (deck._props.slideSize / 2) - 1 ? -1 : 1;let xDir = Math.random() > 0.5 ? 1 : -1;if (slot === 0 || slot === deck._props.slideSize / 2) {// left-hand colxDir = 1;} else if (slot === (deck._props.slideSize / 2) - 1 || slot === deck._props.slideSize - 1) {// right-hand colxDir = -1;}const x = (slot % (deck._props.slideSize / 2)) * (100 / (deck._props.slideSize / 2));const y = slot < deck._props.slideSize / 2 ? 0 : 50;const aspect = 1 || img.naturalHeight / img.naturalWidth;const jitterX = xDir * scaler * 34 * aspect;const jitterY = (yDir * scaler * 74) / aspect;item.style.width = 'auto';item.style.height = `${(scale / aspect) * 50}%`;item.style.position = 'absolute';item.style.left = `${x + jitterX}%`;item.style.top = `${y + jitterY}%`;item.style.transitionDuration = `${deck._props.transitionDurationItem * scale * scale}s`;img.style.transitionDuration = `${deck._props.transitionDurationImg * scale * scale}s`;deck._props.itemsIndex += 1;return true;});shuffler.getData(deck);return slide;},nextSlide: (deck) => {shuffler.newSlide(deck);deck.firstElementChild.remove();const active = deck.querySelector('[active]');active.removeAttribute('active');active.nextSibling.setAttribute('active', true);}};let observer = null;if ('IntersectionObserver' in window) {const lazyLoad = ([e]) => {if (e.intersectionRatio > 0) {const myComponent = e.target;observer.unobserve(myComponent);if (!myComponent.initialised) {shuffler.init(myComponent);myComponent.initialised = true;}}};observer = new IntersectionObserver(lazyLoad, { rootMargin: '0px 0px 1000px 0px' });}// lazy load component if possibledocument.addEventListener('DOMContentLoaded', () => {Array.from(document.querySelectorAll('.js-object-shuffler'), (myComponent) => {try {observer.observe(myComponent);} catch (e) {shuffler.init(myComponent);}return true;});}, true);})();/* eslint-enable no-underscore-dangle */","// To draw the coloured underline beneath the input field valueconst searchInput = document.querySelector('.js-search-input');const searchUnderscore = document.querySelector('.js-search-underscore');const searchSubmit = document.querySelector('.js-search-submit');const searchClear = document.querySelector('.js-search-clear');function searchDecorate () {searchUnderscore.innerHTML = searchInput.value.replace(/\\s/g, '&nbsp;');}function searchInit () {searchSubmit.classList.add('b-search-form__submit--hidden');if (searchInput.value.length) {searchClear.classList.remove('b-search-form__clear--hidden');}}function searchActivate () {searchClear.classList.add('b-search-form__clear--hidden');if (searchInput.value.length) {searchSubmit.classList.remove('b-search-form__submit--hidden');} else {searchSubmit.classList.add('b-search-form__submit--hidden');}}function searchReset () {searchClear.classList.add('b-search-form__clear--hidden');searchInput.value = '';searchDecorate();}if (searchInput) {searchInput.focus();searchInit();searchDecorate();searchInput.addEventListener('input', searchDecorate);searchInput.addEventListener('input', searchActivate);searchClear.addEventListener('click', searchReset);}","const searchResultTextEls = document.querySelectorAll('.js-search-result-text');function searchResultTextTruncate (textEl) {textEl.innerHTML = textEl.textFull;if (textEl.scrollHeight - textEl.clientHeight > 10) {const focus = textEl.textFull.indexOf('</em>');const maxChars = (textEl.clientHeight / textEl.scrollHeight) * textEl.textFull.length;const shunt = focus - maxChars;let firstChar = 0;let lastChar = textEl.textFull.lastIndexOf(' ', maxChars);let prepend = '';if (shunt > 0) {prepend = '&hellip;';firstChar = textEl.textFull.indexOf(' ', shunt + 20) + 1;lastChar = textEl.textFull.lastIndexOf(' ', maxChars + shunt + 20);}textEl.innerHTML = `${prepend}${textEl.textFull.substring(firstChar, lastChar)}&hellip;`;}}if (searchResultTextEls.length) {Array.from(searchResultTextEls, (textEl) => {textEl.textFull = textEl.innerHTML;searchResultTextTruncate(textEl);window.addEventListener('resize', searchResultTextTruncate.bind(this, textEl), false);return true;});}","import cookies from 'browser-cookies';import smoothScroll from 'smooth-scroll';const siteNav = document.querySelector('.js-site-nav');if (siteNav) {const winHeight = document.querySelector('html').scrollHeight;const mobileNavToggle = document.querySelectorAll('.js-site-nav__mobile-toggle');const mobileNavToggleIcon = document.querySelector('.js-site-nav__mobile-toggle--icon');const mobileNavToggleText = document.querySelector('.js-site-nav__mobile-toggle-text');const mobileNavTop = document.querySelector('.js-site-nav__mobile-top');const navBag = document.querySelector('.js-site-nav-bag');const navBagTotal = document.querySelector('.js-site-nav-bag-total');const navSearchBtn = document.querySelector('.js-site-nav-search-btn');const navSearch = document.querySelector('.js-site-nav-search');const navSearchInput = document.querySelector('.js-search-input');const navSearchContent = document.querySelector('.js-search-content');const navSearchSuggest = document.querySelector('.js-search-suggest');const shopCookieBagTotal = cookies.get('basketCount');const tabletNavToggle = document.querySelector('.js-site-nav__tablet-toggle');const scrollMonitor = (callback) => {let lastScrollY = 0;let ticking = false;window.addEventListener('scroll', (e) => {e.preventDefault();lastScrollY = window.pageYOffset;if (!ticking) {window.requestAnimationFrame(() => {callback.call(this, lastScrollY);ticking = false;});}ticking = true;return true;}, false);};if (!!shopCookieBagTotal && shopCookieBagTotal > 0) {if (navBag) {navBag.classList.remove('b-site-nav__bag--hidden');}navBagTotal.innerHTML = shopCookieBagTotal < 100 ? shopCookieBagTotal : '';if (mobileNavToggleIcon) {mobileNavToggleText.classList.add('b-site-nav__mobile-toggle-text--hidden');}}if (mobileNavToggleIcon && window.getComputedStyle(mobileNavToggleIcon).display !== 'none') {const scrollReact = (scrollY) => {if (scrollY > 60) {mobileNavToggleIcon.classList.add('b-site-nav__mobile-toggle--solo');} else {mobileNavToggleIcon.classList.remove('b-site-nav__mobile-toggle--solo');}if (scrollY / winHeight > 0.35) {mobileNavTop.classList.add('b-site-nav__mobile-top--show');} else {mobileNavTop.classList.remove('b-site-nav__mobile-top--show');}};scrollMonitor(scrollReact);mobileNavTop.addEventListener('click', () => {smoothScroll.animateScroll(0);});}Array.from(mobileNavToggle, (toggle) => {toggle.addEventListener('click', (e) => {e.preventDefault();siteNav.classList.toggle('b-site-nav--open');toggle.classList.toggle('active');}, false);return true;});if (tabletNavToggle) {tabletNavToggle.addEventListener('click', (e) => {e.preventDefault();document.querySelector('.js-site-nav-more').classList.toggle('active');}, false);}let storedSearch = JSON.parse(sessionStorage.getItem('storedSearch'));if (!storedSearch || Date.parse(new Date()) > Date.parse(storedSearch.expires)) {const httpRequest = new XMLHttpRequest();httpRequest.open('GET', 'https://vam.ac.uk/services/search/suggest/promoted');httpRequest.send();httpRequest.onreadystatechange = () => {if (httpRequest.readyState === XMLHttpRequest.DONE) {if (httpRequest.status === 200) {const expires = new Date();const storedSearchResults = {expires: new Date(expires.setMinutes(expires.getMinutes() + 15)),results: httpRequest.responseText};sessionStorage.setItem('storedSearch', JSON.stringify(storedSearchResults));storedSearch = JSON.parse(sessionStorage.getItem('storedSearch'));}}};}const trackAutosuggest = () => {window.dataLayer.push({event: 'autosuggest search',eventCategory: this.tracking.eventCategory,eventAction: this.tracking.eventAction,eventLabel: this.tracking.eventLabel});};const autoSuggest = (regEx, json, term, liveResult) => {let i = null;let title = null;let imgSrc = null;JSON.parse(json).forEach((result) => {for (i = 0; i < result.suggestions.length; i += 1) {title = result.suggestions[i].title;if (result.suggestions[i].terms) {title = result.suggestions[i].terms.join('|');}if (regEx.test(title)) {navSearchContent.classList.remove('b-site-nav__core__search__container--hidden');if (result.suggestions[i].icon) {imgSrc = result.suggestions[i].icon;} else {imgSrc = 'https://s3-eu-west-1.amazonaws.com/vanda-production-assets/static/search/result_placeholder.jpg';}const suggestion = document.createElement('li');if (liveResult) { suggestion.classList.add('js-live-result'); }suggestion.innerHTML = `<div class=\"b-search-result-auto-suggest\"><a class=\"b-search-result-auto-suggest-content\"href=\"${result.suggestions[i].url}\"><img class=\"b-search-result-auto-suggest-image\"src=\"${imgSrc}\"alt=\"\"aria-hidden=\"true\"><div class=\"b-search-result-auto-suggest-text\"><div class=\"b-search-result-auto-suggest-content-type\">${result.suggestions[i].type}</div><div class=\"b-search-result-auto-suggest-title js-search-result-text\">${result.suggestions[i].title}</div></div></a></div>`;suggestion.tracking = {eventCategory: `search - autosuggest - ${result.suggestions[i].type}`,eventAction: term,eventLabel: result.suggestions[i].url};suggestion.addEventListener('click', trackAutosuggest);navSearchSuggest.appendChild(suggestion);}}});};if (navSearchBtn) {navSearchBtn.addEventListener('click', (e) => {e.preventDefault();navSearchBtn.classList.toggle('b-site-nav__core__search-btn--active');navSearch.classList.toggle('b-site-nav__core__search--active');navSearchInput.focus();navSearchInput.setSelectionRange(100, 100);}, false);}if (navSearchInput) {navSearchInput.addEventListener('input', () => {if (navSearchInput.value.length < 42) {navSearchContent.classList.add('b-site-nav__core__search__container--hidden');navSearchSuggest.innerHTML = '';if (navSearchInput.value.length) {/* title (or one of the pipe delimited terms for hot-topics)* begins with search term */let regExStart = '(^|\\\\|)';if (navSearchInput.value.length > 2) {/* any word in the title begins with search term* (all hot-topic terms get tested since pipe delimiters count as word-boundaries) */regExStart = '\\\\b';}const term = navSearchInput.value.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');const regEx = new RegExp(`${regExStart}${term}.*`, 'i');autoSuggest(regEx, storedSearch.results, navSearchInput.value, false);if (navSearchInput.value.length > 4) {const httpRequest = new XMLHttpRequest();httpRequest.open('GET',`https:/vam.ac.uk/services/search/suggest/popular?q=${encodeURI(navSearchInput.value)}`);httpRequest.send();httpRequest.onreadystatechange = () => {if (httpRequest.readyState === XMLHttpRequest.DONE) {if (httpRequest.status === 200) {Array.from(navSearchSuggest.querySelectorAll('.js-live-result'), (el) => {el.remove();return true;});autoSuggest(regEx, httpRequest.responseText, navSearchInput.value, true);}}};}}}}, false);}}","import querystring from 'querystring';const toggleNav = document.querySelector('.js-toggle-nav');if (toggleNav) {const toggleNavBtns = toggleNav.querySelectorAll('.js-toggle-nav-btn');const qs = querystring.parse(window.location.search.replace('?', ''));const qsToggleType = qs.type;Array.from(toggleNavBtns, (tog) => {const tnToggees = document.querySelectorAll(tog.dataset.toggeesSelector);tog.addEventListener('click', (e) => {e.preventDefault();const togType = tog.dataset.toggleType;toggleNav.scrollLeft = tog.offsetLeft- ((toggleNav.getBoundingClientRect().width - tog.getBoundingClientRect().width) / 2);if (!tog.preventHistoryPush) {window.history.pushState({ toggleNavType: togType }, '', `?type=${togType}`);}tog.preventHistoryPush = false;Array.from(tnToggees, (el) => {el.classList.add('s-visually-hidden');if (el.dataset.toggleType === togType) {el.classList.remove('s-visually-hidden');}return true;});Array.from(toggleNavBtns, (el) => {el.classList.remove('b-toggle-nav__button--active');return true;});tog.classList.add('b-toggle-nav__button--active');}, false);if (tog.dataset.toggleType === qsToggleType) {tog.preventHistoryPush = true;setTimeout(() => { tog.click(); }, 50);}return true;});window.addEventListener('popstate', (e) => {Array.from(document.querySelectorAll('s-visually-hidden'), (el) => {el.classList.remove('s-visually-hidden');return true;});if (e.state && e.state.toggleNavType) {Array.from(toggleNavBtns, (tog) => {if (e.state.toggleNavType === tog.dataset.toggleType) {tog.preventHistoryPush = true;tog.click();}return true;});}return true;}, false);if (!qsToggleType && typeof toggleNav.dataset.toggleTypeDefault !== 'undefined') {document.querySelector(`[data-toggle-type=${toggleNav.dataset.toggleTypeDefault}]`).click();}}","const videoThumbs = document.querySelectorAll('.js-video-thumbnail');Array.from(videoThumbs, (vidThumb) => {vidThumb.addEventListener('click', (e) => {e.preventDefault();const popup = document.createElement('div');const popupClose = document.createElement('div');popup.className = 'b-video-thumbnail__popup';popup.innerHTML = `<iframe class=\"b-video-thumbnail__popup-iframe\" width=\"90%\" height=\"90%\" src=\"${vidThumb.href}\"&playsinline=1\" frameborder=\"0\" allowfullscreen></iframe>`;popup.addEventListener('click', () => {popup.remove();});popupClose.className = 'b-video-thumbnail__popup-close';popupClose.innerHTML = `<svg role=\"img\" id="close" viewBox="0 0 100 100"><path d="M50 39.254L10.749 0 0 10.742l39.251 39.254L0 89.251 10.749 100 50 60.746 89.251 100 100 89.243 60.749 49.99 100 10.734 89.244 0 49.992 39.254z" fill="currentColor" fill-rule="evenodd"/></svg>`;popup.appendChild(popupClose);document.body.appendChild(popup);});return true;});","const videoTrailer = document.querySelector('.js-video-trailer');if (videoTrailer) {const previewImage = videoTrailer.querySelector('.js-video-trailer-preview');const popup = document.createElement('div');const videoHeightRatio = 0.5625;videoTrailer.addEventListener('click', (e) => {e.preventDefault();popup.className = 'b-video-trailer__image';popup.innerHTML = `<iframe class=\"\" width=\"100%\" height=\"100%\" src=\"${videoTrailer.href}\"&playsinline=1\" frameborder=\"0\" allowfullscreen></iframe>`;previewImage.remove();videoTrailer.appendChild(popup);popup.style.height = `${popup.offsetWidth * videoHeightRatio}px`;});window.addEventListener('resize', () => {popup.style.height = `${popup.offsetWidth * videoHeightRatio}px`;});}","const gridRevealMore = document.querySelectorAll('.js-grid-reveal-more');if (gridRevealMore.length) {Array.from(gridRevealMore, (gridBlock) => {const noOfItemsToShow = gridBlock.dataset.revealMoreCounter || 4;if (noOfItemsToShow < gridBlock.childElementCount) {const svgURL = gridBlock.dataset.iconUrl;const gridItems = [...gridBlock.children];const theme = gridBlock.dataset.revealMoreTheme || 'dark';const tracking = gridBlock.dataset.revealMoreTracking || '';let putAfter = gridBlock;if (gridBlock.dataset.revealMorePutAfter) {putAfter = document.querySelector(gridBlock.dataset.revealMorePutAfter);}// Hide all but the first `noOfItemsToShow`gridItems.slice(noOfItemsToShow).forEach(el => el.classList.add('s-visually-hidden'));// Add in a show more button at the bottomconst gridFooterMarkup = document.createElement('footer');gridFooterMarkup.setAttribute('class', `b-block-grid__footer b-block-grid__footer--${theme}`);gridFooterMarkup.innerHTML = `<a href=\"#\" data-tracking-showmorebutton=\"${tracking}\" class=\"js-reveal-more-btn\"><div class=\"b-icon-badge b-icon-badge--small b-icon-badge--${theme}\"><div class=\"b-icon-badge__icon s-themed s-themed--background-color s-themed--background-color--hover\"><svg role=\"img\"><use xlink:href=\"${svgURL}#plus\"></use></svg></div><small class=\"b-icon-badge__label\">Show more</small></div></a>`;putAfter.parentNode.insertBefore(gridFooterMarkup, putAfter.nextSibling);// Hook up an event listener on that buttongridBlock.revealMoreClicks = 0;gridFooterMarkup.addEventListener('click', (e) => {e.preventDefault();gridBlock.revealMoreClicks += 1;// Filter down to just the hidden itemsconst hiddenItems = gridItems.filter(el => el.classList.contains('s-visually-hidden'));hiddenItems.slice(0, noOfItemsToShow).forEach(el => el.classList.remove('s-visually-hidden'));// Remove the footer if we're not going to need the button after thisif (hiddenItems.length <= noOfItemsToShow) gridFooterMarkup.remove();}, false);}return true;});window.addEventListener('beforeunload', () => {const revealMoreClicks = [];Array.from(gridRevealMore, (gridBlock) => {revealMoreClicks.push(gridBlock.revealMoreClicks);return true;});history.replaceState({ revealMoreClicks }, 'revealMoreClicks');}, false);window.addEventListener('load', () => {if (history.state && history.state.revealMoreClicks) {const buttons = document.querySelectorAll('.js-reveal-more-btn');for (let r = 0; r < history.state.revealMoreClicks.length; r += 1) {let c = 0;while (c < history.state.revealMoreClicks[r]) {buttons[r].click();c += 1;}}}}, false);}","function polyfillObjectFit () {const objectFitContainer = document.querySelectorAll('.js-object-fit-container');[].forEach.call(objectFitContainer, (els) => {if (els.getElementsByTagName('img')[0]) {const imgEl = els.getElementsByTagName('img')[0];imgEl.addEventListener('load', () => {const imgUrl = imgEl.src;if (imgUrl) {els.classList.add('js-object-fit-container--fallback');els.style.backgroundImage = `url('${imgUrl}')`;}});}});}if (typeof Modernizr !== 'undefined') {Modernizr.on('objectfit', (r) => {if (!r) polyfillObjectFit();});}"]}