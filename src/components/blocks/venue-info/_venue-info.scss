@use "../../mixins";

.b-carousel {
  --template-width: 1200px;
  --item-max-width: var(--template-width);
  --items-offset: 0;
  --transition-speed: 0.5s;

  margin-bottom: 10px;
  width: 100%;

  @include mixins.breakpoints-bpMinSmall {
    margin-bottom: 20px;
  }

  &__ctrls {
    display: none;

    &--active {
      @include mixins.breakpoints-bpMinSmall {
        display: flex;
        gap: 6px;
        justify-content: flex-end;
        margin: 20px auto;
        max-width: var(--template-width);
      }
    }
  }

  &__viewport {
    margin-left: calc((var(--template-width) - 100vw) / 2);
    overflow: hidden;
    padding-left: calc((100vw - var(--template-width)) / 2);
    scroll-behavior: smooth; // necessary to prevent browser jumping instantly when focussing off-screen elements
    width: 100vw;
  }

  &__list {
    display: flex;
    gap: 10px;
    transform: translateX(var(--items-offset));
    transition: transform var(--transition-speed) ease;

    @include mixins.breakpoints-bpMinSmall {
      gap: 30px;
    }
  }

  &__item {
    display: flex;
    flex: 0 0 79%;
    flex-direction: column;
    gap: 10px;
    max-width: var(--item-max-width);
    scroll-snap-align: center;
    scroll-snap-stop: normal;

    @include mixins.breakpoints-bpMinSmall {
      flex-basis: 87%;
      gap: 20px;
    }

    &#{&}:focus {
      box-shadow: none;
    }
  }
}
